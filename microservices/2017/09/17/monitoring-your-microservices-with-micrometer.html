<!DOCTYPE html>
<!--suppress ALL -->
<html>
<head>
        <meta charset="utf-8">
    <meta name="description" content="We build innovative solutions with Java and JavaScript. To support this mission, we have several Competence Centers. From within those Competence Centers, we provide coaching to the employee and expert advice towards our customer. In order to keep in sync with the latest technologies and the latest trends, we frequently visit conferences around the globe.
">
    <meta name="keywords" content="Ordina,ORAJ,JWorks,Blog,Java,JavaScript,TypeScript,Angular,DevOps">
    <meta name="author" content="Ordina Belgium">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/img/favicons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/img/favicons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/img/favicons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/img/favicons/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-128.png" sizes="128x128" />

    

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Monitoring your microservices with Micrometer.io - Tim Ysewyn">
    <meta name="twitter:description" content="Ordina JWorks Tech Blog">
    <meta name="twitter:image" content="http://ordina-jworks.github.io/img/2017-09-17-monitoring-your-microservices-with-micrometer/post-image.jpg"/>

    <!-- Facebook Open Graph -->
    <meta property="og:url" content="http://ordina-jworks.github.io/microservices/2017/09/17/monitoring-your-microservices-with-micrometer.html"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Monitoring your microservices with Micrometer.io - Tim Ysewyn"/>
    <meta property="og:description" content="Ordina JWorks Tech Blog"/>
    <meta property="og:image" content="http://ordina-jworks.github.io/img/2017-09-17-monitoring-your-microservices-with-micrometer/post-image.jpg"/>

    
    <title>Monitoring your microservices with Micrometer.io - Tim Ysewyn &mdash; Ordina JWorks Tech Blog</title>
    

        <!-- Styles -->
    <!-- Font awesome CSS -->
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <!-- Magnific Popup -->
    <link href="/css/magnific-popup.css" rel="stylesheet">
    <!-- Owl carousel -->
    <link href="/css/owl.carousel.css" rel="stylesheet">

    <!-- CSS for this page -->

    <!-- Syntax highlighting -->
    <link href="/css/syntax.css" rel="stylesheet">


    <!--[if lte IE 8]>
    <script src="/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="/css/main.css"/>
    <!--[if lte IE 9]>
    <link rel="stylesheet" href="/css/ie9.css"/><![endif]-->
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/ie8.css"/><![endif]-->

    <!-- Custom CSS. Type your CSS code in custom.css file -->
    <link href="/css/custom.css" rel="stylesheet">

    <!-- Vertical timeline -->
	<link rel="stylesheet" href="/css/vertical-timeline/style.css"> <!-- Resource style -->

    <!-- Favicon -->
    <link rel="shortcut icon" href="#">

    <script src="https://use.typekit.net/gzh0mbm.js"></script>
    <script>
        try {
            Typekit.load({async: true});
        } catch (e) {
        }
    </script>
</head>

<body>
<div id="header-image"></div>


<!-- Page Wrapper -->
<div id="page-wrapper">

        <!-- Header -->
    <header id="header">
        <h1>
            <a href="/">
                JWorks Tech Blog
            </a>
        </h1>

        <nav>
            <a href="#menu">Menu</a>
            <form action="/search/" method="get" class="header-search search-form">
                <input type="text" id="search-box-header" name="query" placeholder="Search &hellip;">
            </form>
        </nav>
    </header>

    <!-- Menu -->
    <nav id="menu">
        <div class="inner">
            <h2>Menu</h2>
            <ul class="links">
                <li class="menu-item"><a href="/">Home</a></li>
                <li class="menu-item"><a href="/about">About Us</a></li>
                <li class="menu-item"><a href="/jobs">Jobs</a></li>
                <li class="menu-item"><a href="/launch-your-career">Career</a></li>
                <li class="menu-item"><a href="/tech-radar">Tech Radar</a></li>
                <li class="menu-item"><a href="/search">Search</a></li>
                <li class="menu-item"><a href="/contact">Contact Us</a></li>
            </ul>
            <a href="#" class="close">Close</a>
        </div>
    </nav>

    <section id="banner">
        <header>
            <div class="inner">
                

                <h2>Monitoring your microservices with Micrometer.io</h2>
                

                
                    Posted Sep 17, 2017


    in <a href="/categories/microservices/">Microservices</a>



    by
    
        <a href="/author/tim-ysewyn/">Tim Ysewyn</a>
        
    



    <br/>
    <i class="fa fa-tags"></i>
    
        <a href="/tags/microservices/">microservices</a>, 
    
        <a href="/tags/monitoring/">monitoring</a>
    

                

                

            </div>
        </header>
    </section>

    <section id="wrapper">
        <div class="inner">
            <section id="one" class="wrapper spotlight style1 post-body">
    <div class="inner" style="text-align: left;">
        <div class="content">
            <p>When we want to instrument our application, we don’t want to worry about which monitoring system we want to use, now or in the future.
Nor do we want to change a lot of code throughout our microservice because we need to change from system X to system Y.</p>

<h2 id="meet-micrometer">Meet Micrometer!</h2>

<p>So what is Micrometer you ask?</p>

<p>Basically, it comes down to this:</p>
<blockquote>
  <p>Think SLF4J, but for metrics.</p>
</blockquote>

<p><a href="https://micrometer.io" target="_blank">Micrometer</a> provides a simple facade over the instrumentation clients for the most popular monitoring systems.
It allows you to instrument your code with <strong>dimensional metrics with a vendor-neutral interface</strong> and decide on the monitoring system as a last step.
Using this interface, we can support multiple monitoring systems and switch easily to an other system with little to no hassle.
It already contains built-in support for <a href="https://prometheus.io" target="_blank"><strong>Prometheus</strong></a>, Netflix <a href="https://github.com/Netflix/atlas" target="_blank"><strong>Atlas</strong></a>, and <a href="https://www.datadoghq.com" target="_blank"><strong>Datadog</strong></a>, while <a href="https://www.influxdata.com" target="_blank">InfluxDB</a>, <a href="https://github.com/etsy/statsd" target="_blank">statsd</a>, and <a href="https://graphiteapp.org" target="_blank">Graphite</a> are on their way!</p>

<h2 id="using-micrometer-in-your-application">Using Micrometer in your application</h2>

<p>Starting with Spring Boot 2, more specifically since milestone <a href="https://spring.io/blog/2017/09/15/spring-boot-2-0-0-m4-available-now" target="_blank">M4</a>, Micrometer becomes the defacto instrumentation library that will be powering the delivery of application metrics from Spring.
Luckily for us, they also backported this functionality to Spring Boot 1.x through an additional library dependency!
Just add the <code class="highlighter-rouge">micrometer-spring-legacy</code> module together with the additional monitoring system module, and you’re good to go!</p>

<p>In Gradle:</p>

<div class="language-gradle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">compile</span> <span class="s1">'io.micrometer:micrometer-spring-legacy:latest.release'</span>
</code></pre></div></div>

<p>Or in Maven:</p>

<pre><code class="language-maven">&lt;dependency&gt;
  &lt;groupId&gt;io.micrometer&lt;/groupId&gt;
  &lt;artifactId&gt;micrometer-spring-legacy&lt;/artifactId&gt;
  &lt;version&gt;${micrometer.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

<h2 id="creating-metrics">Creating metrics</h2>

<p>There are a couple of ways to create meters.
We will cover all different types, when to use them, and furthermore how to implement them.</p>

<h3 id="dimensionstags">Dimensions/Tags</h3>

<p>A meter is uniquely identified by its name and dimensions (also called tags).
Dimensions are a way of adding dimensions to metrics, so they can be sliced, diced, aggregated and compared.
For example, we have a meter named <code class="highlighter-rouge">http.requests</code> with a tag <code class="highlighter-rouge">uri</code>.
With this meter we could see the overall amount of HTTP requests, but also have the option to drill down and see the amount of HTTP requests for a specific URI.</p>

<h3 id="counters">Counters</h3>

<p>Counters are a cumulative metric that represents a single numerical value that only ever goes up.
They are typically used to count requests served, tasks completed, errors occurred, etc.
Counters should <strong>not</strong> be used to expose current counts of items whose number can also go down, gauges are a better fit for this use case.</p>

<div class="row">
  <div class="4u -4u 6u(small) -3u(small) 8u(xsmall) -2u(xsmall)">
    <img class="image fit" alt="Counter showing how many errors have occurred" src="/img/2017-09-17-monitoring-your-microservices-with-micrometer/counter.png" />
  </div>
</div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MeterRegistry</span> <span class="n">registry</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">Counter</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="na">counter</span><span class="o">(</span><span class="s">"received.messages"</span><span class="o">);</span>
    
<span class="n">counter</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
</code></pre></div></div>

<h3 id="gauges">Gauges</h3>

<p>A gauge is a metric that represents a single numerical value that can arbitrarily go up and down.
Gauges are typically used for measured values like current memory usage, but also “counts” that can go up and down, like the number of messages in a queue.</p>

<div class="row">
  <div class="6u -3u 8u(small) -2u(small) 12u(xsmall)">
    <img class="image fit" alt="Gauge showing how many messages still need to be processed" src="/img/2017-09-17-monitoring-your-microservices-with-micrometer/gauge.png" />
  </div>
</div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MeterRegistry</span> <span class="n">registry</span> <span class="o">=</span> <span class="o">...</span>

<span class="n">AtomicInteger</span> <span class="n">currentHttpRequests</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="na">gauge</span><span class="o">(</span><span class="s">"current.http.requests"</span><span class="o">,</span> <span class="k">new</span> <span class="n">AtomicInteger</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
<span class="n">Queue</span><span class="o">&lt;</span><span class="n">Message</span><span class="o">&gt;</span> <span class="n">receivedMessages</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="na">gauge</span><span class="o">(</span><span class="s">"unprocessed.messages"</span><span class="o">,</span> <span class="k">new</span> <span class="n">ConcurrentLinkedQueue</span><span class="o">&lt;&gt;(),</span> <span class="nl">ConcurrentLinkedQueue:</span><span class="o">:</span><span class="n">size</span><span class="o">);</span>
</code></pre></div></div>

<p>Instead of returning a gauge, the <code class="highlighter-rouge">gauge</code> method will rather return the thing that is being observed.
This allows us to have quick one liners that both create the object to be observed and set up metrics around it.</p>

<h3 id="timers">Timers</h3>

<p>Timers measure both the rate that a particular piece of code is called and the distribution of its duration.
They do not record the duration until the task is complete.
These are useful for measuring short-duration latencies and the frequency of such events.</p>

<p><img src="/img/2017-09-17-monitoring-your-microservices-with-micrometer/timer.png" alt="Timer showing how long it takes to process messages" class="image fit" /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">long</span> <span class="n">startTime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">nanoTime</span><span class="o">();</span>

<span class="n">MeterRegistry</span> <span class="n">registry</span> <span class="o">=</span> <span class="o">...</span>

<span class="n">Timer</span> <span class="n">timer</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="na">timer</span><span class="o">(</span><span class="s">"timer"</span><span class="o">);</span>
    
<span class="c1">// this will record how long it took us to get a registry and create a new timer</span>
<span class="n">timer</span><span class="o">.</span><span class="na">record</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">nanoTime</span><span class="o">()</span> <span class="o">-</span> <span class="n">startTime</span><span class="o">,</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">NANOSECONDS</span><span class="o">);</span>
</code></pre></div></div>

<p>Or we could just annotate a method with <code class="highlighter-rouge">@Timed</code> and let Micrometer do the rest for us</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Timed</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomethingWhichShouldBeFastButIsActuallyReallySlow</span><span class="o">()</span> <span class="o">{</span>

<span class="o">}</span>
</code></pre></div></div>

<h3 id="long-task-timers">Long task timers</h3>

<p>The long task timer is a special type of timer that lets you measure time while an event being measured is <strong>still running</strong>.
To time a long running task we use the same <code class="highlighter-rouge">@Timed</code> annotation, but we set the property <code class="highlighter-rouge">longTask</code> to <code class="highlighter-rouge">true</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Timed</span><span class="o">(</span><span class="n">longTask</span> <span class="o">=</span> <span class="kc">true</span><span class="o">)</span>
<span class="nd">@Scheduled</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomethingWhichCanTakeALoooooongTime</span><span class="o">()</span> <span class="o">{</span>

<span class="o">}</span>
</code></pre></div></div>

<p>It is up to the application framework to make something happen with <code class="highlighter-rouge">@Timed</code>.
In case it isn’t able to do that, you can still use the long task timer.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MeterRegistry</span> <span class="n">registry</span> <span class="o">=</span> <span class="o">...</span>

<span class="n">LongTaskTimer</span> <span class="n">looooongTimer</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="na">more</span><span class="o">().</span><span class="na">longTaskTimer</span><span class="o">(</span><span class="s">"sync"</span><span class="o">);</span>

<span class="kd">private</span> <span class="kt">void</span> <span class="nf">doSomethingWhichCanTakeALoooooongTime</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">looooongTimer</span><span class="o">.</span><span class="na">record</span><span class="o">(()</span> <span class="o">=&gt;</span> <span class="o">{</span>
        <span class="c1">// actually do some synchronization which takes a loooooong time</span>
    <span class="o">});</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="distribution-summaries">Distribution summaries</h3>

<p>A distribution summary is used to track the distribution of events.
It is similar to a timer but more general in that the size does not have to be a period of time.
Usually it is used to sample observations of things like response sizes.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MeterRegistry</span> <span class="n">registry</span> <span class="o">=</span> <span class="o">...</span>

<span class="n">DistributionSummary</span> <span class="n">summary</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="na">summary</span><span class="o">(</span><span class="s">"response.size"</span><span class="o">);</span>
</code></pre></div></div>

<h2 id="summary-statistics">Summary statistics</h2>

<p>Micrometer provides quantile statistics computed at <strong>instrumentation time</strong> and histograms for use in calculating quantile statistics at <strong>query time</strong> for monitoring systems that support this.</p>

<h3 id="quantiles">Quantiles</h3>

<p>Quantiles are cutpoints dividing the range of a probability distribution into contiguous intervals with equal probabilities, or dividing the observations in a sample in the same way.
Timers and distribution summaries can be enriched with quantiles computed in your app prior to shipping to a monitoring backend.
Depending on the size of your deployments, computing quantiles at instrumentation time may or may not be useful.
It is <strong>not possible</strong> to aggregate quantiles across a cluster.</p>

<p>Four quantile algorithms are provided out of the box with different tradeoffs:</p>

<ul>
  <li><code class="highlighter-rouge">WindowSketchQuantiles</code> - The importance of an observation is decayed as it ages.
This is the most computationally costly algorithm.</li>
  <li><code class="highlighter-rouge">Frugal2UQuantiles</code> - Successive approximation algorithm that converges towards the true quantile with enough observations.
This is the least costly algorithm, but exhibits a higher error ratio in early observations.</li>
  <li><code class="highlighter-rouge">CKMSQuantiles</code> - Lets you trade computational complexity for error ratio on a per-quantile basis.
Often, it is desirable for higher quantiles to have a lower error ratio (e.g. 0.99 at 1% error vs. 0.5 at 5% error).
This algorithm is still more computationally expensive than Frugal.</li>
  <li><code class="highlighter-rouge">GKQuantiles</code> - Lets you trade computational complexity for error ratio across all quantiles.
This is used inside of WindowSketchQuantiles.</li>
</ul>

<h3 id="histograms">Histograms</h3>

<p>A histogram measures the statistical distribution of values in a stream of data.
It samples observations, like HTTP request durations or database transaction durations, and counts them in buckets.
They can be used to compute quantiles or other summary statistics like min, max, average or median.
Because histograms buckets are exposed as individual counters to the monitoring backend, it is possible to aggregate observations across a distributed system and compute summary statistics like quantiles for an entire cluster.
Naturally, the error rate of the computed summary statistic will be higher because of the lossy nature of putting data in buckets.</p>

<h2 id="binders">Binders</h2>

<p>Binders define a collection of meters and are used to encapsulate best practices for monitoring certain types of objects or a part of the application’s environment.
For example, the <code class="highlighter-rouge">JvmThreadMetrics</code> binder which gauges thread peak, number of daemon threads, and live threads.</p>

<p>Micrometer ships with a basic set of binders:</p>
<ul>
  <li>JVM and system monitoring</li>
  <li>Cache monitoring</li>
  <li><code class="highlighter-rouge">Executor</code> and <code class="highlighter-rouge">ExecutorService</code> monitoring</li>
  <li>Logback monitoring</li>
</ul>

        </div>
    </div>
    <div class="share-page" >
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://ordina-jworks.github.io/microservices/2017/09/17/monitoring-your-microservices-with-micrometer.html&title=Monitoring your microservices with Micrometer.io&source=https://ordina-jworks.github.io" rel="nofollow" target="_blank" title="Share on LinkedIN">
            <img src="/img/social-media/LinkedIn.png"
                 alt="Share on LinkedIn" />
        </a>
        <a href="https://twitter.com/intent/tweet?text=Monitoring your microservices with Micrometer.io&url=https://ordina-jworks.github.io/microservices/2017/09/17/monitoring-your-microservices-with-micrometer.html&via=lifeatordinabe&related=lifeatordinabe" rel="nofollow" target="_blank" title="Share on Twitter">
            <img src="/img/social-media/Twitter.png"
                 alt="Share on Twitter" />
        </a>
        <a href="https://facebook.com/sharer.php?u=https://ordina-jworks.github.io/microservices/2017/09/17/monitoring-your-microservices-with-micrometer.html" rel="nofollow" target="_blank" title="Share on Facebook">
            <img src="/img/social-media/Facebook.png"
                 alt="Share on Facebook" />
        </a>
    </div>
        
</section>


<section id="two" class="wrapper alt spotlight style2">
    
    <div class="inner">
        <a href="/author/tim-ysewyn/" class="image spotlight-image" title="">
            <img src="/img/author/tim-ysewyn.png"
                 alt="" class="p-image"/>
        </a>

        <div class="content">
            
            <p><p>Tim is a Principal Consultant at Ordina, where he helps fellow developers discovering top-notch technologies and methodologies as a Competence Leader for API &amp; Microservices. You can also find him working on various parts of the <a href="https://www.spring.io" target="_blank">Spring</a> framework or helping out at <a href="https://ng-be.org" target="_blank">NG-BE</a>. When you can't get a hold of him, he will probably be under water since he is also an underwater photographer &amp; rescue diver.</p>
</p>
            
        </div>
    </div>
    
</section>

        </div>
    </section>
</div>



<footer>
    <div class="contact">
        <div class="address">
            <div class="icon"><i class="fa fa-fw fa-home"></i></div>
            <div class="text">Ordina Belgium<br/>Blarenberglaan 3B,<br/>2800 Mechelen, Belgium</div>
        </div>
        <div class="phone">
            <div class="icon"><i class="fa fa-fw fa-phone"></i></div>
            <div class="text"><a href="tel:003215295858">+32 15 29 58 58</a></div>
        </div>
        <div class="email">
            <div class="icon"><i class="fa fa-fw fa-envelope-o"></i></div>
            <div class="text"><a href="mailto:jworks@ordina.be">jworks@ordina.be</a></div>
        </div>
    </div>
    <ul class="social">
        <li>
            <a href="https://twitter.com/lifeatordinabe" target="_blank">
                <i class="fa fa-fw fa-twitter"></i><span>Twitter</span>
            </a>
        </li>
        <li>
            <a href="https://www.facebook.com/lifeatordinabe" target="_blank">
                <i class=" fa fa-fw fa-facebook"></i><span>Facebook</span>
            </a>
        </li>
        <li>
            <a href="https://www.linkedin.com/company/ordina-belgium" target="_blank">
                <i class=" fa fa-fw fa-linkedin"></i><span>LinkedIn</span>
            </a>
        </li>
        <li>
            <a href="https://plus.google.com/113222464071666722451" target="_blank">
                <i class=" fa fa-fw fa-google-plus"></i><span>Google+</span>
            </a>
        </li>
        <li>
            <a href="/youtube" target="_blank">
                <i class=" fa fa-fw fa-youtube"></i><span>YouTube</span>
            </a>
        </li>
        <li>
            <a href="/github" target="_blank">
                <i class=" fa fa-fw fa-github"></i><span>GitHub</span>
            </a>
        </li>
        <li>
            <a href="/feed.xml" target="_blank">
                <i class=" fa fa-fw fa-rss"></i><span>RSS Feed</span>
            </a>
        </li>
    </ul>
    <div class="copyright">
        &copy; 2018 Ordina JWorks. All rights reserved.
        <br /> Disclaimer: Opinions expressed on this blog reflect the writer's views and not the position of Ordina
        <img id="analyticsImg" src="" width="1" height="1" style="border: 0px"/>
    </div>
</footer>
<!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/jquery.pin.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]>
<script src="/js/ie/respond.min.js"></script><![endif]-->


<script>
    var imageHref = "/img/2017-09-17-monitoring-your-microservices-with-micrometer/post-image.jpg";
    $(function () {
        $('body').addClass('toggle');
    });
</script>


<script src="/js/main.js"></script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o);
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-70040502-1', 'auto');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
    window.addEventListener('load', function () {
        if (window.ga && ga.create) {
            console.log('GA loaded correctly');
        } else {
            console.log('GA is blocked or failed to load - tracking manually...')
            document.getElementById('analyticsImg').src = 'https://jworks-techblog-analytics.cfapps.io/collect?title=' + document.title;
        }
    }, false);
</script>

<!-- Vertical timeline -->
<script src="/js/vertical-timeline/modernizr.js"></script>
<script src="/js/vertical-timeline/main.js"></script>


</body>
</html>
