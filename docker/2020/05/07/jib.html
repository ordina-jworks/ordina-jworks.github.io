<!DOCTYPE html>
<!--suppress ALL -->
<html>
<head>
        <meta charset="utf-8">
    <meta name="description" content="We build innovative solutions with Java and JavaScript. To support this mission, we have several Competence Centers. From within those Competence Centers, we provide coaching to the employee and expert advice towards our customer. In order to keep in sync with the latest technologies and the latest trends, we frequently visit conferences around the globe.
">
    <meta name="keywords" content="Ordina,ORAJ,JWorks,Blog,Java,JavaScript,TypeScript,Angular,DevOps">
    <meta name="author" content="Ordina Belgium">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/img/favicons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/img/favicons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/img/favicons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/img/favicons/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-128.png" sizes="128x128" />

    

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Jib: The next big thing to build your Docker images - Yolan Vloeberghs">
    <meta name="twitter:description" content="Ordina JWorks Tech Blog">
    <meta name="twitter:image" content="http://ordina-jworks.github.io/img/2020-03-30-jib/jib-logo.jpg"/>

    <!-- Facebook Open Graph -->
    <meta property="og:url" content="http://ordina-jworks.github.io/docker/2020/05/07/jib.html"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Jib: The next big thing to build your Docker images - Yolan Vloeberghs"/>
    <meta property="og:description" content="Ordina JWorks Tech Blog"/>
    <meta property="og:image" content="http://ordina-jworks.github.io/img/2020-03-30-jib/jib-logo.jpg"/>

    
    <title>Jib: The next big thing to build your Docker images - Yolan Vloeberghs &mdash; Ordina JWorks Tech Blog</title>
    

        <!-- Styles -->
    <!-- Font awesome CSS -->
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <!-- Magnific Popup -->
    <link href="/css/magnific-popup.css" rel="stylesheet">
    <!-- Owl carousel -->
    <link href="/css/owl.carousel.css" rel="stylesheet">

    <!-- CSS for this page -->

    <!-- Syntax highlighting -->
    <link href="/css/syntax.css" rel="stylesheet">


    <!--[if lte IE 8]>
    <script src="/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="/css/main.css"/>
    <!--[if lte IE 9]>
    <link rel="stylesheet" href="/css/ie9.css"/><![endif]-->
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/ie8.css"/><![endif]-->

    <!-- Custom CSS. Type your CSS code in custom.css file -->
    <link href="/css/custom.css" rel="stylesheet">

    <!-- Vertical timeline -->
	<link rel="stylesheet" href="/css/vertical-timeline/style.css"> <!-- Resource style -->

    <!-- Favicon -->
    <link rel="shortcut icon" href="#">

    <script src="https://use.typekit.net/gzh0mbm.js"></script>
    <script>
        try {
            Typekit.load({async: true});
        } catch (e) {
        }
    </script>
</head>

<body>
<div id="header-image"></div>


<!-- Page Wrapper -->
<div id="page-wrapper">

        <!-- Header -->
    <header id="header">
        <h1>
            <a href="/">
                JWorks Tech Blog
            </a>
        </h1>

        <nav>
            <a href="#menu">Menu</a>
            <form action="/search/" method="get" class="header-search search-form">
                <input type="text" id="search-box-header" name="query" placeholder="Search &hellip;">
            </form>
        </nav>
    </header>

    <!-- Menu -->
    <nav id="menu">
        <div class="inner">
            <h2>Menu</h2>
            <ul class="links">
                <li class="menu-item"><a href="/">Home</a></li>
                <li class="menu-item"><a href="/about">About Us</a></li>
                <li class="menu-item"><a href="/jobs">Jobs</a></li>
                <li class="menu-item"><a href="/launch-your-career">Career</a></li>
                <li class="menu-item"><a href="/tech-radar">Tech Radar</a></li>
                <li class="menu-item"><a href="/search">Search</a></li>
                <li class="menu-item"><a href="/contact">Contact Us</a></li>
            </ul>
            <a href="#" class="close">Close</a>
        </div>
    </nav>

    <section id="banner">
        <header>
            <div class="inner">
                

                <h2>Jib: The next big thing to build your Docker images</h2>
                

                
                    Posted May 7, 2020


    in <a href="/categories/docker/">Docker</a>



    by
    
        <a href="/author/yolan-vloeberghs/">Yolan Vloeberghs</a>
        
    



    <br/>
    <i class="fa fa-tags"></i>
    
        <a href="/tags/jib/">JIB</a>, 
    
        <a href="/tags/docker/">Docker</a>, 
    
        <a href="/tags/kubernetes/">Kubernetes</a>, 
    
        <a href="/tags/containerization/">Containerization</a>
    

                

                

            </div>
        </header>
    </section>

    <section id="wrapper">
        <div class="inner">
            <section id="one" class="wrapper spotlight style1 post-body">
    <div class="inner" style="text-align: left;">
        <div class="content">
            <h1 id="table-of-contents">Table of contents</h1>
<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#jib">Jib</a></li>
  <li><a href="#usage">Usage</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
  <li><a href="#useful-links">Useful links</a></li>
</ul>

<h1 id="introduction">Introduction</h1>

<p>Nowadays, you hear a lot about the term ‘containerization’ and the benefits of this technology.
Containerization has become a very popular thing in software and cloud development as more users and companies start to adopt it. 
Because of this, user experience and usability also have to grow. 
In other words, how do we make the creation of a Docker image as easy as possible for a developer? After all, we do love it when things just <strong>work</strong>.</p>

<p>The process of creating a Docker image has always evolved in the years to be as simple as possible. 
With the amount of resources and information we have today, it shouldn’t be hard to write your own Dockerfile. 
You can also use a Maven / Gradle plugin which interacts with your Docker CLI if you want to avoid writing Dockerfiles.</p>

<p>But what if it could be even more simpler?</p>
<h1 id="jib">Jib</h1>
<p>Enter Jib. 
Jib is an image builder plugin released in 2018 and made and maintained by Google. 
To explain what it does, I will use a quote from the <a href="https://cloud.google.com/blog/products/gcp/introducing-jib-build-java-docker-images-better" target="_blank" rel="noopener noreferrer">official Google Blog announcement</a>:</p>

<blockquote>
  <p>Jib is a fast and simple container image builder that handles all the steps of packaging your application into a container image. It does not require you to write a Dockerfile or have docker installed, and it is directly integrated into Maven and Gradle.</p>
</blockquote>

<p>This seems like a big thing, doesn’t it? Overall, the biggest benefits of Jib are:</p>
<ul>
  <li>No need for a Docker daemon anymore in your environment;</li>
  <li>No seperate docker build / push commands in your pipeline;</li>
  <li>Supports both Maven and Gradle projects;</li>
  <li>Dockerizes your application into multiple layers and separates your dependencies from your own classes to significantly reduce build time (in contrast to building fat JARs);</li>
  <li>Jib only builds the changed layers, so unless you add / update dependencies, it won’t rebuild the dependency layer!</li>
</ul>

<h1 id="usage">Usage</h1>
<p>Using the Jib plugin is pretty easy and straight-forward as it was designed to be so. 
All properties and settings work perfectly out of the box. 
This means that I can just add the plugin to my build tool and it will be able to create a Docker image without further ado. 
However, if your container setup is more complex, Jib allows you to override every property that best suits your needs. 
You no longer need a Dockerfile in your project, Jib is perfectly capable of handling your image setup on its own.</p>

<p>You can try the Jib plugin by either using your current Java project or by cloning the <a href="#https://github.com/spring-projects/spring-petclinic" target="_blank" rel="noopener noreferrer">Spring Pet Clinic Sample Application</a>.</p>

<p>Once you have your project open in your IDE, open the <code class="language-plaintext highlighter-rouge">pom.xml</code> (Maven) or <code class="language-plaintext highlighter-rouge">build.gradle</code> (Gradle) file to start adding the Jib plugin. 
Don’t forget to build a fresh JAR!</p>

<h3 id="gradle">Gradle</h3>
<p>To use <a href="https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin" target="_blank" rel="noopener noreferrer">Jib in Gradle</a>, you first need to add the plugin to your <code class="language-plaintext highlighter-rouge">build.gradle</code> file. You can do this in the <code class="language-plaintext highlighter-rouge">plugins</code> block.</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plugins</span> <span class="o">{</span>
  <span class="o">...</span>
  <span class="n">id</span> <span class="s1">'com.google.cloud.tools.jib'</span> <span class="n">version</span> <span class="s1">'2.1.0'</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Afterwards, you can add your Jib plugin configuration to the file, with the settings that you prefer.</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">jib</span> <span class="o">{</span>
  <span class="n">to</span> <span class="o">{</span>
    <span class="n">image</span> <span class="s1">'yolanv/jib-demo:gradle'</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="o">---</span>

<span class="n">jib</span><span class="o">.</span><span class="na">to</span><span class="o">.</span><span class="na">image</span> <span class="o">=</span> <span class="s1">'yolanv/jib-demo:gradle'</span>
</code></pre></div></div>
<p style="text-align: center; font-style: italic;">Two ways of specifying your Jib configuration in Gradle</p>

<p>Now you can run the following command:</p>

<p><code class="language-plaintext highlighter-rouge">gradle jib</code></p>

<h3 id="maven">Maven</h3>
<p>With <a href="https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin" target="_blank" rel="noopener noreferrer">Jib for Maven</a>, the configuration is more or less the same as in Gradle, except that you need to write it in XML.</p>

<p>In Maven, you have to add your preferred configuration with the plugin declaration. 
Add the following in the <code class="language-plaintext highlighter-rouge">plugins</code> element:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;plugin&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.google.cloud.tools<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>jib-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>2.1.0<span class="nt">&lt;/version&gt;</span>
  <span class="nt">&lt;configuration&gt;</span>
    <span class="nt">&lt;to&gt;</span>
      <span class="nt">&lt;image&gt;</span>yolanv/jib-demo:maven<span class="nt">&lt;/image&gt;</span>
    <span class="nt">&lt;/to&gt;</span>
  <span class="nt">&lt;/configuration&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</code></pre></div></div>

<p>You can trigger the Jib plugin with the following command:</p>

<p><code class="language-plaintext highlighter-rouge">mvn compile jib:build</code></p>

<hr />
<p>The plugin configuration tells Jib that, whenever Jib gets triggered, it should build an image named <code class="language-plaintext highlighter-rouge">yolanv/jib-demo</code> with the corresponding image tag.
Running the command will trigger Jib to start building and pushing your Docker image.</p>

<h1 id="conclusion">Conclusion</h1>
<p>In a short time, we were able to successfully build a Docker image and push it to our registry. 
It requires very little configuration (depending on your setup ofcourse), it only builds the changed layers and we don’t even need to have a Docker daemon installed!</p>

<p style="text-align: center; font-style: italic;"><img alt="Docker repository" src="/img/2020-03-30-jib/docker-repo.png" class="image fit" style="margin:0px auto; max-width: 750px;" /></p>
<p style="text-align: center; font-style: italic;">Docker Hub repository with two pushed tags done with Jib</p>

<p>Personally, I think this is a very powerful plugin that will be used in new and old projects. 
While I think that it is important for people to understand how Docker works and how Docker images are built, Jib still gives a lot of advantages over using regular Dockerfiles.</p>

<h1 id="useful-links">Useful links</h1>
<ul>
  <li><a href="https://github.com/GoogleContainerTools/jib" target="_blank" rel="noopener noreferrer">Jib Repository</a></li>
  <li><a href="https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin" target="_blank" rel="noopener noreferrer">Jib Maven Documentation</a></li>
  <li><a href="https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin" target="_blank" rel="noopener noreferrer">Jib Gradle Documentation</a></li>
</ul>

        </div>
    </div>
    <div class="share-page" >
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://ordina-jworks.github.io/docker/2020/05/07/jib.html&title=Jib: The next big thing to build your Docker images&source=https://ordina-jworks.github.io" rel="nofollow" target="_blank" title="Share on LinkedIN">
            <img src="/img/social-media/LinkedIn.png"
                 alt="Share on LinkedIn" />
        </a>
        <a href="https://twitter.com/intent/tweet?text=Jib: The next big thing to build your Docker images&url=https://ordina-jworks.github.io/docker/2020/05/07/jib.html&via=lifeatordinabe&related=lifeatordinabe" rel="nofollow" target="_blank" title="Share on Twitter">
            <img src="/img/social-media/Twitter.png"
                 alt="Share on Twitter" />
        </a>
        <a href="https://facebook.com/sharer.php?u=https://ordina-jworks.github.io/docker/2020/05/07/jib.html" rel="nofollow" target="_blank" title="Share on Facebook">
            <img src="/img/social-media/Facebook.png"
                 alt="Share on Facebook" />
        </a>
    </div>
        
</section>


<section id="two" class="wrapper alt spotlight style2">
    
    <div class="inner">
        <a href="/author/yolan-vloeberghs/" class="image spotlight-image" title="">
            <img src="/img/author/yolan-vloeberghs.jpg"
                 alt="" class="p-image"/>
        </a>

        <div class="content">
            
            <p><p>Yolan Vloeberghs is a Java Consultant with a keen passion for Spring Boot projects and Java technology. He loves to play around with various technologies and frameworks and is very passionated and eager to learn about everything related to cloud development.</p>
</p>
            
        </div>
    </div>
    
</section>

        </div>
    </section>
</div>



<footer>
    <div class="contact">
        <div class="address">
            <div class="icon"><i class="fa fa-fw fa-home"></i></div>
            <div class="text">Ordina Belgium<br/>Blarenberglaan 3B,<br/>2800 Mechelen, Belgium</div>
        </div>
        <div class="phone">
            <div class="icon"><i class="fa fa-fw fa-phone"></i></div>
            <div class="text"><a href="tel:003215295858">+32 15 29 58 58</a></div>
        </div>
        <div class="email">
            <div class="icon"><i class="fa fa-fw fa-envelope-o"></i></div>
            <div class="text"><a href="mailto:jworks@ordina.be">jworks@ordina.be</a></div>
        </div>
    </div>
    <ul class="social">
        <li>
            <a href="https://twitter.com/lifeatordinabe" target="_blank">
                <i class="fa fa-fw fa-twitter"></i><span>Twitter</span>
            </a>
        </li>
        <li>
            <a href="https://www.facebook.com/lifeatordinabe" target="_blank">
                <i class=" fa fa-fw fa-facebook"></i><span>Facebook</span>
            </a>
        </li>
        <li>
            <a href="https://www.linkedin.com/company/ordinabelgium" target="_blank">
                <i class=" fa fa-fw fa-linkedin"></i><span>LinkedIn</span>
            </a>
        </li>
        <li>
            <a href="/youtube" target="_blank">
                <i class=" fa fa-fw fa-youtube"></i><span>YouTube</span>
            </a>
        </li>
        <li>
            <a href="/github" target="_blank">
                <i class=" fa fa-fw fa-github"></i><span>GitHub</span>
            </a>
        </li>
        <li>
            <a href="/feed.xml" target="_blank">
                <i class=" fa fa-fw fa-rss"></i><span>RSS Feed</span>
            </a>
        </li>
    </ul>
    <div class="copyright">
        &copy; 2020 Ordina JWorks. All rights reserved.
        <br /> Disclaimer: Opinions expressed on this blog reflect the writer's views and not the position of Ordina
        <img id="analyticsImg" src="" width="1" height="1" style="border: 0px"/>
    </div>
</footer>
<!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/jquery.pin.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]>
<script src="/js/ie/respond.min.js"></script><![endif]-->


<script>
    var imageHref = "/img/2020-03-30-jib/jib-logo.jpg";
    $(function () {
        $('body').addClass('toggle');
    });
</script>


<script src="/js/main.js"></script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o);
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-70040502-1', 'auto');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
    window.addEventListener('load', function () {
        if (window.ga && ga.create) {
            console.log('GA loaded correctly');
        } else {
            console.log('GA is blocked or failed to load - tracking manually...')
            document.getElementById('analyticsImg').src = 'https://jworks-techblog-analytics.cfapps.io/collect?title=' + document.title;
        }
    }, false);
</script>

<!-- Vertical timeline -->
<script src="/js/vertical-timeline/modernizr.js"></script>
<script src="/js/vertical-timeline/main.js"></script>


</body>
</html>
