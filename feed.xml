<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.2">Jekyll</generator><link href="https://ordina-jworks.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://ordina-jworks.github.io/" rel="alternate" type="text/html" /><updated>2022-06-14T18:06:20+00:00</updated><id>https://ordina-jworks.github.io/feed.xml</id><title type="html">Ordina JWorks Tech Blog</title><subtitle>We build innovative solutions with Java and JavaScript. To support this mission, we have several Competence Centers. From within those Competence Centers, we provide coaching to the employee and expert advice towards our customer. In order to keep in sync with the latest technologies and the latest trends, we frequently visit conferences around the globe.
</subtitle><entry><title type="html">RDS IAM Authentication with Spring Boot - secure password-less database authentication on AWS</title><link href="https://ordina-jworks.github.io/cloud/2022/06/13/aws-rds-iam-authentication-spring-boot.html" rel="alternate" type="text/html" title="RDS IAM Authentication with Spring Boot - secure password-less database authentication on AWS" /><published>2022-06-13T00:00:00+00:00</published><updated>2022-06-13T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/cloud/2022/06/13/aws-rds-iam-authentication-spring-boot</id><content type="html" xml:base="https://ordina-jworks.github.io/cloud/2022/06/13/aws-rds-iam-authentication-spring-boot.html">&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#introduction&quot;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#database-role-grant&quot;&gt;Database role grant&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#aws&quot;&gt;AWS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#spring-boot&quot;&gt;Spring Boot&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Database authentication in Spring Boot has traditionally always been very simple to implement and configure to your needs.
Whether it is with a custom data source, or just using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spring.datasource&lt;/code&gt; properties, it was always pretty straightforward to get a working database connection.
Handling the sensitive data such as database passwords in different environments can be tricky, but nowadays, there are enough solutions to tackle this problem in a secure and discrete way.&lt;/p&gt;

&lt;p&gt;Fortunately, if you are deploying your application on the AWS cloud, you don’t have to struggle passwords anymore or need a fancy tool, because you simply don’t need a password.
You are now able to establish a database connection by authenticating through IAM. 
Note that this feature only works for MariaDB, MySQL and PostgreSQL.&lt;/p&gt;

&lt;p&gt;The feature works with “authentication tokens”, which is a string of characters that is unique and generated by Amazon RDS.
One authentication token has a lifespan of 15 minutes and needs to be re-generated before or after it expires to keep the connection alive.&lt;/p&gt;

&lt;p&gt;This very useful mechanic can deeply strengthen the security of your application by erasing the need of a password and therefore, destroying another opportunity to get your sensitive data in the wrong hands.&lt;/p&gt;

&lt;p&gt;Note that you need to explicitly &lt;a href=&quot;https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Enabling.html&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;enable IAM authentication&lt;/a&gt; before you can use this feature.&lt;/p&gt;

&lt;h2 id=&quot;database-role-grant&quot;&gt;Database role grant&lt;/h2&gt;
&lt;p&gt;Enabling IAM authentication alone is not enough.
When you create a new database user for your application, you also need to grant the rights to the database user to fetch an authentication token to use in the authentication process.&lt;/p&gt;

&lt;p&gt;For Postgres, this can be done with the following SQL query:&lt;/p&gt;
&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;databaseuser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LOGIN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;GRANT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rds_iam&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;databaseuser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For MySQL:&lt;/p&gt;
&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;databaseuser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IDENTIFIED&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AWSAuthenticationPlugin&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'RDS'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;aws&quot;&gt;AWS&lt;/h2&gt;
&lt;p&gt;The application can only fetch a new authentication token if it has the right to do so.
Since we are running our application on an AWS environment, it only makes sense to make use of IAM roles.&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
             &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rds-db:connect&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
             &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;arn:aws:rds-db:region:account-id:dbuser:DbiResourceId/db-user-name&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you are running your application on an EC2 instance, make sure that your EC2 instance has an IAM role attached to it which explicitly gives access to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rds-db:connect&lt;/code&gt; action.
On EKS (Kubernetes for AWS), you can use &lt;a href=&quot;https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;IAM roles for service accounts&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;spring-boot&quot;&gt;Spring Boot&lt;/h2&gt;
&lt;p&gt;You will only need the &lt;a href=&quot;https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-rds&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;AWS SDK for RDS&lt;/a&gt; to fetch an authentication token, which you can add as a dependency in Maven by adding the following code block:&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.amazonaws&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;aws-java-sdk-rds&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.12.238&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To achieve the token fetching in Spring Boot, I created a custom &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HikariDataSource&lt;/code&gt; which overrides the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getPassword()&lt;/code&gt; method and used &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RdsIamAuthTokenGenerator&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GetIamAuthTokenRequest&lt;/code&gt; to create a request for an authentication token from RDS.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RdsIAMDataSource&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HikariDataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getPassword&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;RdsIamAuthTokenGenerator&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authTokenGenerator&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RdsIamAuthTokenGenerator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;credentials&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DefaultAWSCredentialsProviderChain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;region&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DefaultAwsRegionProviderChain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRegion&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;no&quot;&gt;URI&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jdbcUri&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parseJdbcURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getJdbcUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;GetIamAuthTokenRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iamAuthTokenRequest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GetIamAuthTokenRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jdbcUri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getHost&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jdbcUri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getPort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;userName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getUsername&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authTokenGenerator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getAuthToken&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iamAuthTokenRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;URI&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;parseJdbcURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jdbcUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jdbcUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;URI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p style=&quot;text-align: center; font-style: italic;&quot;&gt;Note that for MariaDB, you do not need your own custom implementation as &lt;a href=&quot;https://mariadb.com/kb/en/mariadb-connector-j-250-release-notes/#aws-iam&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;they have an implementation of their own&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To make sure that our connection does not drop due to authentication failures, we are going to set the maximum lifespan for the connection (remember that authentication tokens are only valid for 15 minutes).&lt;/p&gt;

&lt;p&gt;Don’t forget to set your database properties (host, port and username). 
&lt;strong&gt;Important note:&lt;/strong&gt; IAM authentication to the database requires an SSL connection.&lt;/p&gt;

&lt;div class=&quot;language-properties highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Sets the max lifetime of each connection to 840000 ms (14 minutes). After 14 minutes, the application does a new request to RDS for a fresh authentication token
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;spring.datasource.hikari.max-lifetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;840000&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# JDBC url with the properties 'ssl' and 'sslmode', this properties are bound to PostgreSQL instances
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;spring.datasource.url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;jdbc:postgresql://&amp;lt;db-instance-name&amp;gt;.&amp;lt;random&amp;gt;.&amp;lt;region&amp;gt;.rds.amazonaws.com:&amp;lt;port&amp;gt;/&amp;lt;db-name&amp;gt;?ssl=true&amp;amp;sslmode=require&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Database user which has the 'rds_iam' role
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;spring.datasource.username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;db user&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;With this implementation, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getPassword()&lt;/code&gt; method will be called every 14 minutes.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Security is an important factor in many companies and environments, and this is definitely a recommended way of securely accessing your database from inside your application as it is a big improvement over the traditional username/password authentication method.
You don’t have a password, which means you don’t have to share it, so you have zero risk of exposing your password to unwanted parties. Not having a password also eliminates the need to manage passwords and to rotate passwords every now and then.
With the authentication token lifespan of 15 minutes, each generated token is secure and expires rapidly in case the token gets leaked.&lt;/p&gt;

&lt;p&gt;While it is slightly more of a hassle to set it up, it is definitely worth your while to implement RDS IAM authentication, especially if you are already running your application and infrastructure on AWS.&lt;/p&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Yolan&quot;, &quot;last_name&quot;=&gt;&quot;Vloeberghs&quot;, &quot;linkedin&quot;=&gt;&quot;yolan-vloeberghs-23825aa3&quot;, &quot;github&quot;=&gt;&quot;yolanv&quot;, &quot;permalink&quot;=&gt;&quot;/author/yolan-vloeberghs/&quot;, &quot;avatar&quot;=&gt;&quot;yolan-vloeberghs.jpg&quot;, &quot;title&quot;=&gt;&quot;Java Consultant&quot;, &quot;email&quot;=&gt;&quot;yolan.vloeberghs@ordina.be&quot;, &quot;bio&quot;=&gt;&quot;Yolan Vloeberghs is a Java Consultant with a keen passion for Spring Boot projects and Java technology. He loves to play around with various technologies and frameworks and is very passionated and eager to learn about everything related to cloud development.&quot;}</name><email>yolan.vloeberghs@ordina.be</email></author><category term="Cloud" /><category term="Spring Boot" /><category term="AWS" /><category term="Spring" /><category term="Security" /><summary type="html">Introduction Database role grant AWS Spring Boot Conclusion</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/2022-06-13-aws-rds-iam-authentication-spring-boot.jpeg" /><media:content medium="image" url="https://ordina-jworks.github.io/img/2022-06-13-aws-rds-iam-authentication-spring-boot.jpeg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">JWorks @ KubeCon 2022</title><link href="https://ordina-jworks.github.io/cloud/2022/06/10/kubecon.html" rel="alternate" type="text/html" title="JWorks @ KubeCon 2022" /><published>2022-06-10T00:00:00+00:00</published><updated>2022-06-10T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/cloud/2022/06/10/kubecon</id><content type="html" xml:base="https://ordina-jworks.github.io/cloud/2022/06/10/kubecon.html">&lt;blockquote&gt;
  &lt;p&gt;KubeCon - CloudNativeCon - JWorks was there!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;table-of-contents&quot;&gt;Table of contents&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#introduction&quot;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#key-takeaways&quot;&gt;Key takeaways&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#meet-the-vendors&quot;&gt;Meet the vendors&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;KubeCon | CloudNativeCon is a conference organised by the Cloud Native Computing Foundation twice a year, alternating between Europe and US locations. 
This edition took place in Valencia in Spain. 
The conference is the industry conference for anything Kubernetes and container-related technology. 
Talks range from end-user stories of the usage of Kubernetes, over methods to automate compliance in Cloud to technical deep dives into specific cloud-native building blocks.
Next to the talks, there’s a solution exhibition as well.
This is where vendors and (CNCF) projects have booths and you can talk to core contributors of most of the projects.&lt;/p&gt;

&lt;h2 id=&quot;key-takeaways&quot;&gt;Key takeaways&lt;/h2&gt;

&lt;h3 id=&quot;opentelemetry&quot;&gt;OpenTelemetry&lt;/h3&gt;
&lt;p&gt;OpenTelemetry is a CNCF project focused on capturing different telemetry signals from applications.
It’s a collection of tools, SDKs and APIs that enable effective observability.&lt;/p&gt;

&lt;p&gt;In essence, it’s an ecosystem of tools that can instrument, capture and ship (currently) telemetry data to different systems. 
The idea is that the tooling to do so is provided by OpenTelemetry and the analysis, usage and storage are performed by other third-party tools like Dynatrace, AWS X-Ray, Elastic, Grafana LGTM or any other tool supporting telemetry data.&lt;/p&gt;

&lt;h3 id=&quot;supply-chain-security&quot;&gt;Supply chain security&lt;/h3&gt;
&lt;p&gt;This was more of a general topic than a specific product or talk. 
During one of the keynotes, it was mentioned that there is a clear increase in software supply chain attacks from multiple vectors. 
Multiple talks discussed how provenance could be used to determine if an image is safe to run aka went through all the necessary steps to end where it’s being deployed.
Especially the talk &lt;a href=&quot;https://www.youtube.com/watch?v=9Q-ZeN6WXg8&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Fun with Continuous Compliance&lt;/a&gt; by Ann Wallace and Zeal Somani of Shopify and Google provides an introduction into how that could work and showcases how Shopify has this setup in their environment. 
It also showcases how you can link compliance evidence gathered from your systems directly into audit reports using the OSCAL standard.&lt;/p&gt;

&lt;h3 id=&quot;nats&quot;&gt;NATS&lt;/h3&gt;
&lt;p&gt;Back in 2019, one the hottest topics of KubeCon (North America) was the introduction of NATS. Now, 3 years later it seemed to have gained a lot of popularity. Most of the interesting projects that where presented during talks used NATS for communication between their distributed microservice architectures.&lt;/p&gt;

&lt;p&gt;NATS is an infrastructure is a message oriented middleware that allows applications to store and distribute data in realtime in a general manner across various environments, langauges, cloud providers and on-premises systems.&lt;/p&gt;

&lt;h3 id=&quot;agua-de-valencia&quot;&gt;Agua de Valencia&lt;/h3&gt;
&lt;p&gt;Agua de Valencia is not water from the city of Valencia as the name suggests it to be, but rather a different drink. The main thing that can’t be ignored from the Valencian scenery is its orange trees. The juice of these oranges forms the base of Agua de Valencia. Agua de Valencia is a cocktail containing orange juice, cava (the Spanish interpretation of champagne), gin, vodka and sugar, and it turns out to taste very nice in combination with Tapas after a long day of KubeCon.&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;image left&quot; src=&quot;/img/2022-05-20-kubecon/aqua1.jpg&quot; style=&quot;margin:0px auto; max-width: 50%;&quot; /&gt;
&lt;img class=&quot;image right&quot; src=&quot;/img/2022-05-20-kubecon/aqua2.jpg&quot; style=&quot;margin:0px auto; max-width: 50%;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;meet-the-vendors&quot;&gt;Meet the vendors&lt;/h2&gt;

&lt;h3 id=&quot;castai-cost-optimization&quot;&gt;Cast.ai cost optimization&lt;/h3&gt;
&lt;p&gt;We met Cast.ai at their booth because we were triggered by the slogan “half your cloud cost”. 
Cast.ai is a SaaS solution aimed at reducing the cost of a Kubernetes setup by performing multiple (AI-based) optimizations. 
They work by installing an agent into your cluster and analysing all workloads that are deployed.
Next, they provide a detailed report of the improvements you can make.
Their main approach is two-fold.&lt;/p&gt;

&lt;h4 id=&quot;rightsizing&quot;&gt;Rightsizing&lt;/h4&gt;
&lt;p&gt;Based on the analysis of all workloads, Cast.ai will provide a suggestion with nodes that are sized just right for the workloads on your cluster.
Instead of using just a single VM type per node pool, they look at the workloads and which nodes would be the most cost-effective. 
Since this approach optimizes for the CPU, memory and storage requests in your cluster at a moment in time, you’ll have to set them correctly as well.&lt;/p&gt;

&lt;h4 id=&quot;spot-instances&quot;&gt;Spot instances&lt;/h4&gt;
&lt;p&gt;The second suggestion or approach they have is the usage of spot instances. 
When spot capacity is available in your selected regions, they will spot instances and attach them to your cluster.
Since spot instances are vastly cheaper, this can generate up to 60% in savings. 
One of the requirements for this approach to work is that either all workloads have multiple replicas, or the cluster can sustain some workload downtime (e.g. integration cluster, some development cluster, …).&lt;/p&gt;

&lt;h3 id=&quot;vmware-tanzu&quot;&gt;VMWare Tanzu&lt;/h3&gt;
&lt;p&gt;VMWare was present with their Tanzu team. 
They showcased how Tanzu solves the software supply chain challenges using open-source software. 
Ranging from tooling to support an in-house training self-service portal to the native building of images using Contour (CI) and KPack (Tanzu Build service) to managing large fleets of Kubernetes clusters across multiple (public) cloud providers, VMWare Tanzu solves all of it for you.&lt;/p&gt;

&lt;h2 id=&quot;meet-the-city-valencia&quot;&gt;Meet the city: Valencia&lt;/h2&gt;
&lt;p&gt;Of course, we also explored the city of Valencia during the hours that the conference was not in session. 
We can recommend having drinks at the bar in the Mercat de Colón. 
The city center has good tapas throughout and especially if you go to the Ruzafa district, we can recommend &lt;a href=&quot;https://g.page/Trufasalvajevalencia?share&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Trufa Salvaje&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;It was clear that no expense was saved by vendors to make their products visible to people joining KubeCon.
Portworx advertised “the old way” by buying ad space on old fashioned billboards next to the highway to the conference center and decals on the city metros.
Gitlab had bought what seemed like all the advertisement space in the airport. 
It was amazing, crazy and weird at the same time to realize that those ads were there specifically to target people going to the conference.&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;image left&quot; src=&quot;/img/2022-05-20-kubecon/ad2.jpg&quot; style=&quot;margin:0px auto; max-width: 50%;&quot; /&gt;
&lt;img class=&quot;image right&quot; src=&quot;/img/2022-05-20-kubecon/ad3.jpeg&quot; style=&quot;margin:0px auto; max-width: 50%;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To us, there was a clear focus throughout the conference on three topics: Supply chain security, observability and FinOps. 
Both in the talks and the vendor area, it is clear that these topics are hot and a lot of companies are working on improving these spaces.&lt;/p&gt;

&lt;p&gt;The most exciting CNCF project to watch in the next 12 months is OpenTelemetry for sure. 
They have a lot of traction in the community and seem to become the defacto standard for shipping any observability signals.&lt;/p&gt;

&lt;p&gt;Finally, the most important takeaway from this conference is that being together as a community again is the best thing ever.
Talking with co-workers about talks over drinks, talking directly to maintainers of projects you only knew by their Github or Slack handle previously and connecting with vendors that solve problems you didn’t even know you had, is simply priceless. 
Our team came back from this conference full of new ideas on how to improve our different projects and how to support customer use cases even better in the future. 
Connections with key people at vendors and open source projects have been made which make reaching out and discussing things in the future a lot easier.&lt;/p&gt;

&lt;h3 id=&quot;tldr-good-talks-to-watch&quot;&gt;TLDR; Good talks to watch&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=eM3RXdK1yys&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Prometheus intro&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=qE1ggEmvz2Y&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;OpenTelemetry intro&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=FQucIjAqZrY&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Community Manager talk&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=9tYkxlhXdw4&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;ArgoCD overview&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=xDGjmav8UBg&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Good public post-mortem&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;“Great things in business are never done by one person. They are done by a team of people”&lt;/em&gt;.&lt;/strong&gt; –&amp;gt;
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-20-kubecon/go-team.jpg&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/p&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Pieter&quot;, &quot;last_name&quot;=&gt;&quot;Vincken&quot;, &quot;linkedin&quot;=&gt;&quot;pieter-vincken-a94b5153&quot;, &quot;twitter&quot;=&gt;&quot;PieterVincken&quot;, &quot;github&quot;=&gt;&quot;pietervincken&quot;, &quot;permalink&quot;=&gt;&quot;/author/pieter_vincken/&quot;, &quot;avatar&quot;=&gt;&quot;pieter-vincken.jpeg&quot;, &quot;title&quot;=&gt;&quot;Cloud Automation Engineer&quot;, &quot;email&quot;=&gt;&quot;pieter.vincken@ordina.be&quot;, &quot;bio&quot;=&gt;&quot;Pieter Vincken is a Cloud Automation Engineer with a strong interest in anything related to Cloud Native. He likes to optimize development workflows, from Ideation until code running in production, by enabling CI/CD to be fully automated. Any solutions he creates, will have started as an architectural drawing.&quot;}</name><email>pieter.vincken@ordina.be</email></author><category term="Cloud" /><category term="Cloud" /><category term="Cloud-Native" /><category term="Conference" /><summary type="html">KubeCon - CloudNativeCon - JWorks was there!</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/2022-05-20-kubecon/kccnc-eu-2022-color-resized.png" /><media:content medium="image" url="https://ordina-jworks.github.io/img/2022-05-20-kubecon/kccnc-eu-2022-color-resized.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Collective Intelligence</title><link href="https://ordina-jworks.github.io/leadership/2022/05/05/collective-intelligence.html" rel="alternate" type="text/html" title="Collective Intelligence" /><published>2022-05-05T00:00:00+00:00</published><updated>2022-05-05T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/leadership/2022/05/05/collective-intelligence</id><content type="html" xml:base="https://ordina-jworks.github.io/leadership/2022/05/05/collective-intelligence.html">&lt;blockquote&gt;
  &lt;p&gt;Collective Intelligence - The Best of Synergy.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;table-of-contents&quot;&gt;Table of contents&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#introduction&quot;&gt;Introduction&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#in-which-situation-is-the-collective-intelligence-useful&quot;&gt;In which situation is the collective intelligence useful?&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#content&quot;&gt;Content&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#rules&quot;&gt;Rules&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#fundamentals&quot;&gt;Fundamentals&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#fundamentals-that-help-the-emergence-of-collective-intelligence-are&quot;&gt;Fundamentals for the emergence of collective intelligence&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#fundamentals-to-ensure-the-quality-of-the-interaction&quot;&gt;Fundamentals to ensure the quality of the interaction&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#process-at-a-collective-intelligence-meeting&quot;&gt;Process at a collective intelligence meeting&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#illustration-of-a-potential-intervision-at-ordina&quot;&gt;Illustration of a potential Intervision at Ordina&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot;&gt;Conclusion&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#what-collective-intelligence-is-not&quot;&gt;What collective intelligence is not&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;
&lt;p&gt;Have you already been in a meeting where:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;All members do not participate in the same way?&lt;/li&gt;
  &lt;li&gt;Some speak all the time – even to say nothing – while others barely speak ?&lt;/li&gt;
  &lt;li&gt;Different opinions lead to battles of the egos that prevent a project from functioning well?&lt;/li&gt;
  &lt;li&gt;A solution is decided by decision-makers that is beside the point?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We live in a culture of expertise and compartmentalization. To face a problem, we usually call on experts, specialists in several domains : we let our decision-making power in their hands.
Collective intelligence makes the bet that people in a collective are good enough to combine their expertise, their creativity, their capabilities, and their natural aptitude to apply a solution that they will have generated themselves.
In the old hierarchical management system, managers had two contradictory objectives :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;They needed to count on the participation, the know-how, and the initiative of collaborators&lt;/li&gt;
  &lt;li&gt;They were tempted to control them&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This management system is sadly still operating in our society.
The principle of collective intelligence approach is very different. The aim is no longer to control the people but to control the process. This framed process will create a common and secured envelope around the group, that will support responsibility and freedom of each member.
Collective intelligence is based on three values: peace, freedom and responsibility. These values use several tools such as cooperation, trust, sharing, empathy, and kindness in order to create a social intelligence that transcends the sum of individual intelligence.&lt;/p&gt;

&lt;p&gt;We can use collective intelligence in many interactions, including the professional domain – where Collective intelligence is usually called &lt;strong&gt;Intervision&lt;/strong&gt; – : from a small project meeting to a strategic transformation brainstorming. While keeping his leading role, the leader is no longer there to manage each collaborator, but to support a bigger structure that surpasses him.
The processes of collective intelligence / intervision do not put different skills in competition but multiply expertise in a collaborative way. The results are more creative, innovative and rewarding.&lt;/p&gt;

&lt;h2 id=&quot;in-which-situation-is-the-collective-intelligence-useful&quot;&gt;In which situation is the collective intelligence useful?&lt;/h2&gt;
&lt;p&gt;Collective intelligence is useful in all kinds of situations where we feel that the human being would profit from:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Sharing his resources and utilizing those of others.&lt;/li&gt;
  &lt;li&gt;Developing more innovation, more shared intelligence, more agility.
It is very powerful each time a complex situation needs to be managed with many diverse actors.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;content&quot;&gt;Content&lt;/h1&gt;
&lt;p&gt;To implement collective intelligence, we need to follow simple but rigorous rules. These rules aim not to constrain people but to support their freedom, creativity and responsibility.&lt;/p&gt;

&lt;h2 id=&quot;rules&quot;&gt;Rules&lt;/h2&gt;
&lt;p&gt;Rules can first be described by the collective’s components:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;The place&lt;/strong&gt;, which needs to comfortably welcome the participants: bright, airy, with enough space to display group productions.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;The sponsor&lt;/strong&gt;, the organizer: he carries the intention that unites the participants.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;The team&lt;/strong&gt;, that takes care of all the necessary materials needed for the meeting.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;The facilitator&lt;/strong&gt;, the keeper that supports this space of co-creation, by verifying the rules are kept and facilitating the process during the meeting.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;The process&lt;/strong&gt;: simple, solid, helping creativity and innovation to pop up through diversity and expertise valorization.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;fundamentals&quot;&gt;Fundamentals&lt;/h2&gt;
&lt;h3 id=&quot;fundamentals-that-help-the-emergence-of-collective-intelligence-are&quot;&gt;Fundamentals that help the emergence of collective intelligence are:&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Organization in circle&lt;/strong&gt;: representing humanity equivalence. Keeping in mind that everyone speaks from his role in the group.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Turn to speak:&lt;/strong&gt; inviting everyone to voice their concern.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Power of silence:&lt;/strong&gt; through the turn to speak, or proposed during the meeting, this moment helps to mature the ideas that have emerged from the interaction.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Speech in the center:&lt;/strong&gt; there is no debate in collective intelligence, no judgment. Everyone speaks in his name, his role and his responsibility.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Addition and multiplication of opinions&lt;/strong&gt;: helping innovation instead of competition.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Rules and processes kept in mind:&lt;/strong&gt; the facilitator is the guardian to ensure that rules and processes are followed by the collective.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Everyone is responsible for himself&lt;/strong&gt;: his emotions, his needs and his acts.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;fundamentals-to-ensure-the-quality-of-the-interaction&quot;&gt;Fundamentals to ensure the quality of the interaction:&lt;/h3&gt;
&lt;p&gt;To ensure a good and trustful relationship between participants and to avoid overflows, some pre-requisites are necessary :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Attentive, benevolent and active listening&lt;/strong&gt; to what is being said.&lt;/li&gt;
  &lt;li&gt;Active listening is made with &lt;strong&gt;empathy and kindness.&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Differences and disagreements are expressed&lt;/strong&gt; without judgment or aggressivity.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Everyone’s speech is respected&lt;/strong&gt;, which does not mean everyone has to have the same opinion.&lt;/li&gt;
  &lt;li&gt;Speaking in our &lt;strong&gt;own name&lt;/strong&gt; : preferably using “I” instead of “You”, without judging anyone’s opinion.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Silence&lt;/strong&gt; as well as the &lt;strong&gt;need of&lt;/strong&gt; &lt;strong&gt;withdrawal are respected&lt;/strong&gt; : evolution in communication can be adapted by protocols created by the group.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Communication is fluid&lt;/strong&gt; : protocols can be created in order to ease communication – time to ask questions, to issue a problem or to emit a proposed solution can be defined by the group.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Confidence is primordial&lt;/strong&gt; : participants can speak freely during the meeting without fearing that their confidence will be violated outside the meeting.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Speaking should be concise and straightforward&lt;/strong&gt; : while speaking, we always must keep in mind the interest of the group.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;process-at-a-collective-intelligence-meeting&quot;&gt;Process at a collective intelligence meeting&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;em&gt;Step 1 – Introduction -&lt;/em&gt; A routine can be decided by the group before beginning a new session. That can be a breathing exercise, or a song we can dance on. This aims to help devote one’s time to the meeting, to be &lt;strong&gt;present in the moment&lt;/strong&gt; before beginning the speaking round.
As an introduction, we can realize a “&lt;strong&gt;weather tour&lt;/strong&gt;” in order to understand in which state of mind we are. The goal is to take care about the inclusion of each participant within the group.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Step 2 – Content of the meeting -&lt;/em&gt; Everyone at his turn announces &lt;strong&gt;a topic, a problem&lt;/strong&gt;. Within the group, a &lt;strong&gt;prioritization&lt;/strong&gt; is made between all topics. One after the other, they are discussed from the most important to the less one, regarding the time spent on the reunion.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Step 3 – Conclusion -&lt;/em&gt; At the end of the session, a moment is given to conclude in order to help everyone to give his &lt;strong&gt;feedback&lt;/strong&gt; about the session.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;illustration-of-a-potential-intervision-at-ordina&quot;&gt;Illustration of a potential Intervision at Ordina&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;Let’s imagine an intervention between Jworks colleagues to improve the department community. Beforehand, a security framework had been established. This framework will help members to feel in a safe environment to be able to speak without judgment feelings.
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_1.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;The facilitator suggests an introduction tour to let people be present for this moment of gathering.
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_2.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;The facilitator suggests to enter the content where everyone will be able to give the problems they face or the ideas they have in mind to improve the department.
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_3.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;A prioritization is made between all topics. The first tour, everyone can vote for multiple topics. If some are ex-aequo, we only can vote for one of them.
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_4.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;The group begins with the first prioritized topic. The person who gave the topic tries to be concise and precise to explain it.
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_5.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;After first explanations, other members of the group ask clarification questions.
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_6.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;After clarification, the topic owner decides how he wants to handle his topic. 
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_7.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Many tools of collective intelligence can therefore be used. The “if I were you” is one of them.
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_8.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;When the topic owner decides, a closing tour is made, starting with him. The next prioritized topic is addressed. Etc.
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_9.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;The timekeeper keeps his role in mind until the end of the session. He usually pinpoints when it is 5 minutes before the end.
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/intervision_10.png&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;
&lt;h2 id=&quot;what-collective-intelligence-is-not&quot;&gt;What collective intelligence is not&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Working in collective intelligence does not mean there is no structure or hierarchy. &lt;strong&gt;Everyone has their role and responsibility&lt;/strong&gt; regarding the whole. Hierarchy of power leaves space to hierarchy of responsibility. Each member assumes his own responsibility and respects the responsibility of the others with profound respect. This idea can be translated into two principles: “everyone has the right to a place” and “everyone must be at his place”.&lt;/li&gt;
  &lt;li&gt;Collective intelligence does not always work without a hustle. Cooperation between humans and relational maturity is feasible but, as for every relationship, the way to create innovation, agility and reward is not always easy. Every collaborator needs &lt;strong&gt;to find his space of expression&lt;/strong&gt; while knowing his responsibility within the group. Those processes ask each member to stay at his place, which can be sometimes painful. That is why a facilitator is necessary to welcome and guide those moments.&lt;/li&gt;
  &lt;li&gt;Collective intelligence is not the Holy Grail. Collective intelligence can be seen as very aggressive from a system that is not &lt;strong&gt;ready to transform&lt;/strong&gt;. This can be the case when the system is based on a power struggle, is very rigid or with fears and limiting beliefs. As collective intelligence is proposed and never imposed on a collective, we usually quickly feel the “go” or  “no go” of the group.  “No go” signs can be expressed as repeated absences or role confusion. In that case, it is preferable to stop the process, wait and try to understand the fears that are expressed.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Therefore, while not being the holy grail, collective intelligence can be seen as the hat of Mary Poppins:  we play with processes, we open a space for dreams and creativity, we draw, we laugh, before converging into a collective and rewarding action plan.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;“Great things in business are never done by one person. They are done by a team of people”&lt;/em&gt;.&lt;/strong&gt;
&lt;img class=&quot;image fit&quot; src=&quot;/img/2022-05-05-collective-intelligence/conclusion.jpg&quot; style=&quot;margin:0px auto; max-width: 100%;&quot; /&gt;&lt;/p&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Laura&quot;, &quot;last_name&quot;=&gt;&quot;Prevost&quot;, &quot;permalink&quot;=&gt;&quot;/author/laura-prevost/&quot;, &quot;avatar&quot;=&gt;&quot;laura-prevost.jpg&quot;, &quot;title&quot;=&gt;&quot;Analyst&quot;, &quot;linkedin&quot;=&gt;&quot;laura-prevost-72097255&quot;, &quot;email&quot;=&gt;&quot;laura.prevost@ordina.be&quot;, &quot;bio&quot;=&gt;&quot;Laura is an Analyst at Ordina Belgium. Also Competence Lead of Technical Leadership at Jworks. Passionate about people. Eager to share knowledge. Not afraid of challenges. Always interested in learning and discovering new things.&quot;}</name><email>laura.prevost@ordina.be</email></author><category term="Leadership" /><category term="Leadership" /><category term="Collective" /><category term="Intelligence" /><summary type="html">Collective Intelligence - The Best of Synergy.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/2022-05-05-collective-intelligence/collective-intelligence-home.jpg" /><media:content medium="image" url="https://ordina-jworks.github.io/img/2022-05-05-collective-intelligence/collective-intelligence-home.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Testing with production data made easy</title><link href="https://ordina-jworks.github.io/cloud/2022/02/14/postgres-ai.html" rel="alternate" type="text/html" title="Testing with production data made easy" /><published>2022-02-14T00:00:00+00:00</published><updated>2022-02-14T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/cloud/2022/02/14/postgres-ai</id><content type="html" xml:base="https://ordina-jworks.github.io/cloud/2022/02/14/postgres-ai.html">&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#whats-the-problem&quot;&gt;What’s the problem?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#what-is-database-lab&quot;&gt;What is Database Lab?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#end-user-interaction&quot;&gt;End user interaction&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#behind-the-curtains&quot;&gt;Behind the curtains&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#how-to-setup&quot;&gt;How to setup&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#how-to-use-it&quot;&gt;How to use it&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#more-cool-features&quot;&gt;More cool features&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#why-should-i-use-it&quot;&gt;Why should I use it?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#links&quot;&gt;Links&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;whats-the-problem&quot;&gt;What’s the problem?&lt;/h2&gt;

&lt;p&gt;Testing data migrations is one of the cases where investing in good testing is crucial. 
Unfortunatly it’s hard to cover all the scenarios and it can be very time consuming to write test code for all of the scenarios you need to cover, especially in a one off migration.
Moreover, if the data quality of your production system isn’t 100%, it’s very easy to miss a few scenarios in the analysis, which leads to missed migration scenarios that lead to bugs and incidents.&lt;/p&gt;

&lt;p&gt;In most cases, developers don’t have access to production systems directly, especially databases.
This requirements has become more important over the years due to GDPR or similar regulations. 
It makes it almost impossible for developers to have a good insight into what data is available in a production database.
In some organisations, regulars dumps are made to a dedicated environment for testing database migrations.
Both technically and regulatory, this can be challenging as copying over large portions of data is an expensive and time intensive operation.&lt;/p&gt;

&lt;p&gt;This blogpost will provide an alternative way to handle this scenario in a safe and fast way using Postgres.ai’s Database Lab Engine.&lt;/p&gt;

&lt;h2 id=&quot;what-is-database-lab&quot;&gt;What is Database Lab?&lt;/h2&gt;

&lt;p&gt;Database Lab is software that allows you to easily and quickly create thin clones of databases.
At the time of writing, it supports PostgreSQL databases.
It has been created by Postgres.ai which was founded by &lt;a href=&quot;https://twitter.com/samokhvalov&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Nikolay Samokhvalov&lt;/a&gt;.
They are specialised in creating solutions to assist with database management.&lt;/p&gt;

&lt;p&gt;The software exists in 4 main parts, their engine, their CLI, a GUI and the SaaS platform.
This post will mostly discuss the Database Lab Engine (DLE) community edition, so without the SaaS platform.&lt;/p&gt;

&lt;h3 id=&quot;end-user-interaction&quot;&gt;End user interaction&lt;/h3&gt;

&lt;p&gt;Let’s start with what DLE can ultimately bring you.&lt;/p&gt;

&lt;p&gt;Let’s say a developer, Neal, wants to validate a data migration he has created. 
Performing an export and import from one database to another isn’t that hard, especially in PostgreSQL.
You run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pg_dumpall&lt;/code&gt; on the exporting database and just run a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pqsl&lt;/code&gt; with the dump on the importing one and you’re done. 
Now imagine that the dataset he’s using is not just a few megabytes in size, but consists of 100s of 1000s of rows across a multitude of tables. 
That import is going to take a while, more than just a coffee break, let’s say 30 minutes. 
After the import completes, since he’s working on another data migration, he runs his migration script against the clone and as we, developers, aren’t perfect, he finds a bug halfway through his migration. 
He fixes the bug and wants to run the migration again. 
To do that, he needs to re-run the import (provided he kept the export) and restart his migration.
Again 30 minutes plus his migration time are lost.&lt;/p&gt;

&lt;p&gt;This is a scenario where DLE shines.
Let’s say Neal’s company has a DLE setup for the database he wants to use. 
The same scenario would look like this:&lt;/p&gt;

&lt;p&gt;Neal requests a DLE clone: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dblab clone create neals-special-clone --username neal --password nealisawesome&lt;/code&gt; or through the GUI.
This takes seconds to complete. 
Later in this post, we’ll discuss how that’s possible with so much data.
Next, Neal runs his migration script, as before, it fails halfway through and he needs to fix the bug. 
After the fix, he wants to retest the migration with the original data.
To do this, he simply runs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dblab clone reset neals-special-clone&lt;/code&gt; and the clone will be reset to the original state before the failed migration was executed.
Again, taking just seconds to complete.&lt;/p&gt;

&lt;h2 id=&quot;behind-the-curtains&quot;&gt;Behind the curtains&lt;/h2&gt;

&lt;p&gt;The scenario described earlier almost sounds too good to be true, doesn’t it?
In this section, we’ll discuss how DLE can achieve this and where the magic happens.&lt;/p&gt;

&lt;p&gt;The magic is mostly done by the use of a &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;ZFS&lt;/a&gt; filesystem underneath the PostgreSQL instances used by DLE. 
Specifically the copy-on-write and snapshotting features are primarily used. 
This is combined with running the instances themselves in Docker containers, which allows multiple PostgreSQL instances to easily exist on a single system. 
More info on the details can be found &lt;a href=&quot;https://postgres.ai/docs/database-lab#database-lab-engine&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;DLE has 2 operating modes for enabling clones: physical or logical.&lt;/p&gt;

&lt;p&gt;With the physical mode, a replica of the source PostgreSQL database is created and managed by DLE. 
This database is treated as the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sync instance&lt;/code&gt; from which all copies are created.
The replication can be set up just like any other PostgreSQL replication.&lt;/p&gt;

&lt;p&gt;In logical mode, the copy of the original data is achieved by a regular dump (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pg_dumpall&lt;/code&gt;) from the source PostgreSQL instance. 
This phase is called the logical dump in the &lt;a href=&quot;https://postgres.ai/docs/reference-guides/database-lab-engine-configuration-reference#job-logicaldump&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;DLE documentation&lt;/a&gt;.
This dump is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;restored&lt;/code&gt; onto a local PostgreSQL install and from there clone could be created. 
This is called the logical restore phase in the &lt;a href=&quot;https://postgres.ai/docs/reference-guides/database-lab-engine-configuration-reference#job-logicalrestore&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;documentation&lt;/a&gt;.
After the dump has been completed a ZFS snapshot will be created for the database which is used later for creating clones. 
This last phase is called &lt;a href=&quot;https://postgres.ai/docs/reference-guides/database-lab-engine-configuration-reference#job-logicalsnapshot&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;logical snapshot&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;After the initial copy has been created, in whichever mode, clones can be created.
These clones are created by first creating a new (ZFS) snapshot of the restored instance. 
Next, a Docker container with a modified PostgreSQL instance is used in combination with a volume bind of the created snapshot.&lt;/p&gt;

&lt;p&gt;This results in a seemingly regular PostgreSQL instance running in Docker with some data preloaded in it. 
When executing changes on the database, the copy-on-write feature of ZFS makes sure that the new changes are only made to the snapshot volume that’s attached to the clone.&lt;/p&gt;

&lt;p&gt;When a reset is requested on a clone, the snapshot is simply restored to its original state by ZFS and the PostgreSQL instance is restarted.&lt;/p&gt;

&lt;h2 id=&quot;how-to-setup&quot;&gt;How to setup&lt;/h2&gt;

&lt;p&gt;The setup process is highly dependent on your starting situation. 
The first choice you’d need to make is if you want to use a physical or logical setup.&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;physical setup&lt;/em&gt; has the advantage of being an always-online solution. 
This means that DLE manages a live (async replication) copy of the source instance you want to clone.
The downside of this approach is that you need to be able to change some configuration on your source instance to set up the replication and that you need to be able to create a replicated instance from your source instance. 
For managed PostgreSQL databases provided by cloud providers, for example, this might be an issue.&lt;/p&gt;

&lt;p&gt;Luckily there is a secondary approach available: the &lt;em&gt;logical mode&lt;/em&gt;.
In this mode, an initial clone is created by dumping the original database to the DLE instance and restoring it locally onto the main clone instance. 
The advantage here is that you don’t need additional configuration on the source instance. 
Unfortunately, due to the nature of the point-in-time copy of the dump, it’s not possible to have a real live clone available.&lt;/p&gt;

&lt;p&gt;For the example we’ll show here, we’ll use the logical mode as we’re copying from an Azure Database for PostgreSQL managed database. 
All code for the example is available &lt;a href=&quot;https://github.com/pietervincken/dblab-azure-demo&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;NOTE: This code is only provided for demo purposes and is not to be used as-is for any production systems.
All ports are opened by default on the instance and a public IP will be assigned to the VM.
The scripts also include cleanup steps that remove &lt;strong&gt;ALL DATA&lt;/strong&gt; from the instances. 
Use at your own risk.&lt;/p&gt;

&lt;p&gt;The demo code will create a database and a VM. 
Next, it will configure the VM to act as a Database Lab Engine instance.
Some random test data will be automatically injected into the PostgreSQL database.
Finally, you can use the UI or the CLI to interact with the instance.
A brief use case will be shown in the next paragraph.&lt;/p&gt;

&lt;h2 id=&quot;how-to-use-it&quot;&gt;How to use it&lt;/h2&gt;

&lt;p&gt;DLE allows three ways of interaction with the engine: SaaS, CLI, local UI. 
For the scope of this demo, we’ll only show the local UI and mention the CLI counterparts.&lt;/p&gt;

&lt;p&gt;Once the instance is deployed, you can access the DLE UI through a web browser.
You’ll be prompted to enter the token to access the instance.
This is the token that’s set in the configuration of the DLE server.
Using the demo setup, this token will be outputted by during the installation.
Next, you’ll see the dashboard which provides an overview of all the active clones, the state of the DLE engine and a calendar that shows the available snapshots.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/20211101-postgres-ai/clones-dashboard.png&quot; alt=&quot;Dashboard&quot; class=&quot;image center&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/20211101-postgres-ai/instance-status.png&quot; alt=&quot;Instance status&quot; class=&quot;image center&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For this demo, we’ll create a new clone of the database that’s linked to this instance
We do this by clicking “Create Clone” and filling out the form that’s prompted next.
After completing the form, click “Create Clone” and take a very fast sip of coffee as your clone will be available in a matter of seconds.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/20211101-postgres-ai/create-clone.png&quot; alt=&quot;Create clone&quot; class=&quot;image center&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This same process can be achieved by executing the following commands through the Database Lab Engine CLI:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dblab init --token &amp;lt;secret-token&amp;gt; --url &amp;lt;public ip of the instance&amp;gt; --environment-id local --insecure
dblab clone create --username jworks --password rocks --id testclone 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now in a real use-case, you’d connect the thin clone to your application in a development environment or local setup. 
We’ll simulate the changes being made by connecting to the database using your favourite PostgreSQL client.
Make some changes to the database (create a table, delete or change some rows in the provided users table, …).
Now let’s imagine we’re testing a migration script and we discovered a bug (like the scenario mentioned earlier).
We fix the bug, but now our data in the thin clone is corrupted and useless for further testing.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/20211101-postgres-ai/clone-details.png&quot; alt=&quot;Clone details&quot; class=&quot;image center&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;Now a cool feature of DLE comes into play: clone resetting.
Because the database is running on a ZFS snapshot, we can easily revert to the original snapshot and continue working from there again.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/20211101-postgres-ai/reset-clone.png&quot; alt=&quot;Reset clone&quot; class=&quot;image center&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;We do this by going back to the local UI and selecting our thin clone.
Next, we click on reset clone and confirm in the dialogue.
Only seconds later, our database is reset to the original snapshot and we can start testing again.
From the same view, you can destroy the clone as well if you don’t need it anymore.&lt;/p&gt;

&lt;h2 id=&quot;more-cool-features&quot;&gt;More cool features&lt;/h2&gt;

&lt;p&gt;DLE has added some additional features on top of the cloning process. 
A very helpful feature is their support for &lt;a href=&quot;https://postgres.ai/docs/database-lab/masking&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;data masking and obfuscation&lt;/a&gt;.
In short, they support multiple scenarios for using production data in a development environment without exposing any Person Identifiable Information (PII) to the developers using the test systems. 
This makes it possible to use the clones during normal development without risking overexposing PII and therefore making it easier to adhere to guidelines like GDPR while still being able to test with production-like data.&lt;/p&gt;

&lt;p&gt;The mechanism to do this is quite simple.
DLE supports writing preprocessing scripts that are executed on the main copy during the restore phase.
Using this, data can be obfuscated or masked using predefined scripts, which you’ll have to provide yourself. 
By making it part of the restore phase of DLE, it’s ensured that no data is ever exposed without being obfuscated first.&lt;/p&gt;

&lt;p&gt;Another option that DLE support is using &lt;a href=&quot;https://postgresql-anonymizer.readthedocs.io/en/stable/static_masking.html&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;PostgreSQL Anonymizer&lt;/a&gt;. 
This is a well known PostgreSQL extension that can be used to mask and obfuscate data in a PostgreSQL database. 
The nice advantage of this solution is that the obfuscation configuration can be part of the original data creation in the original database. 
It allows DevOps teams to create the obfuscation code directly with the table creation code which of course makes it way easier to maintain properly and correct judge with data should be obfuscated and in which way.&lt;/p&gt;

&lt;h2 id=&quot;why-should-i-use-it&quot;&gt;Why should I use it?&lt;/h2&gt;

&lt;p&gt;If you’re in a project where access to production systems is not available and/or testing migration scenarios is very time consuming, this might be a good tool for you to investigate, provided of course that you’re using PostgreSQL databases.
It provides an easy, scalable and safe way to provide copies of large databases without having to wait hours or days to copy over data from one database to the next to test something.&lt;/p&gt;

&lt;p&gt;Adding to that the possibility to obfuscate the data with the same tool and allow developers to work with obfuscated data during their developer, makes it an even more compelling choice.&lt;/p&gt;

&lt;p&gt;The software is opensourced on &lt;a href=&quot;https://gitlab.com/postgres-ai&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Gitlab&lt;/a&gt; and the community on &lt;a href=&quot;https://slack.postgres.ai/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Slack&lt;/a&gt; is very helpful and response if you have any questions or issues with the software.&lt;/p&gt;

&lt;p&gt;If you want a more in-depth post about how to configure DLE and which pitfalls we found, let me know on &lt;a href=&quot;https://www.linkedin.com/in/pieter-vincken-a94b5153/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;LinkedIn!&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;links&quot;&gt;Links&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://postgres.ai/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Postgres AI website&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gitlab.com/postgres-ai&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Source code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://postgres.ai/docs/platform&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;SaaS offering&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://postgres.ai/docs/database-lab/masking&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Anomization setup&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Feel free to reach out to &lt;a href=&quot;https://www.linkedin.com/in/pieter-vincken-a94b5153/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;me&lt;/a&gt; or directly to lovely people of &lt;a href=&quot;https://postgres.ai/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Postgres.ai&lt;/a&gt; if you want to look into this solution.&lt;/p&gt;

&lt;p&gt;Special thanks to the Unicorn team for helping with the blogpost and creating a great Database Lab Engine setup!&lt;/p&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Pieter&quot;, &quot;last_name&quot;=&gt;&quot;Vincken&quot;, &quot;linkedin&quot;=&gt;&quot;pieter-vincken-a94b5153&quot;, &quot;twitter&quot;=&gt;&quot;PieterVincken&quot;, &quot;github&quot;=&gt;&quot;pietervincken&quot;, &quot;permalink&quot;=&gt;&quot;/author/pieter_vincken/&quot;, &quot;avatar&quot;=&gt;&quot;pieter-vincken.jpeg&quot;, &quot;title&quot;=&gt;&quot;Cloud Automation Engineer&quot;, &quot;email&quot;=&gt;&quot;pieter.vincken@ordina.be&quot;, &quot;bio&quot;=&gt;&quot;Pieter Vincken is a Cloud Automation Engineer with a strong interest in anything related to Cloud Native. He likes to optimize development workflows, from Ideation until code running in production, by enabling CI/CD to be fully automated. Any solutions he creates, will have started as an architectural drawing.&quot;}</name><email>pieter.vincken@ordina.be</email></author><category term="Cloud" /><category term="cloud" /><category term="automation" /><category term="testing" /><summary type="html">What’s the problem? What is Database Lab? End user interaction Behind the curtains How to setup How to use it More cool features Why should I use it? Links</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/20211101-postgres-ai/logo-resized.png" /><media:content medium="image" url="https://ordina-jworks.github.io/img/20211101-postgres-ai/logo-resized.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">What Would Discord Bot Do?</title><link href="https://ordina-jworks.github.io/development/2022/01/14/what-would-discord-bot-do.html" rel="alternate" type="text/html" title="What Would Discord Bot Do?" /><published>2022-01-14T00:00:00+00:00</published><updated>2022-01-14T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/development/2022/01/14/what-would-discord-bot-do</id><content type="html" xml:base="https://ordina-jworks.github.io/development/2022/01/14/what-would-discord-bot-do.html">&lt;p&gt;Online communication has been widespread for years already. 
But the current world situation has made it near ubiquitous. 
With social contact in real life (IRL) being restricted, our need for communication shifts to the digital world through a wide variety of platforms. 
One of those platforms that focuses heavily on the online gaming community is Discord. 
It offers text communication channels, functionality to videoconference with your friends, and share your screen as a live stream, usually showing off your gaming skills. 
It also offers a way to code interactions with those channels by employing bots.&lt;/p&gt;

&lt;p&gt;Bots in the Discord world are services that take the input presented on a discord server, and perform some automated tasks based on this input. 
Popular bots on Discord allow you to moderate the channel, script shortcut commands, play videos or music, or add all sorts of files. 
There are various possibilities out there that an administrator of a server can add or remove with the click of a button. 
It makes for a more enjoyable and streamlined experience in your interactions.&lt;/p&gt;

&lt;p&gt;But what if there is no bot available to suit the needs of your community? 
For these occasions, Discord offers a development platform where you can code your very own bot, with the functionalities you need. 
There are many possible frameworks to code such a bot (and even a few solutions that offer this functionality without the need to code), and they come in many different coding languages (Java, Python, .NET, Rust, …). 
Since my expertise with coding lies mainly in the Java world, I opted to make my bot in the &lt;a href=&quot;https://github.com/DV8FromTheWorld/JDA&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Java Discord API (JDA) framework&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To get started we first need to register an application in the &lt;a href=&quot;https://discord.com/developers/applications&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Discord Developer Portal&lt;/a&gt;. 
This is freely available to anyone who has registered a (free) account on Discord. 
It will look similar to the screenshot below, and presents a “New Application” button from where to start. 
After clicking the button, it prompts to enter a name for the new application, which I dubbed TestBotApplication all the while feeling like the next Shakespeare of the Digital Age.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/2022-01-14-what-would-discord-bot-do/discordportal01.png&quot; alt=&quot;Workspace&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This takes you to a screen that will allow you to fill in general information about your application, such as an image to identify it with, a description on what the application is for, and some tags to align your new application with searches performed by Discord members on the lookout for the next hot bot. 
It also gives you some technical information that you will need while coding such as the Application ID and the Public Key. 
To round off this section, you can optionally enter some URLs where you describe the Terms of Use and Privacy Policy.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/2022-01-14-what-would-discord-bot-do/discordportal02.png&quot; alt=&quot;Workspace&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Once this general information is set up, it is time to define a bot that is linked to this application. 
This is done by clicking on the Bot navigation item on the left side of the screen, which takes us to the Bot section, with a button labeled “Add Bot”. 
Here you can specify the name under which your bot will be visible on the servers that use it. 
Once again, in a fit of unbridled imagination, I went for “Developer Test Bot”. Nobel Prize for Literature, you will be mine!&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/2022-01-14-what-would-discord-bot-do/discordportal03.png&quot; alt=&quot;Workspace&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Another important piece of the developer puzzle is the token that can be taken from this page. 
This will be the secret used by our code to access this bot. 
Other configurations that can be determined in this page are the visibility of your bot, as well as activating the usage of OAuth to authenticate with. 
At the bottom of the screen we can already see the different permissions we would like to give our bot. 
But the final piece of the puzzle before trying our hands with the JDA framework is to set up the permissions and connections over at the Oauth2 screen.&lt;/p&gt;

&lt;p&gt;On this page, there are only a few things that need to be set up. 
First off, the client id and secret are shown, which we need for our invite URL. 
The bot also needs a redirect in case of OAUTH2 authentication, should we choose to  activate it. 
It is clear that this should be: https://www.evolute.be/discord as we do not intend to activate OAuth for the time being. 
We therefore set the Authorization Method to In-app authorization, which will prompt the administrator of the server where the bot is activated to confirm the rights of the bot. 
We identify our bot as a “Bot” in the scope section, and decide on the rights the bot will need to perform its duties. 
Giving it the Administrator permission will allow the bot to do almost anything in the server, and is thus too wide a permission set for a bot in production, but for test purposes, we will leave it as such for now.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/2022-01-14-what-would-discord-bot-do/discordportal04.png&quot; alt=&quot;Workspace&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We head over the the URL Generator submenu item of the OAut2 menu, and fill in the scope “Bot” and permission set “Administrator” once more to get an INVITE URL, which will look something like this (with the client id filled in properly):&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;https://discord.com/api/oauth2/authorize?client_id=&amp;lt;clientid&amp;gt;&amp;amp;permissions=8&amp;amp;scope=bot&lt;/p&gt;

&lt;p&gt;Dropping this link in a browser will take you to a web page where you can add the bot to your Discord server. 
If everything is done correctly, it should show up in the member list of the server. 
But since there is not yet any code behind it, it will be shown as offline.&lt;/p&gt;

&lt;p&gt;Time to start coding. 
We first set up a simple Maven project with the JDA dependency wired in. 
It has its own maven repository, so that one we need to add as well. 
I am going for the latest LTS release, although more recent versions are already available (though still in alpha).&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;project&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt;
         &lt;span class=&quot;na&quot;&gt;xmlns:xsi=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
         &lt;span class=&quot;na&quot;&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;modelVersion&amp;gt;&lt;/span&gt;4.0.0&lt;span class=&quot;nt&quot;&gt;&amp;lt;/modelVersion&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;be.evolute.discord&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;DeveloperTestBot&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;packaging&amp;gt;&lt;/span&gt;jar&lt;span class=&quot;nt&quot;&gt;&amp;lt;/packaging&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0.0-initial&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;maven.compiler.source&amp;gt;&lt;/span&gt;8&lt;span class=&quot;nt&quot;&gt;&amp;lt;/maven.compiler.source&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;maven.compiler.target&amp;gt;&lt;/span&gt;8&lt;span class=&quot;nt&quot;&gt;&amp;lt;/maven.compiler.target&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;resources&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;resource&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;directory&amp;gt;&lt;/span&gt;resources&lt;span class=&quot;nt&quot;&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/resource&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/resources&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;net.dv8tion&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;JDA&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;4.4.0_350&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;repositories&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;dv8tion&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;m2-dv8tion&lt;span class=&quot;nt&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;https://m2.dv8tion.net/releases&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/repositories&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since Discord expects you to pilot the bot using WebSocket, I do not feel the need to create a service or a web application. 
I am just going to write a simple java class with a main method, so that I can run this from my IDE. 
This will connect to the bot by initializing the JDA context. 
With the JDBBuilder.createDefault method, you set up a WebSocket connection to your bot and to all resources the bot has been given access to (through permissions). 
This bot is identified by passing the Bot Token we can find in the Developer Portal on our bot page. 
If the JDA context cannot access the bot, it will throw a &lt;strong&gt;javax.security.auth.login.LoginException&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JDA&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jda&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LoginException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Booting up Developer Test Bot...&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;jda&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;JDABuilder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;createDefault&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DISCORD_TEST_KEY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Presence&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jdaPresence&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jda&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getPresence&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;jdaPresence&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setActivity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Activity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;listening&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/status...&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;jdaPresence&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setStatus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;OnlineStatus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ONLINE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;jda&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CommandsListener&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;For those of you that are not familiar with the WebSocket protocol, it is a way to set up a stable connection between client and server to allow for bidirectional full-duplex communication between them (as opposed to the standard unidirectional requests a client sends towards server to immediately get a response). 
It is identified by the ws://-scheme (as opposed to the http:// or https:// schemes) and only a single TCP/IP socket is used for this channel (HTTP/HTTPS) throughout its existence.&lt;/p&gt;

&lt;p&gt;The exchange starts with the client sending a standard request to the server with a number of headers indicating that a WebSocket is needed (protocol switch). 
The response coming from the server (HTTP 101) indicates that it agrees to this, and passed a verification for the originator to identify it is responding to the client’s request. 
Once this WebSocket has been established, the server (or client) will send payloads wrapped in frames (ws scheme) to its counterpart. 
This will continue until either the server or the client sends a closing frame, prompting a closing reply. 
Once the closing reply is received, the WebSocket is terminated.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/2022-01-14-what-would-discord-bot-do/discordwebsocket.png&quot; alt=&quot;Workspace&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;There are various things you can do to the visualization of the bot in the server member list. 
The most common are setting the activity status of the bot and its activity label. 
My main method will set up the label the bot will show by setting its activity. 
I will set it with the label “Listening to /status…”. 
Other possible activities are Playing, Watching, Streaming… 
These activities do not do anything else than setting the label shown on the bot. 
The status of the bot (similar to your status in Teams) can be set with the setStatus method.&lt;/p&gt;

&lt;p&gt;The next thing to do, is to create a Listener for my bot that will react to events happening on the server. 
We add this listener (CommandsListener) to the JDA context with the addEventListener method. 
The Listener class itself should extend from the JDA class ListenerAdapter class. 
This gives us a number of methods we can overload to react to specific events. 
I have chosen only to react to messages posted in the text channels of my server, thus the onGuildMessageReceived method needs to be overloaded. 
A Discord guild is the collection of all particularities associated with your server: members, channels, etc…&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CommandsListener&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ListenerAdapter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;onGuildMessageReceived&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;@Nonnull&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GuildMessageReceivedEvent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Message&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;commands&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getContentRaw&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;\\s+&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/status&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;TextChannel&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getChannel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sendTyping&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sendMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Danger, Will Robinson!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since the commands I listen to might have parameters in the future, I decide to split up the incoming message with spaces as my delimiter. 
Then I have to verify that the incoming message is indeed a command, and not just a chat message from the guild members. 
For this reason, I check that the message is indeed the “/status” command the bot will need to react to. 
Once those checks have been made, I make the bot return the truth about any robot implementation: “Danger, Will Robinson!”. 
The messages in Discord can also be styled using a trimmed down version of Markdown. 
If you want to know what is possible, visit this &lt;a href=&quot;https://support.discord.com/hc/en-us/articles/210298617-Markdown-Text-101-Chat-Formatting-Bold-Italic-Underline-&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;link&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Another interesting command is the sendTyping method. 
This creates the three blinking dots indicating a bot is typing something. 
This is turned off when a message is sent to the Discord server. 
As you might have noticed, there is a bit functional programming going on in these code snippets. 
In short, you can prep the message you are about send to the server with numerous options, and at the end, when you execute the queue method, it will be sent.&lt;/p&gt;

&lt;p&gt;Sending back a simple message is maybe not that useful, but you can insert any java code here that you wish for: performing calculations, calling services, … 
You might even want to pay homage to EverQuest, one of the first successful MMORPGs, and implement a “/pizza” command allowing your members to order pizza, so they don’t have to leave their chairs for anything.&lt;/p&gt;

&lt;p&gt;TextMessage replies are however very bland. 
A more fanciful option is to send an Embed message. 
This allows setting additional components such as a title, a colour board, images, a footer with thumbnail and lots of other stuff. 
This gives for more options should the need be there.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CommandsListener&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ListenerAdapter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;onGuildMessageReceived&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;@Nonnull&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GuildMessageReceivedEvent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Message&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;commands&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getContentRaw&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;\\s+&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/status&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;TextChannel&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getChannel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sendTyping&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;EmbedBuilder&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;EmbedBuilder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTitle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;**Lost In Space**&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setDescription&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;The answer to your question: Danger, Will Robinson&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setColor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;RED&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setThumbnail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://cdn-icons-png.flaticon.com/512/3662/3662817.png&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setFooter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Status Alert!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;https:&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//st.depositphotos.com/1008244/1873/v/950/” + &lt;/span&gt;
	    &lt;span class=&quot;err&quot;&gt;“&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;depositphotos_18734623&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;illustration&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;skull&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;danger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;signs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;jpg&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sendMessageEmbeds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Triggering this listener will add the following message to the channel:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/2022-01-14-what-would-discord-bot-do/discordembed.png&quot; alt=&quot;Workspace&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;One last nugget of wisdom I will impart in this article: If you want to mention the member that typed the command for the bot in your bot’s reply, this can be done by adding the following piece of markup (&amp;lt;@!&amp;gt;):&lt;/p&gt;
&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sendMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;“&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Replying&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; + userId + &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Hello&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;there&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;”&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;mentionUsers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;mentionRepliedUser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Your bot is ready to go and be enjoyed by all the members that grace your digital playground. 
Now that it is clear what your bot should do, you should probably go back to the permissions in the Discord Developer Platform, remove the Administrator permission, and activate only those permissions it will need.&lt;/p&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Peter&quot;, &quot;last_name&quot;=&gt;&quot;De Kinder&quot;, &quot;github&quot;=&gt;&quot;peterdekinder&quot;, &quot;linkedin&quot;=&gt;&quot;peterdekinder&quot;, &quot;permalink&quot;=&gt;&quot;/author/peterdekinder/&quot;, &quot;avatar&quot;=&gt;&quot;peterdekinder.jpg&quot;, &quot;title&quot;=&gt;&quot;Solution Architect&quot;, &quot;email&quot;=&gt;&quot;peter.dekinder@ordina.be&quot;, &quot;bio&quot;=&gt;&quot;Peter is a Solution Architect with firm roots in the Java technosphere, but with a wide interest in all things architecture. His areas of specialization include Service Oriented Architectures, Business Process Management and Security.&quot;}</name><email>peter.dekinder@ordina.be</email></author><category term="development" /><category term="Java" /><category term="Discord" /><category term="EDA" /><category term="architecture" /><category term="software architecture" /><summary type="html">Online communication has been widespread for years already. But the current world situation has made it near ubiquitous. With social contact in real life (IRL) being restricted, our need for communication shifts to the digital world through a wide variety of platforms. One of those platforms that focuses heavily on the online gaming community is Discord. It offers text communication channels, functionality to videoconference with your friends, and share your screen as a live stream, usually showing off your gaming skills. It also offers a way to code interactions with those channels by employing bots.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/2022-01-14-what-would-discord-bot-do/discorddanger.jpg" /><media:content medium="image" url="https://ordina-jworks.github.io/img/2022-01-14-what-would-discord-bot-do/discorddanger.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Writing End-to-End Tests in Java with Selenium</title><link href="https://ordina-jworks.github.io/development/2021/11/03/selenium-e2e-testing.html" rel="alternate" type="text/html" title="Writing End-to-End Tests in Java with Selenium" /><published>2021-11-03T00:00:00+00:00</published><updated>2021-11-03T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/development/2021/11/03/selenium-e2e-testing</id><content type="html" xml:base="https://ordina-jworks.github.io/development/2021/11/03/selenium-e2e-testing.html">&lt;h1 id=&quot;table-of-contents&quot;&gt;Table of contents&lt;/h1&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;#end-to-end-testing&quot;&gt;End-To-End Testing&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#selenium&quot;&gt;Selenium&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#practical-example&quot;&gt;Practical Example&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;end-to-end-testing&quot;&gt;End-to-End Testing&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;/img/2021-10-04-selenium-e2e-testing/end-to-end.png&quot; class=&quot;image right medium&quot; /&gt;
End-to-end (often referred to as E2E) testing is a testing methodology used to test a complete flow from the beginning to the end of one or more specific use cases within your application.
Its main goal is to test your full application from an end user’s perspective and simulate everything that a real user would do.
This includes typing stuff, clicking buttons and/or links and test how your application responds to this behaviour.&lt;/p&gt;

&lt;p&gt;End-to-end testing can avoid, if done correctly, many complex situations and ensures that your application is stable and keeps working how it is intended to work.
If a button suddenly does not respond or does not behave in a way that you expect it to behave, end-to-end testing can detect this and warn you that your application is not functioning correctly.
Thanks to this, you can drastically improve stability, which gives you more time to implement features and reduces development costs.&lt;/p&gt;

&lt;p&gt;End-to-end testing often starts with a user interacting with a user interface which then interacts with your backend that executes code behind-the-scenes in order to display the correct information on the user interface.
This is done through an automated browser where the end-to-end test clicks and types for you.&lt;/p&gt;
&lt;h1 id=&quot;selenium&quot;&gt;Selenium&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://www.selenium.dev/documentation/en/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Selenium&lt;/a&gt; is an end-to-end testing framework which is available in many popular programming languages including Java, Python, JavaScript, … .
It provides a set of tools that allows you to connect with an automated browser that interacts with your frontend.
&lt;img src=&quot;/img/2021-10-04-selenium-e2e-testing/selenium-logo.png&quot; class=&quot;image right medium&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Some of Selenium’s features are:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Cross-platform testing (PC, Android, iPhone, …);&lt;/li&gt;
  &lt;li&gt;Locating web elements on a page with advanced filtering such as XPath;&lt;/li&gt;
  &lt;li&gt;Selecting and interacting with found elements;&lt;/li&gt;
  &lt;li&gt;Capture screenshots at critical moments such as adding an entry in a table, submitting a form, …;&lt;/li&gt;
  &lt;li&gt;Keyboard &amp;amp; mouse emulation;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Selenium offers other products such as Selenium IDE and Selenium Grid, but at the core of Selenium, there is &lt;a href=&quot;https://www.selenium.dev/documentation/webdriver/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;WebDriver&lt;/a&gt;.
WebDriver is an API provided by Selenium which controls the automated browser and is used to fluently write your test code. 
Each browser (Firefox, Chrome, …) has its own implementation of WebDriver. WebDriver then interacts with your browser’s driver in order to execute the behaviour that you have specified in your test.&lt;/p&gt;

&lt;h1 id=&quot;practical-example&quot;&gt;Practical example&lt;/h1&gt;
&lt;p&gt;This post comes with &lt;a href=&quot;https://github.com/yolanv/spring-boot-todo-demo/tree/selenium&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;a repository&lt;/a&gt; (branch &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;selenium&lt;/code&gt;) with a basic example of how Selenium works in a Spring Boot application.
This explains how you can use the WebDriver API to fetch and interact with certain elements and do various assertions or interactions to write your tests.
It also includes a small example of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WebDriverWait&lt;/code&gt;, which allows to pause the test and wait until a specific condition has been met on the page (i.e. loading an image, adding an entry to a table, …).
Both E2E tests capture a screenshot during interaction with the frontend and those screenshots can be found in the target folder. You can check in the implementation (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ScreenshotService&lt;/code&gt;) on how easy it is to add screenshot support.
This can be combined with JUnit functionality (Rule for JUnit 4 and Extension for JUnit 5), for example when you can take a screenshot if your test ends or fails.&lt;/p&gt;

&lt;p&gt;For simplicity, I chose to use the Firefox browser. You will need the browser installed (or change the WebDriver implementation to your browser) in order for the test to work.
You can run the tests yourself and watch how Selenium interacts with the automated browser. Make sure you changed the path of the &lt;a href=&quot;https://github.com/mozilla/geckodriver/releases&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;geckodriver&lt;/a&gt; binary in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BaseSeleniumE2ETest&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;test_e2e_assertvisiblehtmlelements&quot;&gt;test_E2E_AssertVisibleHtmlElements()&lt;/h2&gt;
&lt;p&gt;The first E2E test is a basic test that covers all the HTML elements that are visible (or, should be visible) on the main page.
In this test, various methods and approaches are used to find the desired elements and then to assert attributes like visiblity, text, colors, … .
Notice how the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WebDriverWait&lt;/code&gt; pauses the test and waits for the image to load before proceeding.
By far the best approach to find elements on the page is to use XPath, which is a language that provides an easy way to find HTML elements on the page.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;//table[@class='table']&lt;/code&gt; means that we want to find a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;table&lt;/code&gt; element on the page that contains the class &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;table&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_E2E_AssertVisibleHtmlElements&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Find the content of the title by going through various HTML attributes on the page&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// You can go step-wise through your HTML elements to find the right one by chaining findElement()&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;header&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;navbar&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;tagName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getText&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getTitle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;APP_TITLE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;APP_TITLE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Find the CSS value of a HTML element&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;navColor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;header&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;navbar&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCssValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;navColorHex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;fromString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;navColor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;asHex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;navColorHex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;COLOR_HEX_ORANGE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// We can ask the WebDriverWait to wait until the logo is done loading so we can proceed with the test&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// No chaining needed here, because 'logo' is only used by the img tag&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;waitDriver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;until&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ExpectedConditions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;elementToBeClickable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;logo&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)));&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Find the image through the class name 'logo'&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;logo&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getTagName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;img&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isDisplayed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isTrue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Easily find the table and the button on the page through XPath&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thead&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;xpath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;//table[@class='table']/thead&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theadRows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thead&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElements&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;tagName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;th&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theadRows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theadRows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getText&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Description&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theadRows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getText&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Delete&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tbody&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getTableBody&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tbody&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElements&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;tagName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tr&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isZero&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;addButton&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getAddTodoButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getText&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ADD_NEW_TODO_BUTTON&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;captureScreenshot&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;test_e2e_addnewtodototable_and_deletetodofromtable&quot;&gt;test_E2E_addNewTodoToTable_And_DeleteTodoFromTable()&lt;/h2&gt;
&lt;p&gt;The second (and last) E2E test actually interacts with the browser and asserts various elements based on these interactions.
The test is responsible for clicking on the “Add” button, fill in an item in the description text box and confirming the item, adding it to the table of TODOs.
Right after adding the item to the table, the test assures that the table contains an item and has the correct content, then deletes the item from the table.
Again, we use XPath in order to find the correct element because of the simple approach.
This time, the syntax is a little bit more advanced but definitely still easy to  use.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;//div[@class='modal-body']/form/button[@type='submit']&lt;/code&gt; searches for a button of type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit&lt;/code&gt; in a form in a div with class &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;modal-body&lt;/code&gt;.
We can find the first element in the table by using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;//td[1]&lt;/code&gt;. Notice how it says &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[1]&lt;/code&gt; and not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[0]&lt;/code&gt;. The starting index in XPath is always 1.
The “Delete” button is found by searching for the text inside the button (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;//button[@type='submit' and text() = 'Delete']&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_E2E_addNewTodoToTable_And_DeleteTodoFromTable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;InterruptedException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;addButton&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getAddTodoButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// interact with the button&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;addButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Wait two seconds to show visible changes&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Find an element on the page by using its id in the HTML element&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;formTitle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;modalTitle&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formTitle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getText&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MODAL_TITLE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;descriptionBox&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;todoDescription&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;descriptionBox&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getTagName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;input&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Type &quot;this is an E2E test&quot; in the input field&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;descriptionBox&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sendKeys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;This is an E2E test&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Wait two seconds to show visible changes&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;confirmButton&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;xpath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;//div[@class='modal-body']/form/button[@type='submit']&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Interact with the &quot;Add todo&quot; button&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;confirmButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;captureScreenshot&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tbody&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getTableBody&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tbody&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElements&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;tagName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tr&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Use CSS selectors to find the columns of the TODO entry on the page&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tbody&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;cssSelector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tr:nth-child(1)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElements&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;tagName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;td&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;xpath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;//td[1]&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getText&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;This is an E2E test&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Wait two seconds to show visible changes&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Find the delete button based on the input type and the text in the button&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deleteButton&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tbody&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;xpath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;//button[@type='submit' and text() = 'Delete']&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;deleteButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Verify that the item is removed from the table by checking if there are no &amp;lt;tr&amp;gt; elements&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getTableBody&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findElements&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;By&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;tagName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tr&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Yolan&quot;, &quot;last_name&quot;=&gt;&quot;Vloeberghs&quot;, &quot;linkedin&quot;=&gt;&quot;yolan-vloeberghs-23825aa3&quot;, &quot;github&quot;=&gt;&quot;yolanv&quot;, &quot;permalink&quot;=&gt;&quot;/author/yolan-vloeberghs/&quot;, &quot;avatar&quot;=&gt;&quot;yolan-vloeberghs.jpg&quot;, &quot;title&quot;=&gt;&quot;Java Consultant&quot;, &quot;email&quot;=&gt;&quot;yolan.vloeberghs@ordina.be&quot;, &quot;bio&quot;=&gt;&quot;Yolan Vloeberghs is a Java Consultant with a keen passion for Spring Boot projects and Java technology. He loves to play around with various technologies and frameworks and is very passionated and eager to learn about everything related to cloud development.&quot;}</name><email>yolan.vloeberghs@ordina.be</email></author><category term="development" /><category term="Java" /><category term="Selenium" /><category term="Testing" /><category term="End-To-End" /><category term="E2E" /><category term="Test" /><summary type="html">Table of contents End-To-End Testing Selenium Practical Example</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/2021-10-04-selenium-e2e-testing/banner.jpg" /><media:content medium="image" url="https://ordina-jworks.github.io/img/2021-10-04-selenium-e2e-testing/banner.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">5 Reasons not to go to the cloud</title><link href="https://ordina-jworks.github.io/leadership/2021/10/15/5-reasons-not-to-go-to-the-cloud.html" rel="alternate" type="text/html" title="5 Reasons not to go to the cloud" /><published>2021-10-15T00:00:00+00:00</published><updated>2021-10-15T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/leadership/2021/10/15/5-reasons-not-to-go-to-the-cloud</id><content type="html" xml:base="https://ordina-jworks.github.io/leadership/2021/10/15/5-reasons-not-to-go-to-the-cloud.html">&lt;p&gt;You were triggered by the title, weren’t you? 
You came here to look at the stupid arguments I wrote for defending legacy and on-premise solutions.
Unfortunately, I have to disappoint you already.
The title was indeed to trigger your interest.
This article will however provide you with some battle-tested answers to common reasons “not to go to the cloud”.
It will provide you with a strategy to counter common misconceptions for why the cloud “isn’t right for this project”.&lt;/p&gt;

&lt;p&gt;So if you’re working on a project and think you might benefit from moving to the cloud but are hitting walls of reasons not to do it, hang on tight because you might get some comebacks to counter the arguments.&lt;/p&gt;

&lt;p&gt;This blog will discuss the following 5 common scenarios which are used as reasons not to go to the cloud:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#we-cant-use-the-cloud-because-audit-said-we-cant&quot;&gt;We can’t use the cloud because audit said we can’t.&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#we-cant-use-the-cloud-because-its-too-expensive&quot;&gt;We can’t use the cloud because it’s too expensive&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#we-cant-use-the-cloud-because-its-not-secure&quot;&gt;We can’t use the cloud because it’s not secure&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#we-cant-use-the-cloud-because-were-not-the-size-of-netflix&quot;&gt;We can’t use the cloud because we’re not the size of Netflix&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#this-works-fine-why-bother&quot;&gt;This works fine, why bother?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;we-cant-use-the-cloud-because-audit-said-we-cant&quot;&gt;We can’t use the cloud because audit said we can’t&lt;/h2&gt;

&lt;p&gt;This is probably one of the most common reasons in the wild. 
You want to move some workload into a public cloud provider, but someone claims you can’t “because audit said we can’t”.&lt;/p&gt;

&lt;p&gt;This is a common misconception in a lot of projects. 
IT audits aren’t designed to prevent solutions from being created nor prevent the usage of any existing solution.
They impose a set of requirements that need to be fulfilled to comply with external regulations or internal rules.
Simply stating that “public cloud isn’t allowed by audit” is, therefore, a gross overstatement in a lot of cases.&lt;/p&gt;

&lt;h3 id=&quot;how-to-tackle-this-scenario&quot;&gt;How to tackle this scenario&lt;/h3&gt;

&lt;p&gt;As with most issues in companies, talking to the right people is paramount to getting something approved or resolved. 
This case is no different. 
Before moving workloads or spinning up resources in the cloud, ask (internal) audit about their requirements. 
Ask questions like the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;What reporting information do you need to provide?&lt;/li&gt;
  &lt;li&gt;Who is allowed to perform which actions, and even more important, which roles separation needs to exist?&lt;/li&gt;
  &lt;li&gt;Which scenarios need to be covered by controls?&lt;/li&gt;
  &lt;li&gt;What measures need to be in place to prevent which scenarios?&lt;/li&gt;
  &lt;li&gt;Which public cloud services meet the requirements out-of-the-box and which need additional measures?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Make sure to include them in your journey towards the cloud and ask them about what they require additionally while you are moving workloads.
Having them on board from the get-go makes it a lot easier to have their buy-in into the solution instead of disapproving certain things afterwards.&lt;/p&gt;

&lt;p&gt;It also helps to get people with extensive knowledge about your cloud provider to talk to the auditors.
They have an overview of what features are already available in the services and even which features are on the roadmap to be implemented.&lt;/p&gt;

&lt;p&gt;As an example, infrastructure changes need to be logged, audited, and stored in a non-changeable way. 
On Microsoft Azure, this is already available through the Activity Logs which are provided out of the box.&lt;/p&gt;

&lt;h2 id=&quot;we-cant-use-the-cloud-because-its-too-expensive&quot;&gt;We can’t use the cloud because it’s too expensive&lt;/h2&gt;

&lt;p&gt;This one actually originates from a lot of horror stories about companies moving to the cloud and forgetting about the cloud bill at the end of the month. 
Or some hacker got access to the account and started spinning up expensive machines to mine bitcoins.
There are multiple examples small and not so small companies having experienced this: &lt;a href=&quot;https://arstechnica.com/information-technology/2018/02/tesla-cloud-resources-are-hacked-to-run-cryptocurrency-mining-malware/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Tesla&lt;/a&gt;, &lt;a href=&quot;https://blog.tomilkieway.com/72k-1/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Announce&lt;/a&gt; and &lt;a href=&quot;https://www.teampay.co/insights/manage-cloud-costs/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Adobe&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To get started, the cloud isn’t for free, even though a lot of providers will give you some &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt; resources every month.
It’s still a service that you’re using and there will be a bill for it at the end of the month. 
But it’s not a reason to stay away from the cloud, quite the opposite.&lt;/p&gt;

&lt;h2 id=&quot;how-to-tackle-this-scenario-1&quot;&gt;How to tackle this scenario&lt;/h2&gt;

&lt;p&gt;The approach here differs somewhat compared to your starting scenario.&lt;/p&gt;

&lt;p&gt;The easiest way to counter this argument is of course to show that the public cloud is less expensive than the current platform. 
This can however be quite challenging because you need to have a platform already and the cost of that platform needs to be clear.
All major public cloud providers have an online calculator to estimate your costs based on your usage patterns. 
So if you’re in the position to input this information, this should provide you with a good estimate of the actual cost.
Being able to calculate the cost of the current platform is probably the harder part.
If you have internal cost centers, using those might be a good start if they reflect the real cost.
In some companies, the cost of the platform might actually be paid for by some central IT budget and isn’t really available to the different projects. 
If this is the case, try to ask the central department to provide you with some rough numbers or make a best-effort estimation yourself based on the budget, headcount and your own footprint in the platform. 
Make sure to include the headcount in the calculation of the platform as this is often forgotten when making these comparisons. 
And finally, if you’re in this situation and you are looking at a cloud provider, don’t forget to take the opportunity to look at re-platforming or re-architecting your solution. 
It might seem obvious, but costs could be heavily reduced by looking into managed solutions for existing components and since you’re changing anyway, you might as well invest in optimizing the solution.&lt;/p&gt;

&lt;p&gt;A second scenario is when there isn’t an application yet or it’s not live yet. 
This makes it harder to estimate how many resources you’ll need of course.
On the other hand, it will allow you to create solutions that use more integrated solutions from the public cloud provider.
These solutions are often more tightly integrated, but can also save you a lot of money because they are easier to operate and faster to build compared to traditional solutions. 
As most companies only have bare metal machines, a VM or container platform on-premise, the higher-level solutions can provide better operational abstractions and a lower cost of operating them.
Especially when you have a fully managed runtime like Google Cloud Run, AWS Lambda or Azure Functions.
With these solutions, you only provide the running code and the cloud provider actually operates the application.&lt;/p&gt;

&lt;p&gt;In both scenarios, the key to success in comparing public cloud against other options is to look at the so-called Total Cost of Ownership (TCO). 
This means you don’t only include the actual bill at the end of the month but also the cost of managing, operating and developing solutions on the platform you choose, including the headcount of the solutions.&lt;/p&gt;

&lt;p&gt;Another important practice to safeguard your cloud cost is to actively monitor them. 
Every major cloud provider allows you to set specific alerts for consumption. 
They even provide you with recommendations about sizing of resources and getting discounts based on sustained usage for example.
Setting these thresholds based on expected or budgeted amounts and acting when they are breached, should provide you with a good method to managing your cloud spends and prevent unexpected costly bills at the end of the month.&lt;/p&gt;

&lt;h2 id=&quot;we-cant-use-the-cloud-because-its-not-secure&quot;&gt;We can’t use the cloud because it’s not secure&lt;/h2&gt;

&lt;p&gt;This is one of my favourite ones because it can be both very valid and a totally bogus reason not to use the cloud.
To get the easy stuff out first, don’t use the public cloud if you have the following requirements:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;You need to be air-gapped&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And that’s about all the valid reasons, security-wise.&lt;/p&gt;

&lt;p&gt;It’s a common misconception that the public cloud isn’t as secure as your own data center.
It’s commonly told that it’s more secure to run software applications behind the firewall within an organisation because the organisation owns all the moving parts.
Looking at the multitude of security certifications that all major cloud providers have, it’s a pretty bold statement to claim that an organisation would be more secure compared to public cloud (&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/compliance/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Azure compliance&lt;/a&gt;, &lt;a href=&quot;https://aws.amazon.com/compliance/programs/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;AWS&lt;/a&gt;, &lt;a href=&quot;https://cloud.google.com/security/compliance/offerings&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Google&lt;/a&gt;).
I’d personally argue that most cloud providers are an order of magnitude more secure than most on-premise datacenters. 
For every security role in your organisation, they probably have dozens. 
Just because it doesn’t run in your data center, doesn’t mean that it’s less secure.&lt;/p&gt;

&lt;p&gt;As with the audit requirements, talking to your security people upfront is key here. 
Make sure that you understand their concerns and see how you can provide the right level of trust in the public cloud solution. 
Ask them which security requirements you need to fulfil and check if and how the cloud provider fulfils them. 
If you’re already live with an on-premise solution, make sure to make the comparison with the current solution. 
You’ll often find that the cloud provides more security features and that especially auditability of these features is a lot easier compared to the on-premise solutions.&lt;/p&gt;

&lt;p&gt;Lastly, create a set of known good configurations for the services you want to use. 
For example, if your organisation requires data-at-rest to be encrypted with your own key, create automation scripts or runbooks on how to configure that service in a way that is compliant with the security requirements. 
Creating governance policies (E.g. on &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/governance/policy/overview&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Azure&lt;/a&gt;) which are validated on the entire platform might help with proving that you’re in fact working securely. 
Due to the level of automation that’s possible on the cloud and the integration options between the different solutions, there are quite a lot of scenarios where the public cloud is actually more secure than an on-premise solution.&lt;/p&gt;

&lt;h2 id=&quot;we-cant-use-the-cloud-because-were-not-the-size-of-netflix&quot;&gt;We can’t use the cloud because we’re not the size of Netflix&lt;/h2&gt;

&lt;p&gt;This reason actually covers more than the title might lead you to believe. 
Some companies argue that the public cloud is not for them as they only need some small applications. 
One could actually argue that the opposite is true.
For many of the large “internet age” companies, it makes more sense to invest in their own infrastructure instead of paying public cloud providers literal millions each month to host their applications.&lt;/p&gt;

&lt;p&gt;Important to note is that cloud providers offer way more services than just plain compute capabilities also known as Virtual Machines (VMs). 
They offer a magnitude of managed services, most of them targetted at reducing the operational overhead and therefore cost, for their customers. 
Even if your requirement is to have plain vanilla VMs with some software you’re licensing, chances are high that a managed or packaged version is available on the cloud providers marketplace.&lt;/p&gt;

&lt;p&gt;So public cloud actually makes a lot of sense for a very wide range of customers. 
If you’re a small SME that basically needs some compute resources to run some licensed software, they have got you covered.
If you’re a startup looking to leverage ready to use building blocks and focus as much as possible on your added value and not on operational complexity, they’ve got you covered.
If you’re a large corporation that wants to reduce their TCO of owning, managing and operating their on-premise solutions, they’ve got you covered.&lt;/p&gt;

&lt;p&gt;I’d actually argue that the size of the organisation doesn’t really dictate if you can move to the cloud, it’s the culture and people.
Using the public cloud requires a slightly different and less siloed mindset in the organisation. 
Most of the time, you’ll get end-to-end responsibility and access to the components that you need in the cloud. 
This provides you with the flexibility to create the solution that fits you best, but it also means that there is no other team that will maintain or operate the resources you’re using.
Almost always, this freedom heavily outweighs the additional “management” of the resources and if it’s too much management, you probably need to look into one of the managed solutions offered by your cloud provider as a replacement for the resources you’re using.&lt;/p&gt;

&lt;h2 id=&quot;this-works-fine-why-bother&quot;&gt;This works fine, why bother?&lt;/h2&gt;

&lt;p&gt;This question should actually be the first one that should be asked by every manager when a potential move to anywhere (not just the public cloud) comes up.
“What’s in it for me?”
This question can be answered with all of the above arguments we already discussed, but we’ll highlight a couple of opportunities additionally here.&lt;/p&gt;

&lt;h3 id=&quot;reducing-time-to-market&quot;&gt;Reducing time to market&lt;/h3&gt;

&lt;p&gt;Being able to react to quickly changing markets and circumstances from a business standpoint is already important today, but it will only become more important in the future. 
Building software solutions that take months or even years before they see the first real usage, isn’t the best strategy in 2021 and it will be a terrible strategy soon. 
Companies that can respond quickly to changes and can validate new business ideas quickly will win the markets. 
The public cloud can help here as well. 
Since it offers a lot of managed solutions that can grow over time, it facilitates this testing and validating strategy. 
A simple application can be put live in a matter of days or even hours to validate a business idea. 
When the time comes to scale out the solution, it becomes as easy as allowing your application to scale to the required size and picking up the bill at the end of the month.&lt;/p&gt;

&lt;h3 id=&quot;attracting-talent&quot;&gt;Attracting talent&lt;/h3&gt;

&lt;p&gt;The public cloud is a hot topic within the software engineering community and there are a lot of people interested in it.
A nice advantage of using the public cloud is that you’ll have an easier time attracting highly skilled talent to work on the project.
On-premise solutions are often considered legacy and aren’t as attractive to new hires.
The cloud also provides a lot of certification and specialisation tracks, allowing you to effectively find people that have a proper record for using the solutions.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;The key takeaway of this post should be to talk to people.
Ask them why they are opposed to moving to the public cloud. 
Ask them what is needed to be allowed to move, which requirements you need to fulfil and why these requirements are relevant.
Don’t accept a plain NO without valid reasoning. 
Try to look for similar projects within your organisation and find out if there are examples of projects that have moved to the public cloud already.
Failing that, look at others like the &lt;a href=&quot;https://deutsche-boerse.com/dbg-en/media/press-releases/Deutsche-B-rse-and-Microsoft-reach-a-significant-milestone-for-cloud-adoption-in-the-financial-services-industry-1540058&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Deutsche Boerse&lt;/a&gt; or &lt;a href=&quot;https://www.youtube.com/watch?v=uz4bs9EQA0E&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Alphabet International Gmbh&lt;/a&gt; that have adopted public cloud as well.&lt;/p&gt;

&lt;p&gt;Feel free to reach out to &lt;a href=&quot;https://www.linkedin.com/in/pieter-vincken-a94b5153/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;me&lt;/a&gt; or any other Ordina colleagues if you want help with starting to adopt the cloud.&lt;/p&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Pieter&quot;, &quot;last_name&quot;=&gt;&quot;Vincken&quot;, &quot;linkedin&quot;=&gt;&quot;pieter-vincken-a94b5153&quot;, &quot;twitter&quot;=&gt;&quot;PieterVincken&quot;, &quot;github&quot;=&gt;&quot;pietervincken&quot;, &quot;permalink&quot;=&gt;&quot;/author/pieter_vincken/&quot;, &quot;avatar&quot;=&gt;&quot;pieter-vincken.jpeg&quot;, &quot;title&quot;=&gt;&quot;Cloud Automation Engineer&quot;, &quot;email&quot;=&gt;&quot;pieter.vincken@ordina.be&quot;, &quot;bio&quot;=&gt;&quot;Pieter Vincken is a Cloud Automation Engineer with a strong interest in anything related to Cloud Native. He likes to optimize development workflows, from Ideation until code running in production, by enabling CI/CD to be fully automated. Any solutions he creates, will have started as an architectural drawing.&quot;}</name><email>pieter.vincken@ordina.be</email></author><category term="Leadership" /><category term="cloud" /><category term="technical leadership" /><category term="architecture" /><summary type="html">You were triggered by the title, weren’t you? You came here to look at the stupid arguments I wrote for defending legacy and on-premise solutions. Unfortunately, I have to disappoint you already. The title was indeed to trigger your interest. This article will however provide you with some battle-tested answers to common reasons “not to go to the cloud”. It will provide you with a strategy to counter common misconceptions for why the cloud “isn’t right for this project”.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/2021-08-01-5-reasons-not-to-go-to-the-cloud/intro.jpeg" /><media:content medium="image" url="https://ordina-jworks.github.io/img/2021-08-01-5-reasons-not-to-go-to-the-cloud/intro.jpeg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Tips for being an influential technical team lead</title><link href="https://ordina-jworks.github.io/leadership/2021/07/06/Influential-tech-lead.html" rel="alternate" type="text/html" title="Tips for being an influential technical team lead" /><published>2021-07-06T00:00:00+00:00</published><updated>2021-07-06T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/leadership/2021/07/06/Influential-tech-lead</id><content type="html" xml:base="https://ordina-jworks.github.io/leadership/2021/07/06/Influential-tech-lead.html">&lt;p&gt;As a software engineer, I really enjoy creating applications and solving complex technical problems.
But some years ago, there it suddenly was: I was no longer only a “do-er” but an “oversee-er” as well.
At that point I had received very little formal managerial training, so learning on the job or from mentors was crucial to be successful.
The soft skills I needed for my new role turned out to be more difficult than I initially thought.
One of those difficult soft skills for me was (and often still is) the ability to influence people.
Influencing others is not just about getting them to agree with your point of view or manipulating them to get your way, nor does it involve forcing others to change by using power and control.
It’s about noticing what motivates others and using that knowledge to leverage performance and positive results.&lt;/p&gt;

&lt;p&gt;Taking up the technical team lead role is not always an easy one.
Often the skills necessary to be a great developer don’t translate easily to the role of a technical team lead.
In this post, I will give some tips on how to be an influential technical team lead.&lt;/p&gt;

&lt;h2 id=&quot;have-a-clear-vision&quot;&gt;Have a clear vision&lt;/h2&gt;
&lt;p&gt;A vision is a clear image of how you see the future.
It’s something that keeps you motivated and excited to do what you do.
A technical team lead must be able to both zoom in and zoom out on a project.
On one hand, you need to be able to look in detail into a technical requirement.
On the other hand, you also need to keep the bigger picture in mind and how the requirement fits into the greater vision.
If you’re a technical team lead that has no vision and isn’t going anywhere, then how can you expect your team will follow you?
In order to create a vision you can ask yourself questions like ”What do you want to achieve?, “Which (tangible) output do you want when achieving your goal?”, “How would that output change the way things are done now?”, …
Setting specific goals together with your team that move towards your vision will help you to achieve it.&lt;/p&gt;

&lt;p&gt;Once you have that vision and goals, being predictable is key.
By doing so, everybody knows what you’re trying to achieve.
The Don’t-Repeat-Yourself principle, which is a key principle for each software engineer, does not apply when working with people.
Communicate your vision and goals over and over again: repetition and predictability are key.&lt;/p&gt;

&lt;h2 id=&quot;be-collaborative&quot;&gt;Be collaborative&lt;/h2&gt;
&lt;p&gt;A top-down approach where nobody has a say in the process and where both vision and goals are pushed downwards, is very easy for team members to reject.
A different and more sustainable approach is to be a collaborative technical team lead.
This means that you regularly seek out a diversity of opinions and ideas amongst teammates to solve problems.
Involve your team in creating a shared vision, and identify the behaviours necessary to accomplish it.
It’s all about getting the team to think through these difficulties themselves instead of telling them what to do all the time.
As a result they are more engaged, feel trusted, and are more likely to take ownership of their work.
Building meaningful relationships is one of the key responsibilities of a technical team lead.&lt;/p&gt;

&lt;h2 id=&quot;practice-active-listening&quot;&gt;Practice active listening&lt;/h2&gt;
&lt;p&gt;We often think about influence as being what we say or how we say it, but improving your listening skills is key to gaining your team’s trust and creating psychological safety.
As technical team leads we’re often pulled in many directions throughout the day. 
The most common pitfall is that we listen to reply, not to understand.
It’s easy to be a passive listener by multitasking and only listening to the highlights. 
While it may seem like you don’t have time, making the time to really listen to your team can increase your leadership capacity significantly.
Active listening is the ability to focus completely on your team, understand their message, comprehend the information and respond thoughtfully in a relevant way.
This also includes not only capturing the message, but paying attention to subtle hints and non-verbal communication such as tone, emphasis, facial expressions and body language.
Keep in mind that a true servant leader only speaks about 20 to 30% of the time, the rest should be spent on listening.&lt;/p&gt;

&lt;p&gt;When your team members know that they will be heard, they are more likely to openly share their ideas and provide honest feedback.
Knowing how and when to gather knowledge of your team members is important, since you can then synthesize it into a better solution before deciding the course forward.&lt;/p&gt;

&lt;h2 id=&quot;influenceothers&quot;&gt;Influence others&lt;/h2&gt;
&lt;p&gt;At a basic level, influence is about compliance.
It is about getting someone to do what you want them to do, it allows you to get things done and achieve desired outcomes.
However, this can never be accomplished by power and control, but only by genuine commitment of other people.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/img/2021-07-06-Influential-tech-lead/planned-behaviour.png&quot; alt=&quot;Planned Behaviour&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This simplified diagram is based on “The theory of planned behaviour” by Icek Ajzen, a social psychologist and professor emeritus at the University of Massachusetts Amherst.
His theory assumes that before every Behaviour, there is an Intention.&lt;/p&gt;

&lt;p&gt;A simple practical example: you notice a specific behaviour from a software engineer on your team, namely that he/she refuses to write unit tests.
As a technical team lead, you are interested in why he/she formed the intention not to write these unit tests because you’re convinced that unit tests have a variety of benefits such as improving of code quality, finding bugs early and facilitating change.&lt;/p&gt;

&lt;p&gt;There are three elements that can help us trying to understand why your colleague formed this intention:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Attitude a.k.a “Is the behaviour good and is it right?”&lt;/strong&gt;:  We’re deciding if the behaviour is in our own best interest or if it is the right thing to do. So if we have a positive attitude towards the behaviour, it is more likely that we will perform the behaviour. &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Subjective norm a.k.a “What’s everyone else doing?”&lt;/strong&gt;: We’re asking ourselves what others think of the behaviour and how they judge it. If we think that others consider the behaviour to be normal or good, it is more likely that we will perform the behaviour. &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Perceived behavioural control a.k.a “Can I do it?”&lt;/strong&gt;: When we believe that behaviour is easy to perform, we are more likely to perform the behaviour.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;So when you’re asking the software engineer on your team to write unit tests, the three elements listed above will cross his mind and he/she will ask himself questions like: “Is it a good thing to write unit tests?”, “Is it in my own interest to write unit tests?”, “Does everyone write unit tests or is it just me?”, “Do I know how to write unit tests and do I have enough information/time to write them?”, …
Targeting each and every one of these elements is the key to success when you want your colleague to start writing unit tests.&lt;/p&gt;

&lt;p&gt;So what can you do to influence the other person’s thinking?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;“Is the behaviour good and is it right?”&lt;/strong&gt;: Identify what the other person cares about, what he/she thinks is good and what he/she thinks is the right thing to do. For example, your colleague might think it’s super important to finish his user story as quickly as possible. The key thing to do here as a technical team lead is not to be manipulative or dishonest, but to genuinely align your goals with his motivations and things he/she already cares about. Writing unit tests facilitates change, provides documentation, and ultimately saves time.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;“What’s everyone else doing?”&lt;/strong&gt;: You can present that writing unit tests is an industry standard and not some kind of crazy idea you’ve just come up with.
Presenting it as a good practice and being able to demonstrate why other successful teams or companies do it, is a good way to help your colleague see that what you’re asking him to do is normal in the industry.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;“Can I do it?”&lt;/strong&gt;: If your colleague thinks it is too difficult, he/she will never start writing unit tests. Therefore, present it as a clear and small change, and make it easy for him to do. Offer your support and show examples of good and successful unit tests so he/she gains confidence and knows he/she can do it.&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;“The key to successful leadership is influence, not authority.” – Ken Blanchard&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Martin&quot;, &quot;last_name&quot;=&gt;&quot;Kwee&quot;, &quot;permalink&quot;=&gt;&quot;/author/martin-kwee/&quot;, &quot;avatar&quot;=&gt;&quot;martin-kwee.jpg&quot;, &quot;title&quot;=&gt;&quot;Principal Consultant&quot;, &quot;title2&quot;=&gt;&quot;Competence Leader eHealth&quot;, &quot;email&quot;=&gt;&quot;martin.kwee@ordina.be&quot;, &quot;linkedin&quot;=&gt;&quot;martinkwee&quot;, &quot;bio&quot;=&gt;&quot;Martin is a Java consultant at Ordina Belgium. He enjoys a good technical challenge and has a strong interest in architecture and eHealth.&quot;}</name><email>martin.kwee@ordina.be</email></author><category term="Leadership" /><category term="leadership" /><category term="technical leadership" /><category term="influence" /><summary type="html">As a software engineer, I really enjoy creating applications and solving complex technical problems. But some years ago, there it suddenly was: I was no longer only a “do-er” but an “oversee-er” as well. At that point I had received very little formal managerial training, so learning on the job or from mentors was crucial to be successful. The soft skills I needed for my new role turned out to be more difficult than I initially thought. One of those difficult soft skills for me was (and often still is) the ability to influence people. Influencing others is not just about getting them to agree with your point of view or manipulating them to get your way, nor does it involve forcing others to change by using power and control. It’s about noticing what motivates others and using that knowledge to leverage performance and positive results.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/2021-07-06-Influential-tech-lead/influence.jpeg" /><media:content medium="image" url="https://ordina-jworks.github.io/img/2021-07-06-Influential-tech-lead/influence.jpeg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Ordina Internship TC Guard</title><link href="https://ordina-jworks.github.io/internship/2021/06/15/TC-Guard.html" rel="alternate" type="text/html" title="Ordina Internship TC Guard" /><published>2021-06-15T00:00:00+00:00</published><updated>2021-06-15T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/internship/2021/06/15/TC-Guard</id><content type="html" xml:base="https://ordina-jworks.github.io/internship/2021/06/15/TC-Guard.html">&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;
&lt;p&gt;We started our internship at Ordina in February 2021 which lasted for 15 weeks.
The internship was a part of our thesis, which was necessary to graduate.
During this internship, we developed an Android application to assist drivers while driving trough a trajectory control.
Alongside the application, we also developed an API using Spring Boot. These two components made it possible to learn and use Kubernetes. 
Certain technologies were installed on the Kubernetes cluster to enable metrics and centralized logging.
During the internship, we were introduced to a wide range of technologies that we’ve never used during our bachelor’s degree.&lt;/p&gt;

&lt;h1 id=&quot;azure-devops&quot;&gt;Azure DevOps&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/img/2021-05-27-TC-Guard/azure_devops.png&quot; class=&quot;image right medium&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Azure DevOps has a plethora of technologies to provide assistance throughout the development cycle.
We used a handful of these technologies for this project, including Azure Repos, Azure Pipelines, Azure Artifacts and Azure Boards.
It also allowed us to work with scrum using the built-in boards, which ensured that the mentors could track our progress.
Overall, Azure DevOps is a very useful and feature-rich platform to use.&lt;/p&gt;

&lt;h1 id=&quot;api&quot;&gt;API&lt;/h1&gt;
&lt;p&gt;Our first experience with Java was in highschool, where we learned most of the programming basics. 
In college, we only used Java during our Android Development course.
Because of this, we weren’t that well versed when it came down to Java specific features.
While working on the API, we learned quite a lot about Java, but also some programming principles.&lt;/p&gt;

&lt;h3 id=&quot;spring&quot;&gt;Spring&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/img/2021-05-27-TC-Guard/spring.png&quot; class=&quot;image left medium&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The Spring framework is a Java platform that provides comprehensive infrastructure support for developing Java applications. 
We started out by creating a small RESTful API using one of the tutorials on the official Spring website. 
Alongside the tutorial we also used the extensive online documentation.&lt;/p&gt;

&lt;p&gt;In college, we had a .NET course where we used ASP.NET to build an API.
We quickly discovered while working with Spring Boot that our preference goes to Spring instead of ASP.NET.
One of the reasons is that Spring Boot does a lot for the developer while in ASP.NET you have to do more things manually.&lt;/p&gt;

&lt;h3 id=&quot;postgresql&quot;&gt;PostgreSQL&lt;/h3&gt;
&lt;p&gt;The API’s database is a PostgreSQL database, which is used to store the collected data, the recorded trajectory controls and the drivers.
Flyway is used to keep our database structure up-to-date using migrations.&lt;/p&gt;

&lt;h3 id=&quot;api-first&quot;&gt;API First&lt;/h3&gt;
&lt;p&gt;To develop the API, we used the API-first design principle. This approach includes developing APIs that are consistent and reusable.
This can be achieved by creating an API contract that describes the capabilities and behavior of the API.
This ensures that more time is spent thinking about the design of the API.
It often included additional planning and collaboration with our mentors.
We drew up this contract ourselves. 
Later we found that there is a Swagger Editor that uses the Open API type. 
Since we already had a contract we decided not to use it.
They provided feedback on the design of the API before any code was written.
The first code that was written were tests.
This method is called Test Driven Development (TDD).
Specific attention was paid to the API contract, as the tests are based on them.
TDD also allows for bugs to be found at an early stage because after writing code, the developers can run the tests and thus check whether the code works or not.&lt;/p&gt;

&lt;h1 id=&quot;android-application&quot;&gt;Android Application&lt;/h1&gt;
&lt;p&gt;The user can add trajectory controls themselves via the record button.
Once the user has passed the starting point of their trajectory control, they must press this button to start the process.
During this process the starting point is saved and a checkpoint is added every 100 meters.
When the user passes the end point of their trajectory control, they need to press this button again to define the end point and the maximum speed.
The application will ask the user for the maximum speed.
This will be automatically filled in by a speculation performed by the application.
Once the process is finished, the trajectory control will be stored in the database via the API.&lt;/p&gt;

&lt;h3 id=&quot;android-native&quot;&gt;Android Native&lt;/h3&gt;
&lt;p&gt;Android Native was already known because of the Android Development subject.
As a result, we did not encounter too many problems in terms of development.
The biggest problem we have experienced is that Android Native is not that user friendly in terms of design.
If we were to start over, we would prefer a Hybrid approach like Ionic or NativeScript instead of Android Native.&lt;/p&gt;

&lt;h3 id=&quot;finished-product&quot;&gt;Finished Product&lt;/h3&gt;

&lt;p style=&quot;display:flex; justify-content:space-around&quot;&gt;
  &lt;img src=&quot;/img/2021-05-27-TC-Guard/main.png&quot; style=&quot;width: 45vw; max-width: 350px;&quot; /&gt; 
  &lt;img src=&quot;/img/2021-05-27-TC-Guard/dashboard.png&quot; style=&quot;width: 45vw; max-width: 350px;&quot; /&gt;
&lt;/p&gt;

&lt;h1 id=&quot;kubernetes&quot;&gt;Kubernetes&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/img/2021-05-27-TC-Guard/schema.png&quot; class=&quot;image fit&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The figure above shows the block diagram of this project.
This diagram represents all the components of this internship.
Each component will be briefly discussed below.
All applications required for this internship run within a single Kubernetes cluster.
Inside this cluster, Argo CD is used to keep everything up-to-date.
The Android application is connected to the TC Guard API using Contour.
This is also used to expose the Graylog dashboard to the public.
TC Guard and Graylog are connected so that the logs from TC Guard can be sent to Graylog.
The data collected by the Android application is stored in the PostgreSQL database via the TC Guard API.
When the application needs this data, it is retrieved again via the TC Guard API.
The last block connected to the TC Guard API is Prometheus.
Prometheus is used to observe the API.
The resulting data is then displayed in the Grafana dashboard.&lt;/p&gt;

&lt;h3 id=&quot;argo-cd&quot;&gt;Argo CD&lt;/h3&gt;
&lt;p&gt;Argo CD is a Continuous Delivery GitOps tool for Kubernetes.
Within the internship assignment, this is used to install Helm charts on the Kubernetes cluster.
If a change is made on the Azure DevOps repository, Argo CD will detect this and implement the changes on the Kubernetes cluster via a rolling update.&lt;/p&gt;

&lt;p&gt;It was quite satisfying to observe the changes being applied.
Argo CD made managing our applications much easier.
For example when we updated Graylog, the only thing we had to do was change the version number in a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.yaml&lt;/code&gt; file and Argo CD took care of everything else.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2021-05-27-TC-Guard/argocd.png&quot; class=&quot;image fit&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ingress&quot;&gt;Ingress&lt;/h3&gt;
&lt;p&gt;Ingress provides routing rules to manage remote users’ access to services in a Kubernetes cluster. With Ingress, simple rules can be set for routing traffic without exposing every service on the endpoint.
While setting up Ingress, a few issues surfaced due to our inexperience with Kubernetes.
Because the online documentation of Ingress nginx was rather limited, setting up Ingress took a fair amount of time.
Afterwards, Ingress nginx was replaced by Contour.
By this time we had more experience with Kubernetes.
Because of this, the switch to Contour went smoothly.&lt;/p&gt;

&lt;h3 id=&quot;graylog&quot;&gt;Graylog&lt;/h3&gt;
&lt;p&gt;The centralized logging system aims to obtain the logs of the API and the Android application in a central place so that it would be easier to detect errors.
To obtain and view the logs in a central place, Graylog is used.
We chose Graylog because it is much easier to use than Kibana.
We knew that Kibana has more features than Graylog, but for this project it was not required.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2021-05-27-TC-Guard/graylog.png&quot; class=&quot;image fit&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;grafana&quot;&gt;Grafana&lt;/h3&gt;
&lt;p&gt;Prometheus was used to observe the API.
Prometheus collects metrics from targets by scraping given HTTP endpoints.
Actuator is a Spring Boot plugin that is used to manage and monitor your application by using HTTP endpoints. 
This makes it possible for Prometheus to gather metrics and monitor the health of the application. 
Grafana then uses Prometheus as a source to display the metrics on a custom dashboard.&lt;/p&gt;

&lt;p&gt;We were unsure how to add a target to Prometheus while it was running on Kubernetes. 
Because we were not sure how to modify the config file, a lot of time was lost.
To solve this problem we had to create a secret that contains the target.
This secret should then be added to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;prometheus.yaml&lt;/code&gt; file.
When rebooting the Prometheus pod, the target was added.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2021-05-27-TC-Guard/grafana.png&quot; class=&quot;image fit&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;During this internship there were a lot of new technologies covered such as Spring, Kubernetes, Graylog and so on.
The internship assignment consisted of three main parts including the Android application, the Spring Boot API and Kubernetes.
As described earlier, the biggest problem that we experienced was that Android Native is not that user friendly in terms of design.
If we were to start over, we would go for a Hybrid approach like Ionic or NativeScript instead of Android Native.
Once we had the basics of the application, we started working on the Spring Boot API.
Spring was completely new to us, but because of the complete and structured online documentation, the learning process went smoothly with some guidance from our mentors.
The mentors had a few remarks.
The remarks were justified, they were about our structure and programming style.
In order to improve the structure, Domain-Driven Design was recommended by our mentors.
As a last important part, we deployed the API on Kubernetes.
Besides the API, a few other things were implemented on the Kubernetes cluster such as Graylog and Grafana.
Kubernetes was completely new to us as it was not covered in the graduate program Application Development.
We found that the learning curve is quite steep in the beginning because it were all new concepts.
Because of the proper guidance from our mentors, we got through this initial period.
At the end of the internship, working with Kubernetes didn’t scare us anymore and dealing with it was less difficult.&lt;/p&gt;

&lt;p&gt;We would like to thank Frederick Bousson for offering us this wonderful opportunity.
Furthermore, we would like to thank Jeff Mesens and Nils Devos.
Thanks to their contribution we were able to successfully complete this project.
Without their help, we could not have made such a great evolution.&lt;/p&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Jeroen&quot;, &quot;last_name&quot;=&gt;&quot;Vereecken&quot;, &quot;permalink&quot;=&gt;&quot;/author/jeroen-vereecken/&quot;, &quot;avatar&quot;=&gt;&quot;jeroen-vereecken.jpeg&quot;, &quot;title&quot;=&gt;&quot;Intern&quot;, &quot;email&quot;=&gt;&quot;jeroen.vereecken@ordina.be&quot;, &quot;bio&quot;=&gt;&quot;Jeroen Vereecken is a last year student Electronica-ICT Application Development at Thomas More Campus De Nayer.&quot;}</name><email>jeroen.vereecken@ordina.be</email></author><category term="Internship" /><category term="Spring" /><category term="Spring Boot" /><category term="Cloud-Native" /><category term="Git" /><category term="DevOps" /><category term="Docker" /><category term="Kubernetes" /><category term="Android" /><summary type="html">Introduction We started our internship at Ordina in February 2021 which lasted for 15 weeks. The internship was a part of our thesis, which was necessary to graduate. During this internship, we developed an Android application to assist drivers while driving trough a trajectory control. Alongside the application, we also developed an API using Spring Boot. These two components made it possible to learn and use Kubernetes. Certain technologies were installed on the Kubernetes cluster to enable metrics and centralized logging. During the internship, we were introduced to a wide range of technologies that we’ve never used during our bachelor’s degree.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/2021-05-27-TC-Guard/schema.png" /><media:content medium="image" url="https://ordina-jworks.github.io/img/2021-05-27-TC-Guard/schema.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Immo chatbot</title><link href="https://ordina-jworks.github.io/cloud/2021/05/27/Chatbot-Immo.html" rel="alternate" type="text/html" title="Immo chatbot" /><published>2021-05-27T00:00:00+00:00</published><updated>2021-05-27T00:00:00+00:00</updated><id>https://ordina-jworks.github.io/cloud/2021/05/27/Chatbot-Immo</id><content type="html" xml:base="https://ordina-jworks.github.io/cloud/2021/05/27/Chatbot-Immo.html">&lt;h1 class=&quot;no_toc&quot; id=&quot;table-of-contents&quot;&gt;Table of contents&lt;/h1&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#introduction&quot; id=&quot;markdown-toc-introduction&quot;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#architecture&quot; id=&quot;markdown-toc-architecture&quot;&gt;Architecture&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#chatlayer&quot; id=&quot;markdown-toc-chatlayer&quot;&gt;Chatlayer&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#chatbots-in-general&quot; id=&quot;markdown-toc-chatbots-in-general&quot;&gt;Chatbots in general&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#intents-expressions-and-entities&quot; id=&quot;markdown-toc-intents-expressions-and-entities&quot;&gt;Intents, expressions, and entities&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#building-blocks&quot; id=&quot;markdown-toc-building-blocks&quot;&gt;Building blocks&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-multilingualism-of-the-bots&quot; id=&quot;markdown-toc-the-multilingualism-of-the-bots&quot;&gt;The multilingualism of the bots&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#flows&quot; id=&quot;markdown-toc-flows&quot;&gt;Flows&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#search-a-premises&quot; id=&quot;markdown-toc-search-a-premises&quot;&gt;Search a premises&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#api-implementation&quot; id=&quot;markdown-toc-api-implementation&quot;&gt;API implementation&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#report-a-problem--ask-a-question&quot; id=&quot;markdown-toc-report-a-problem--ask-a-question&quot;&gt;Report a problem / ask a question&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#database&quot; id=&quot;markdown-toc-database&quot;&gt;Database&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#repairs&quot; id=&quot;markdown-toc-repairs&quot;&gt;Repairs&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#renovations--design&quot; id=&quot;markdown-toc-renovations--design&quot;&gt;Renovations / design&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#google-calendar-integration&quot; id=&quot;markdown-toc-google-calendar-integration&quot;&gt;Google calendar integration&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#getting-access&quot; id=&quot;markdown-toc-getting-access&quot;&gt;Getting access&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#enable-api&quot; id=&quot;markdown-toc-enable-api&quot;&gt;Enable API&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#get-authorization-code&quot; id=&quot;markdown-toc-get-authorization-code&quot;&gt;Get authorization code&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#exchange-authorization-code-for-refresh-and-access-tokens&quot; id=&quot;markdown-toc-exchange-authorization-code-for-refresh-and-access-tokens&quot;&gt;Exchange authorization code for refresh and access tokens&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#getting-an-access-token-with-the-refresh-token&quot; id=&quot;markdown-toc-getting-an-access-token-with-the-refresh-token&quot;&gt;Getting an access token with the refresh token&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#getting-the-data-from-the-calendar&quot; id=&quot;markdown-toc-getting-the-data-from-the-calendar&quot;&gt;Getting the data from the calendar&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#creating-new-client&quot; id=&quot;markdown-toc-creating-new-client&quot;&gt;Creating new client&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#get-freebusy-schedule&quot; id=&quot;markdown-toc-get-freebusy-schedule&quot;&gt;Get freebusy schedule&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#get-free-meeting-times&quot; id=&quot;markdown-toc-get-free-meeting-times&quot;&gt;Get free meeting times&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#send-the-meeting-times-back-to-chatlayer&quot; id=&quot;markdown-toc-send-the-meeting-times-back-to-chatlayer&quot;&gt;Send the meeting times back to Chatlayer&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#create-an-event&quot; id=&quot;markdown-toc-create-an-event&quot;&gt;Create an event&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#solid&quot; id=&quot;markdown-toc-solid&quot;&gt;Solid&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#introduction-to-solid&quot; id=&quot;markdown-toc-introduction-to-solid&quot;&gt;Introduction to Solid&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#why-do-we-use-solid&quot; id=&quot;markdown-toc-why-do-we-use-solid&quot;&gt;Why do we use Solid?&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#what-is-solid&quot; id=&quot;markdown-toc-what-is-solid&quot;&gt;What is Solid?&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#self-hosting-solid-pod-server&quot; id=&quot;markdown-toc-self-hosting-solid-pod-server&quot;&gt;Self hosting Solid pod server&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#register&quot; id=&quot;markdown-toc-register&quot;&gt;Register&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#login&quot; id=&quot;markdown-toc-login&quot;&gt;Login&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#edit-profile&quot; id=&quot;markdown-toc-edit-profile&quot;&gt;Edit profile&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#your-data&quot; id=&quot;markdown-toc-your-data&quot;&gt;Your data&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#sharing-of-data&quot; id=&quot;markdown-toc-sharing-of-data&quot;&gt;Sharing of data&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#turtle-rdf&quot; id=&quot;markdown-toc-turtle-rdf&quot;&gt;Turtle (RDF)&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#how-to-access-your-data&quot; id=&quot;markdown-toc-how-to-access-your-data&quot;&gt;How to access your data?&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot; id=&quot;markdown-toc-conclusion&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;
&lt;p&gt;As we all know, Ordina is a company that is always looking to be ahead of change, by looking for the newest technologies to work with and seeing where these technologies can be useful. 
This is also one of the main objectives of my internship, investigating a new technology, investigating how fast and easy it is for non-IT users with almost no knowledge of chatbots, to set one up.&lt;/p&gt;

&lt;p&gt;In this case, I made a chatbot for a real estate agency. 
At the moment, the real estate agency plays an intermediary role between tenant and landlord. 
All the questions of the tenants are coming straight to the customer service. 
Chatbots are a handy tool for customer services because they are able to take over a lot of frequently asked questions, and are available 24/7. Therefore, the customer service can run more efficiently and they will have extra time for their other tasks.&lt;/p&gt;

&lt;p&gt;My official mentor was Frederick Bousson, he had help from Jasper Rosiers and Hans Vanbellingen who were my daily mentors and the people who I could reach out to if I had any questions.&lt;/p&gt;

&lt;h1 id=&quot;architecture&quot;&gt;Architecture&lt;/h1&gt;
&lt;div style=&quot;text-align: center;&quot;&gt;
  &lt;img alt=&quot;Architecture&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/architecture.jpg&quot; width=&quot;auto&quot; height=&quot;auto&quot; target=&quot;_blank&quot; class=&quot;image fit&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;This is the setup of the project. 
This architecture has been changed a few times during the internship. 
This mostly has to do with the Solid database because this is such a new technology. 
At the start, we didn’t quite know how to start and how it all worked.
So as the internship progressed, the architecture grew bigger. 
All the different parts of the architecture will be explained in depth in the next chapters.
For the APIs, connecting everything together, we built a Spring Boot application.&lt;/p&gt;

&lt;h1 id=&quot;chatlayer&quot;&gt;Chatlayer&lt;/h1&gt;
&lt;p&gt;First things first, the chatbot. 
This is where the project begins. 
But before we dive into the platform I’m using to build the bot, we must have an understanding of how chatbots actually work.&lt;/p&gt;

&lt;h2 id=&quot;chatbots-in-general&quot;&gt;Chatbots in general&lt;/h2&gt;
&lt;p&gt;Almost everyone has come across a site with a chatbot, maybe without even realizing it. 
Think about those little popups you see on a website offering you some help with whatever you are doing. 
That’s a chatbot. 
There are three main types of chatbots:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Rule-based &lt;br /&gt;
 This one is the simplest type of chatbot today. People interact with this chatbot with buttons and pre-defined options.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Intellectually independent chatbots&lt;br /&gt;
 This kind of chatbot uses machine learning which helps the bot learn from the user’s inputs and requests.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;AI-powered chatbots&lt;br /&gt;
 AI-powered bots combine the best of the previous two types. 
 So they have  predefined flows but they can also understand free written language. 
 For the understanding of the language, the chatbot uses NLP (Natural Language Processing). 
 This involves two processes, NLU (Natural Language Understanding) and NLG (Natural Language Generation).
 NLU is the ability that a chatbot has to understand the user. 
 It maps the text that a user enters to a format that a computer can understand. 
 Then we have NLG, the other important part of NLP. 
 NLG is the process that, as you can probably get from the name, transforms data into words. 
 So it’s the generation of text.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When a chatbot is asked a question, the bot will break it down into an intent and entities. 
Now, what exactly are these two terms?&lt;/p&gt;

&lt;h2 id=&quot;intents-expressions-and-entities&quot;&gt;Intents, expressions, and entities&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Intent:&lt;/strong&gt;&lt;br /&gt;
Well, an intent is something that a user would like to accomplish with the question. 
Another way to put it could be the user’s intention or need. Let me give an example.
When a user asks a question like: ‘We need tickets to go to Brussels’. 
The intent is ‘buy a train ticket’.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Expression:&lt;/strong&gt;&lt;br /&gt;
Another important term related to intents is ‘expression’. 
In order for the AI to correctly identify an intent, it has to learn a couple of ways to express a certain intent. 
This is where the expressions come into play. 
When we add an intent to the chatbot, we must provide the bot with a couple of ways a user could say/express the intent. 
It’s obvious that we need to provide enough examples that convey the same message for each intent. 
The more expressions that are added, the more accurate the chatbot will be. 
When you add expressions to an intent you need to make sure that there is enough variation between the different expressions.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Entities:&lt;/strong&gt;&lt;br /&gt;
At last, we have the entities. 
These are small words or even word groups that are very relevant for the flow of the conversation. 
Entities could be names, cities, companies, etc. 
If we go back to the example I gave at Intent, Brussels is an entity. 
It holds the name of the city where the user would like to go to. 
Be aware that you should only use entities when the value is needed in the continuation of the flow.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;intent&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/intent.jpg&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 700px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&quot;building-blocks&quot;&gt;Building blocks&lt;/h2&gt;
&lt;p&gt;To build a chatbot, Chatlayer provides us with several different building blocks. 
Each of these has a different function.
On every bot dialog, you can put an intent, a required context, and an output context.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image left&quot;&gt;&lt;img alt=&quot;feedback&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/feedback.jpg&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 400px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;An intent is explained before so you should know what that is 😉. 
If the user sends a message to the bot, the AI will check if it recognizes an intent. 
If this is the case, the chatbot will display the message where the intent is set.&lt;/p&gt;

&lt;p&gt;The required context and output context belong together. 
Think for example about the intent ‘Yes’ or ‘No’. 
If the bot asks a question where the user can answer yes or no, we can use these intents. 
But if there are multiple dialogs with the ‘Yes’ and ‘No’ intent, how could the bot know which dialog to go to?&lt;/p&gt;

&lt;p&gt;If you take a look at this example in the first dialog, the bot asks the user if he/she wants to give some feedback about the bot. 
The user can answer with yes or no. If the answer is yes, the bot will go to the input validation (green), otherwise, it will go to the bot message (grey). 
To know to which “general.yes_or_agreed” intent the bot should go to, it can look at the output context and required context. 
In the dialog where the question is asked, you can give an output context. 
The bot will now look for a dialog with the right intent and the right context. 
That way you are sure that you will be going to the correct dialog.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.chatlayer.ai/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;A full tutorial on building bots within Chatlayer can be found here.&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;the-multilingualism-of-the-bots&quot;&gt;The multilingualism of the bots&lt;/h2&gt;
&lt;p&gt;To set up a multilingual bot, you first need to make the bot in the primary language. 
I first made my chatbot in Dutch. Afterwards, you can easily translate all the messages and intents in an overview, retrain the NLP for that language and it is done! My chatbot is set up in Dutch and English.&lt;/p&gt;

&lt;p&gt;Not every chatbot provider offers this functionality, which is one of the reasons we chose Chatlayer in this setup.&lt;/p&gt;

&lt;h2 id=&quot;flows&quot;&gt;Flows&lt;/h2&gt;

&lt;h3 id=&quot;search-a-premises&quot;&gt;Search a premises&lt;/h3&gt;
&lt;p&gt;Our first flow relates to searching for premises. 
I of course didn’t have access to the database of the real estate agency so I had to find a different solution. 
So in this flow, the user gets asked a lot of questions about the premises, like maximum price, location, number of bedrooms…. 
With this information, I could construct a URL where the user could click on. 
This leads the user to the real estate agency website with the search results. 
In a more extended practical case, the bot could list the relevant premises right into the chatbot.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image right&quot;&gt;&lt;img alt=&quot;houseSearch&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/houseSearch.jpg&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 400px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;At the end of each flow, the bot asks the user if he/she needs help with something else. 
If the user answers with yes, a new flow can begin. 
Below you can see the diagram of this first flow. 
As you can see, a lot of the parameters are optional. 
If the user wants to see all the houses without filling out the other questions, he/she can do so. 
The decision in the beginning “Does premises have bedrooms” is a decision the chatbot will make based on the type of premises the user chooses. 
I made this a go-to. If the type of the premises equals “houses” or “apartments”, the bot will go to the dialog where the user could enter his/her preference about the rooms. 
Otherwise, the bot will go to the next bot dialog.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;flow-diagram&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/flow-diagram.jpg&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1200px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h4 id=&quot;api-implementation&quot;&gt;API implementation&lt;/h4&gt;
&lt;p&gt;At the end of the flow, the chatbot will send an API call with the necessary parameters to construct a URL. 
There is a basic url to which we can attach a piece depending on which parameter has been entered.&lt;/p&gt;

&lt;p&gt;In the service the first thing I check is if the ‘status’ parameter has a value. 
The parameter can contain either ‘buy’ or ‘rent’. 
If this is not the case, there will be an error message which is sent back to the chatbot. 
The option if the user wants to buy, or to rent, is the only mandatory parameter. 
It could be possible that all the other parameters are empty. 
The rest of the function is all about checking if these parameters are null or not and attaching the correct pieces of the url.&lt;/p&gt;

&lt;p&gt;It would be nice if we could just send a string back to the chatbot which it will display in a bot message. 
Sadly this is not the case. Chatlayer expects the API response to be in a specific format. 
The structure needs to be like the image below but they could be null.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;profile&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/ChatlayerResponse.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;As you can see, we need to provide Chatlayer with three things:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Session&lt;br /&gt;
Here we can pass along some variables that will be stored in de session storage.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Messages&lt;br /&gt;
Here we can specify which messages we would like to send to the chatbot, which will then display those messages to the user. 
It’s not limited to a normal text message, you could also construct some buttons, a carousel…&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Action&lt;br /&gt;
This is used to specify the next dialog the bot should go to.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In this flow, I used this twice. 
One time to send the URL back to the user and once to display an error message if something has gone wrong. 
Because this was the first simple flow that we had set up in the chatbot and we knew that this was not the main flow I had chosen to, for now, just send the URL back to the chatbot as a text message.&lt;/p&gt;

&lt;h3 id=&quot;report-a-problem--ask-a-question&quot;&gt;Report a problem / ask a question&lt;/h3&gt;
&lt;p&gt;The second flow has a connection to the React application and is able to send problems/questions to the API which saves these in the database. 
More about the React application, API, and database come later in this blog.&lt;/p&gt;

&lt;p&gt;To start at the beginning, the first thing a user has to do is log in to his/her Solid environment and specify their role (tenant/landlord). 
When the user is logged in, the chatbot gets the information about the user and the next bot dialog is being shown based on the role. 
Currently, only the tenant flow is worked out. 
The user gets a message from the bot that they can ask their question. 
It gives a few examples where the user could choose from.&lt;/p&gt;

&lt;h4 id=&quot;database&quot;&gt;Database&lt;/h4&gt;
&lt;p&gt;In the architecture you can see that there is a MySQL database. 
You might wonder “If we already use a Solid database, then why would we use another?”. 
A Solid database is not really designed for searching through large amounts of data. 
So the data from the Solid is copied to this database in the cloud where we can easily search through the data. 
Below you will find a simple ERD of the database. 
I made this together with Jasper. 
This is the only flow where the database is currently used.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;profile&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/ERD.jpg&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1300px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h4 id=&quot;repairs&quot;&gt;Repairs&lt;/h4&gt;
&lt;p&gt;One of the paths that are worked out is if the user has a reparation that needs to be done or they have a question about who has to pay for the reparation. 
The user can reach this flow by clicking “Repairs” at the start, or just asking their question. 
They would have to answer a couple of questions about the reparation, think about the location and what is broken or needs to be repaired. 
Then, the bot will answer the most important question: “who has to pay for this?”. 
At the end of the conversation, the chatbot will send a request to the API with the problem and the user information to be saved in the database.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image left&quot;&gt;&lt;img alt=&quot;houseRepairs&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/houseRepairs.jpg&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 400px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h4 id=&quot;renovations--design&quot;&gt;Renovations / design&lt;/h4&gt;
&lt;p&gt;The other path that is worked out is for the design and renovation questions. 
When the user clicks on “questions about the house”, he/she will get the first choice, is it a question about the design, or renovations. 
Design questions are for example questions about the repainting off the walls. 
This is a question that the bot could answer.&lt;/p&gt;

&lt;p&gt;In the part about the renovations the bot says that all the big renovations must be discussed with the landlord. 
The bot then proposes to send an email to the landlord with the question. 
The user only has to type the body of the email. 
He/she gets to re-read the email to check for mistakes and then the bot will send the email.&lt;/p&gt;

&lt;h2 id=&quot;google-calendar-integration&quot;&gt;Google calendar integration&lt;/h2&gt;
&lt;h3 id=&quot;getting-access&quot;&gt;Getting access&lt;/h3&gt;
&lt;h4 id=&quot;enable-api&quot;&gt;Enable API&lt;/h4&gt;
&lt;p&gt;To get access to the API there are some different steps we need to follow.&lt;/p&gt;

&lt;p&gt;The first step is enabling the Google Calendar API in the API console. 
To do this, we need to create a project on the Google Cloud Platform. 
Then we can navigate to the API library and enable the calendar API for our project.&lt;/p&gt;

&lt;p&gt;When this is done, the next step is to create a client id. 
This can also be done in the Google Cloud Platform. 
The redirect URI is important here because this is where the access token is sent to. 
As you can see in the image below, when the client id is created, you get the client id and the client secret. 
These are important for authentication later on in this flow.&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
  &lt;img alt=&quot;googleCloudPortal&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/googleCloudPortal.PNG&quot; width=&quot;auto&quot; height=&quot;auto&quot; target=&quot;_blank&quot; class=&quot;image fit&quot; /&gt;
&lt;/div&gt;

&lt;p&gt;With the flow I’m following you won’t only get an access token back from the server but also a refresh token. 
This is needed because the connection with the API and the collection of the free meeting times all happens in the Spring Boot application without the interference of a user. 
The first time the user will have to open a url in the browser to authenticate him/her-self and give consent that the application may have access to the calendar of the user. 
The following times that we need to access the API, we can simply use the refresh token to get a new access token from the server.&lt;/p&gt;

&lt;h4 id=&quot;get-authorization-code&quot;&gt;Get authorization code&lt;/h4&gt;
&lt;p&gt;This step only gets executed the first time that the user logs in. 
So we start the process by asking the Google OAuth 2.0 server for an authorization code.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getAuthTokenGoogle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;AuthorizationCodeRequestUrl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authorizationUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;GoogleClientSecrets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Details&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;web&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GoogleClientSecrets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Details&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setClientId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;googleApiClient&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setClientSecret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;googleApiSecret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;clientSecrets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GoogleClientSecrets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;httpTransport&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GoogleNetHttpTransport&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newTrustedTransport&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;flow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GoogleAuthorizationCodeFlow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Builder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httpTransport&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JSON_FACTORY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clientSecrets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;Collections&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;singleton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;CalendarScopes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;CALENDAR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;authorizationUrl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newAuthorizationUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setRedirectUri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;redirectUri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setAccessType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;offline&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authorizationUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the code above, we get the url where the user should login. 
We need to pass the client id and the client secret with the request as well as the redirect URI. 
You could also see that I only ask for the calendar scope, which is the only one I needed for this project. 
When the user opens this URL in the browser, the user has to login to his/her Google account after which Google prompts the user for consent to grant access to the calendar. 
When the login is successful, the server will send the authorization code back to the redirect URI specified in the request.&lt;/p&gt;

&lt;h4 id=&quot;exchange-authorization-code-for-refresh-and-access-tokens&quot;&gt;Exchange authorization code for refresh and access tokens&lt;/h4&gt;
&lt;p&gt;When the redirect URI is called, the following function is executed:&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Events&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eventList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;TokenResponse&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newTokenRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setRedirectUri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;redirectUri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;credential&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;createAndStoreCredential&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;userID&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Builder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httpTransport&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JSON_FACTORY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;credential&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Events&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;events&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;events&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;eventList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;events&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;primary&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTimeMin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTimeMax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eventList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getItems&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;no&quot;&gt;LOG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Exception while handling OAuth2 callback (&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;).&quot;&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; Redirecting to google connection status page.&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Exception while handling OAuth2 callback (&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;).&quot;&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; Redirecting to google connection status page.&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;OK&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is the part where we are exchanging the authorization code for the access and refresh tokens.
When I got those tokens from the server, I manually set the refresh token in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;application.properties&lt;/code&gt; file so I could use it later to get new access tokens.
As a test, there is also some code to get the events between two dates, to make sure that I have access to the Google calendar API with the acquired access token.&lt;/p&gt;

&lt;h4 id=&quot;getting-an-access-token-with-the-refresh-token&quot;&gt;Getting an access token with the refresh token&lt;/h4&gt;
&lt;p&gt;In the actual flow I used the refresh token to get an access token from the Google server. 
This can be done with a simple POST request to the server with the client id, client secret and the refresh token. 
We then get a response with a new access token which we can use to send the request to the API.&lt;/p&gt;

&lt;h3 id=&quot;getting-the-data-from-the-calendar&quot;&gt;Getting the data from the calendar&lt;/h3&gt;
&lt;h4 id=&quot;creating-new-client&quot;&gt;Creating new client&lt;/h4&gt;

&lt;p&gt;&lt;span class=&quot;image left&quot;&gt;&lt;img alt=&quot;clientObject&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/clientObject.jpg&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 600px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;As you could see in the code examples above, to have easy access to the calendar and get the events etc. we create a client object. 
The client object is an instance of the Calendar object.&lt;/p&gt;

&lt;p&gt;With this object we can get the calendars, the events and much more.&lt;/p&gt;

&lt;h4 id=&quot;get-freebusy-schedule&quot;&gt;Get freebusy schedule&lt;/h4&gt;
&lt;p&gt;Because we need the free meeting times of the user, we would need the freebusy schedule. 
This gives us an overview when the user is busy and we can extract the free meeting times from that. 
To know for which date I have to get the freebusy schedule, I first get the next 5 working days in the chatbot from which the user can choose. 
This date is then forwarded to the API to retrieve the schedule.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;FreeBusyRequestItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;FreeBusyRequestItem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freeBusyRequestItem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FreeBusyRequestItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;freeBusyRequestItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;iebemaes&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freeBusyRequestItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Freebusy&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freebusy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;freebusy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;FreeBusyRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freeBusyRequest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FreeBusyRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;freeBusyRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTimeMin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dateTimemin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;freeBusyRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTimeMax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dateTimeMax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;freeBusyRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setCalendarExpansionMax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;freeBusyRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setGroupExpansionMax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;freeBusyRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTimeZone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;UTC&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;freeBusyRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setItems&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Freebusy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Query&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freebusy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freeBusyRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;FreeBusyResponse&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freeBusyResponse&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;get-free-meeting-times&quot;&gt;Get free meeting times&lt;/h4&gt;
&lt;p&gt;To get the free meeting times, I made a list with all the timeslots starting every hour. 
Then I looped over this list and the list with the busy timeslots. 
When the start hour of a busy timeslot matched with the start hour of a timeslot from the first list, I deleted this timeslot from the first list. 
That way I ended up with a list with only free timeslots.&lt;/p&gt;

&lt;h4 id=&quot;send-the-meeting-times-back-to-chatlayer&quot;&gt;Send the meeting times back to Chatlayer&lt;/h4&gt;
&lt;p&gt;Now that we have a list with all the free timeslots, we need to get this list in the chatbot. 
I wanted the timeslots to appear in the chatbot as quick replies. 
For each item in the timeslot list there should be a quick reply item. 
When I had the correct structure, I could send these quick replies back to Chatlayer with a simple POST request.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;meetingTime:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;meetingTimes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hours&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;meetingTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;QuickRepliesItem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quickRepliesItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;QuickRepliesItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hours&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]+&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;u tot &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hours&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]+&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;u&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;quickRepliesItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTitle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;quickRepliesItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Simple_icon_time.svg/1200px-Simple_icon_time.svg.png&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;SessionDataToSetItem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessionDataToSetItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SessionDataToSetItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sessionDataToSetItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;chosenTimeSlot&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sessionDataToSetItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;meetingTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;SessionDataToSetItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessiondata&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sessiondata&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessionDataToSetItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;Payload&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setNextDialogstateId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;045eac85-9c67-4b44-a0f5-aaacb724dbc6&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setSessionDataToSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sessiondata&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;quickRepliesItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setPayload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;quickReplies&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quickRepliesItem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-an-event&quot;&gt;Create an event&lt;/h3&gt;
&lt;p&gt;The last step in this flow is of course the creation of an event in the calendar. 
When the user has selected a day, a timeslot and entered his/her name and address, the event needs to be saved in the calendar. 
This can also be done with the client object. 
So I pass the previously stated parameters to the API which will create the event.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;createEvent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;meetingTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;address&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;problemType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hours&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;meetingTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Event&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setSummary&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Herstelling bij: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setDescription&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Herstelling van: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;problemType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setLocation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;address&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SimpleDateFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Calendar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;calStartDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;calStartDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;calStartDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;HOUR_OF_DAY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hours&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]));&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;startDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;calStartDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;DateTime&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dateTimemin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DateTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;startDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;EventDateTime&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;EventDateTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setDateTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dateTimemin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setStart&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Calendar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;calEndDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;calEndDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;calEndDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;HOUR_OF_DAY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hours&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]));&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;endDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;calEndDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;DateTime&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dateTimeMax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DateTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;endDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;EventDateTime&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;EventDateTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setDateTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dateTimeMax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setEnd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;calendarId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;primary&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;events&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;calendarId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;


&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;After the event is created in the calendar, I’m sending a response message to the chatbot that the event is created and setting the appropriate next dialog id.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;chatbotconv part 1&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/chatbotConvP1.PNG&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 500px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;chatbotconv part 2&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/chatbotConvP2.PNG&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 500px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=qWsC7zrawBA&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Have a look at the demo!&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;solid&quot;&gt;Solid&lt;/h1&gt;
&lt;h2 id=&quot;introduction-to-solid&quot;&gt;Introduction to Solid&lt;/h2&gt;
&lt;h3 id=&quot;why-do-we-use-solid&quot;&gt;Why do we use Solid?&lt;/h3&gt;
&lt;p&gt;There are a couple issues with the way we handle data for which Solid can provide a solution.&lt;/p&gt;

&lt;p&gt;Some examples of issues today:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;In the personal data domain, there are a couple of big Tech companies who own the biggest part of our data
    &lt;ul&gt;
      &lt;li&gt;Problems with data-monopolies
        &lt;ul&gt;
          &lt;li&gt;Security risks
            &lt;ul&gt;
              &lt;li&gt;Data-breaches&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Les innovation&lt;/li&gt;
          &lt;li&gt;Political concerns
            &lt;ul&gt;
              &lt;li&gt;Can affect the public debate and our perception of right and wrong&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Companies are so successful because they have such a large amount of data, not because of their innovations&lt;/li&gt;
      &lt;li&gt;Because of these couple big companies, it is difficult for new companies to innovate because they don’t have the data for it
        &lt;ul&gt;
          &lt;li&gt;Examples
            &lt;ul&gt;
              &lt;li&gt;Google&lt;/li&gt;
              &lt;li&gt;Amazon&lt;/li&gt;
              &lt;li&gt;Facebook&lt;/li&gt;
              &lt;li&gt;…&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;People have lost control of their data
    &lt;ul&gt;
      &lt;li&gt;Hardly any visibility into what of your data is being retained&lt;/li&gt;
      &lt;li&gt;Little to no control over how your data is used and who is using it&lt;/li&gt;
      &lt;li&gt;…&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;what-is-solid&quot;&gt;What is Solid?&lt;/h3&gt;
&lt;p&gt;Solid (Social Linked Data), made by Tim Berners-Lee,  is a specification which lets users store their data securely in a decentralized data store called pods. 
Solid itself isn’t much of an innovation, the innovation comes in bringing together different existing rules. 
Solid is based on open specifications just like the web itself. 
Open specifications mean interoperability across a broad ecosystem. 
The goal of Solid is to bring back data driven innovation and data ownership.&lt;/p&gt;

&lt;p&gt;In the Solid ecosystem, there are three important concepts: users, apps and pods.&lt;/p&gt;

&lt;p&gt;User:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Control which apps, organizations and people can access which part their data
    &lt;ul&gt;
      &lt;li&gt;Easier data sharing&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Retains ownership and control over the data in his/her pod&lt;/li&gt;
  &lt;li&gt;Can have more then one pod
    &lt;ul&gt;
      &lt;li&gt;Pods can be hosted my the same pod provider or be self-hosted or a combination&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Applications:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Store and access data in pods&lt;/li&gt;
  &lt;li&gt;Can get information from different pods&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Pods:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;The data stores where you store your data&lt;/li&gt;
  &lt;li&gt;You can store any kind of data in a Solid pod&lt;/li&gt;
  &lt;li&gt;Right now you can get your pod from a pod provider or you could host your pod yourself&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;self-hosting-solid-pod-server&quot;&gt;Self hosting Solid pod server&lt;/h2&gt;
&lt;p&gt;There are different ways to setup a pod server where you can host your pod(s). 
I used the Docker container to setup my Solid server.&lt;/p&gt;

&lt;p&gt;To run the docker container I could execute this command in a terminal:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run -p 8443:8443 --name solid-server.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If we navigate to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;localhost:8443&lt;/code&gt;, we visit the homepage of the Solid server. 
First we get the message that the page is not secure but when clicking through, we arrive at the page where we can register a new account or login to an existing one.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;Homepage Solid Server&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/homepageSolidServer.jpg&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;./data/localhost.com/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;8443&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;serverUri&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://localhost:8443&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;webid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;mount&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;configPath&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;./config&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;dbPath&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;./.db&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sslKey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;./privkey.pem&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sslCert&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;./fullchain.pem&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;multiuser&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;corsProxy&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/proxy&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;server&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;logo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;enforceToc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;disablePasswordChecks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;tocUri&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://your-toc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;supportEmail&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Your support email address&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you host a pod server, there are some configuration options which you can modify. 
I think the most important one here is whether or not you want your server to be able to host more than one pod or not. 
For testing purposes, I set the multiuser setting to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;true&lt;/code&gt; so my server is capable of hosting multiple pods.&lt;/p&gt;

&lt;h3 id=&quot;register&quot;&gt;Register&lt;/h3&gt;
&lt;p&gt;When you want to register an account you need to provide some simple information like your name, email address, password and username. 
As you can see below, when creating an account, your webId (unique identifier for Solid pods) is made of your username and the domain (in this case this is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;localhost:8443&lt;/code&gt;). 
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/profile/card#me&lt;/code&gt; is just to specify where your profile information is stored. 
When registering a new account you need to add an entry for it in you local &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hosts&lt;/code&gt; file like this:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;127.0.0.1		newuser.localhost
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;Register Solid Server&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/RegisterSolidServer.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h3 id=&quot;login&quot;&gt;Login&lt;/h3&gt;
&lt;p&gt;When the account is created you could login to your own Solid pod. 
When you login you first get a popup. You can enter your webId or you identity provider. 
In this case I’m logging in with my identity provider.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;Login p1 Solid Server&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/loginPopup1.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;And enter your username and password which you specified when the account is registered.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;Login p2 Solid Server&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/loginPopup2.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h3 id=&quot;edit-profile&quot;&gt;Edit profile&lt;/h3&gt;
&lt;p&gt;As a logged in user you can see your profile, but when you first login there is nothing there. 
However, you can easily edit your own information.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;Home Page pod&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/podHomepage.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;Edit profile&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/podEditProfile.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&quot;your-data&quot;&gt;Your data&lt;/h2&gt;
&lt;p&gt;Of course, the main thing you want to know about Solid is your storage. 
When the pod is created you have these standard sections ready for you. 
The sharing settings for these folders have also been set when the pod is created. 
Profile and public are two folders which everyone can read but not change. 
And as you would expect, private is only for you.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;Pod Data&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/podData.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h3 id=&quot;sharing-of-data&quot;&gt;Sharing of data&lt;/h3&gt;
&lt;p&gt;Within the Solid interface it is very easy to share data with other people, groups, apps…&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;Pod Sharing&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/podSharing.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;You could set these sharing permissions on a folder but also on a specific file. 
In the standard scenario the files inside a folder just inherit the sharing permissions.&lt;/p&gt;

&lt;p&gt;Solid also has a nice overview of which applications have access to your pod, and also which kind of access they have (read, write, append or control). 
In this overview you could also revoke access and update the kind of access that these applications have.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;Pod Trused applications&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/podTrusted.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;As mentioned before, you can store any kind of data on your pod, this goes from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.txt&lt;/code&gt; files, to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.html&lt;/code&gt; files and even &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.ttl&lt;/code&gt; files. 
For this project I’ve chosen to store data in .ttl files because that’s what I saw the most in the documentation.&lt;/p&gt;

&lt;h3 id=&quot;turtle-rdf&quot;&gt;Turtle (RDF)&lt;/h3&gt;
&lt;p&gt;Before we can discuss Turtle we need to have a basic understanding of RDF and linked data. 
RDF stands for Resource Description Framework and is used to describe resources on the internet. 
A resource is anything on the internet, for example: a person, a book… With RDF every resource is described as a triple. 
Those triples consist of a subject, a predicate and an object. 
Using this simple model, data (structured and semi-structured) can be mixed and shared between different applications. 
This linking structure forms a directed and labeled graph.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;RDF graph&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/rdf.jpg&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Turtle itself is a format that allows RDF graphs to be written in a natural text form. 
Next to N-Triples, JSON-LD and RDF/XML it is one of the four common formats to write RDF. 
In Turtle you can declare prefixes to use as a shortcut throughout the rest of the file so you don’t have to write full URI’s everywhere.&lt;/p&gt;

&lt;p&gt;Example:
This is the card file in the profile folder which contains all the information about the user.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img alt=&quot;profile&quot; src=&quot;/img/2021-05-27-Chatbot-Immo/profileCard.png&quot; class=&quot;image fit&quot; style=&quot;margin:0px auto; max-width: 1000px;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The full notation for the full name would be:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#me http://www.w3.org/2006/vcard/ns#fn Iebe Maes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Because of the short notation, Turtle is much easier to understand than the other formats.&lt;/p&gt;

&lt;h3 id=&quot;how-to-access-your-data&quot;&gt;How to access your data?&lt;/h3&gt;
&lt;p&gt;The login page is built in React.&lt;/p&gt;

&lt;p&gt;The first step to get information in your solid pod is authentication. 
Luckily Solid has a library with some nice components that make the login process much easier.&lt;/p&gt;

&lt;div class=&quot;language-react highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LoginButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LoggedOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LogoutButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LoggedIn&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;@solid/react&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;LoggedIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;needsToLogin&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;GetInformation&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;sendInformation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sendInformation&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;/&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; 
        &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text-  center&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;Informatie is correct binnengekomen! U mag terugkeren naar de chatbot.&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;LoggedIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;LoggedOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Row&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;justify-content-md-center mt-5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;

              &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Col&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;auto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;

                &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text-center&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;Welkom!&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h3&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text-center&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;Gelieve u aan te melden.&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Row&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;justify-content-center&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Col&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;auto text-center&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;

                &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;LoginButton&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;btn btn-primary&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;popup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;popup.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;log in &lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;LoginButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;

              &lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;LoggedOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;loggedIn&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;loggedOut&lt;/code&gt; component do exactly what you expect them to do, show some content when the user is logged in and show other content when the user isn’t logged in. 
Then we have the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;loginButton&lt;/code&gt; component which shows &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;popup.html&lt;/code&gt; which is the popup screen you see in the login section above.&lt;/p&gt;

&lt;p&gt;To get the actual data, from for example the profile, you would first need to get the webId. 
You can get this with the react hook provided by the same library from above.&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;webId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;useWebId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then we would need the data object.&lt;/p&gt;
&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;@solid/query-ldflex&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And with the data object and the webId, we can get the profile.
Once we have this object you can ask for anything you see in the structure off the profile card under &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:me&lt;/code&gt;. 
Because your webid is something like “username.domain/profile/card#me”. 
The profile object we would get would actually be the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#me&lt;/code&gt; part of the card.&lt;/p&gt;
&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;profile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;webId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get the full name, we place the predicate between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[ ]&lt;/code&gt; after the profile object.&lt;/p&gt;
&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;profile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;http://www.w3.org/2006/vcard/ns#fn&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can also see that for example the address isn’t stored under the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:me&lt;/code&gt; part but it has an id. 
To get the properties of the address we would have to do something like this:&lt;/p&gt;
&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addressURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;profile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;http://www.w3.org/2006/vcard/ns#hasAddress&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;city&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addressURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;http://www.w3.org/2006/vcard/ns#locality&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;postalCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addressURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;http://www.w3.org/2006/vcard/ns#postal-code&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;street&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addressURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;http://www.w3.org/2006/vcard/ns#street-address&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;First of all, I want to thank Ordina for the chance that they have given me to do this internship. 
Also a special thanks to all three of my mentors: Frederick Bousson, Jasper Rosiers and Hans Vanbellingen! 
They always provided me with feedback when I finished a part of the solution and would always make time to help me with my questions or to explain things that weren’t clear.&lt;/p&gt;

&lt;p&gt;It really was an educational internship, where I’ve learned a lot!&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;I learned more about how to properly develop a Spring Boot application&lt;/li&gt;
  &lt;li&gt;I’ve been researching Solid
    &lt;ul&gt;
      &lt;li&gt;What it is&lt;/li&gt;
      &lt;li&gt;How to set it up&lt;/li&gt;
      &lt;li&gt;How to extract data&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;I’ve learned how to make chatbots with Chatlayer and understanding how they work&lt;/li&gt;
  &lt;li&gt;Got a more thorough understanding of how to write unit tests&lt;/li&gt;
  &lt;li&gt;Learned how to work with google API’s&lt;/li&gt;
  &lt;li&gt;Taken a look at Azure AD&lt;/li&gt;
  &lt;li&gt;Taken a look at how Ordina approaches the start of a project&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This internship has really given me the feeling that I chose the right study.&lt;/p&gt;

&lt;p&gt;The only sad thing about this internship was that it was during the Covid-19 pandemic so I haven’t had the chance to really experience the work-life @Ordina. 
Despite corona, I had a very nice time working on this project.&lt;/p&gt;</content><author><name>{&quot;first_name&quot;=&gt;&quot;Iebe&quot;, &quot;last_name&quot;=&gt;&quot;Maes&quot;, &quot;permalink&quot;=&gt;&quot;/author/iebe-maes/&quot;, &quot;avatar&quot;=&gt;&quot;iebe-maes.jpg&quot;, &quot;title&quot;=&gt;&quot;Java Developer&quot;, &quot;email&quot;=&gt;&quot;iebe.maes@ordina.be&quot;, &quot;bio&quot;=&gt;&quot;Iebe is a junior Java developer at Ordina Belgium with an interest in back-end, frond-end and cloud development. He likes to learn new technologies.&quot;}</name><email>iebe.maes@ordina.be</email></author><category term="Cloud" /><category term="Spring" /><category term="Solid" /><category term="Chatbot" /><summary type="html">Table of contents</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://ordina-jworks.github.io/img/2021-05-27-Chatbot-Immo/cover_blog.jpg" /><media:content medium="image" url="https://ordina-jworks.github.io/img/2021-05-27-Chatbot-Immo/cover_blog.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>