<!DOCTYPE html>
<!--suppress ALL -->
<html>
<head>
        <meta charset="utf-8">
    <meta name="description" content="We build innovative solutions with Java and JavaScript. To support this mission, we have several Competence Centers. From within those Competence Centers, we provide coaching to the employee and expert advice towards our customer. In order to keep in sync with the latest technologies and the latest trends, we frequently visit conferences around the globe.
">
    <meta name="keywords" content="Ordina,ORAJ,JWorks,Blog,Java,JavaScript,TypeScript,Angular,DevOps">
    <meta name="author" content="Ordina Belgium">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/img/favicons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/img/favicons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/img/favicons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/img/favicons/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-128.png" sizes="128x128" />

    

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Ordina Internship TC Guard - Jeroen Vereecken and Stijn Geerts">
    <meta name="twitter:description" content="Ordina JWorks Tech Blog">
    <meta name="twitter:image" content="http://ordina-jworks.github.io/img/2021-05-27-TC-Guard/schema.png"/>

    <!-- Facebook Open Graph -->
    <meta property="og:url" content="http://ordina-jworks.github.io/internship/2021/06/15/TC-Guard.html"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Ordina Internship TC Guard - Jeroen Vereecken and Stijn Geerts"/>
    <meta property="og:description" content="Ordina JWorks Tech Blog"/>
    <meta property="og:image" content="http://ordina-jworks.github.io/img/2021-05-27-TC-Guard/schema.png"/>

    
    <title>Ordina Internship TC Guard - Jeroen Vereecken and Stijn Geerts &mdash; Ordina JWorks Tech Blog</title>
    

        <!-- Styles -->
    <!-- Font awesome CSS -->
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <!-- Magnific Popup -->
    <link href="/css/magnific-popup.css" rel="stylesheet">
    <!-- Owl carousel -->
    <link href="/css/owl.carousel.css" rel="stylesheet">

    <!-- CSS for this page -->

    <!-- Syntax highlighting -->
    <link href="/css/syntax.css" rel="stylesheet">


    <!--[if lte IE 8]>
    <script src="/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="/css/main.css"/>
    <!--[if lte IE 9]>
    <link rel="stylesheet" href="/css/ie9.css"/><![endif]-->
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/ie8.css"/><![endif]-->

    <!-- Custom CSS. Type your CSS code in custom.css file -->
    <link href="/css/custom.css" rel="stylesheet">

    <!-- Vertical timeline -->
	<link rel="stylesheet" href="/css/vertical-timeline/style.css"> <!-- Resource style -->

    <!-- Favicon -->
    <link rel="shortcut icon" href="#">

    <script src="https://use.typekit.net/gzh0mbm.js"></script>
    <script>
        try {
            Typekit.load({async: true});
        } catch (e) {
        }
    </script>
</head>

<body>
<div id="header-image"></div>


<!-- Page Wrapper -->
<div id="page-wrapper">

        <!-- Header -->
    <header id="header">
        <h1>
            <a href="/">
                JWorks Tech Blog
            </a>
        </h1>

        <nav>
            <a href="#menu">Menu</a>
            <form action="/search/" method="get" class="header-search search-form">
                <input type="text" id="search-box-header" name="query" placeholder="Search &hellip;">
            </form>
        </nav>
    </header>

    <!-- Menu -->
    <nav id="menu">
        <div class="inner">
            <h2>Menu</h2>
            <ul class="links">
                <li class="menu-item"><a href="/">Home</a></li>
                <li class="menu-item"><a href="/about">About Us</a></li>
                <li class="menu-item"><a href="/meet-the-team">Meet the team</a></li>
                <li class="menu-item"><a href="/jobs">Jobs</a></li>
                <li class="menu-item"><a href="/search">Search</a></li>
                <li class="menu-item"><a href="https://join.ordina-jworks.io/">JOIN</a></li>
                <li class="menu-item"><a href="/contact">Contact Us</a></li>
            </ul>
            <a href="#" class="close">Close</a>
        </div>
    </nav>

    <section id="banner">
        <header>
            <div class="inner">
                

                <h2>Ordina Internship TC Guard</h2>
                

                
                    Posted Jun 15, 2021


    in <a href="/categories/internship/">Internship</a>



    by
    
        <a href="/author/jeroen-vereecken/">Jeroen Vereecken</a>
        
            
                 and 
        
        
    
        <a href="/author/stijn-geerts/">Stijn Geerts</a>
        
    



    <br/>
    <i class="fa fa-tags"></i>
    
        <a href="/tags/spring/">Spring</a>, 
    
        <a href="/tags/spring-boot/">Spring Boot</a>, 
    
        <a href="/tags/cloud-native/">Cloud-Native</a>, 
    
        <a href="/tags/git/">Git</a>, 
    
        <a href="/tags/devops/">DevOps</a>, 
    
        <a href="/tags/docker/">Docker</a>, 
    
        <a href="/tags/kubernetes/">Kubernetes</a>, 
    
        <a href="/tags/android/">Android</a>
    

                

                

            </div>
        </header>
    </section>


    <section id="wrapper">
        <div class="inner">
            <section id="one" class="wrapper spotlight style1 post-body">
    <div class="inner" style="text-align: left;">
        <div class="content">
            <h1 id="introduction">Introduction</h1>
<p>We started our internship at Ordina in February 2021 which lasted for 15 weeks.
The internship was a part of our thesis, which was necessary to graduate.
During this internship, we developed an Android application to assist drivers while driving trough a trajectory control.
Alongside the application, we also developed an API using Spring Boot. These two components made it possible to learn and use Kubernetes. 
Certain technologies were installed on the Kubernetes cluster to enable metrics and centralized logging.
During the internship, we were introduced to a wide range of technologies that we’ve never used during our bachelor’s degree.</p>

<h1 id="azure-devops">Azure DevOps</h1>

<p><img src="/img/2021-05-27-TC-Guard/azure_devops.png" class="image right medium" /></p>

<p>Azure DevOps has a plethora of technologies to provide assistance throughout the development cycle.
We used a handful of these technologies for this project, including Azure Repos, Azure Pipelines, Azure Artifacts and Azure Boards.
It also allowed us to work with scrum using the built-in boards, which ensured that the mentors could track our progress.
Overall, Azure DevOps is a very useful and feature-rich platform to use.</p>

<h1 id="api">API</h1>
<p>Our first experience with Java was in highschool, where we learned most of the programming basics. 
In college, we only used Java during our Android Development course.
Because of this, we weren’t that well versed when it came down to Java specific features.
While working on the API, we learned quite a lot about Java, but also some programming principles.</p>

<h3 id="spring">Spring</h3>

<p><img src="/img/2021-05-27-TC-Guard/spring.png" class="image left medium" /></p>

<p>The Spring framework is a Java platform that provides comprehensive infrastructure support for developing Java applications. 
We started out by creating a small RESTful API using one of the tutorials on the official Spring website. 
Alongside the tutorial we also used the extensive online documentation.</p>

<p>In college, we had a .NET course where we used ASP.NET to build an API.
We quickly discovered while working with Spring Boot that our preference goes to Spring instead of ASP.NET.
One of the reasons is that Spring Boot does a lot for the developer while in ASP.NET you have to do more things manually.</p>

<h3 id="postgresql">PostgreSQL</h3>
<p>The API’s database is a PostgreSQL database, which is used to store the collected data, the recorded trajectory controls and the drivers.
Flyway is used to keep our database structure up-to-date using migrations.</p>

<h3 id="api-first">API First</h3>
<p>To develop the API, we used the API-first design principle. This approach includes developing APIs that are consistent and reusable.
This can be achieved by creating an API contract that describes the capabilities and behavior of the API.
This ensures that more time is spent thinking about the design of the API.
It often included additional planning and collaboration with our mentors.
We drew up this contract ourselves. 
Later we found that there is a Swagger Editor that uses the Open API type. 
Since we already had a contract we decided not to use it.
They provided feedback on the design of the API before any code was written.
The first code that was written were tests.
This method is called Test Driven Development (TDD).
Specific attention was paid to the API contract, as the tests are based on them.
TDD also allows for bugs to be found at an early stage because after writing code, the developers can run the tests and thus check whether the code works or not.</p>

<h1 id="android-application">Android Application</h1>
<p>The user can add trajectory controls themselves via the record button.
Once the user has passed the starting point of their trajectory control, they must press this button to start the process.
During this process the starting point is saved and a checkpoint is added every 100 meters.
When the user passes the end point of their trajectory control, they need to press this button again to define the end point and the maximum speed.
The application will ask the user for the maximum speed.
This will be automatically filled in by a speculation performed by the application.
Once the process is finished, the trajectory control will be stored in the database via the API.</p>

<h3 id="android-native">Android Native</h3>
<p>Android Native was already known because of the Android Development subject.
As a result, we did not encounter too many problems in terms of development.
The biggest problem we have experienced is that Android Native is not that user friendly in terms of design.
If we were to start over, we would prefer a Hybrid approach like Ionic or NativeScript instead of Android Native.</p>

<h3 id="finished-product">Finished Product</h3>

<p style="display:flex; justify-content:space-around">
  <img src="/img/2021-05-27-TC-Guard/main.png" style="width: 45vw; max-width: 350px;" /> 
  <img src="/img/2021-05-27-TC-Guard/dashboard.png" style="width: 45vw; max-width: 350px;" />
</p>

<h1 id="kubernetes">Kubernetes</h1>

<p><img src="/img/2021-05-27-TC-Guard/schema.png" class="image fit" /></p>

<p>The figure above shows the block diagram of this project.
This diagram represents all the components of this internship.
Each component will be briefly discussed below.
All applications required for this internship run within a single Kubernetes cluster.
Inside this cluster, Argo CD is used to keep everything up-to-date.
The Android application is connected to the TC Guard API using Contour.
This is also used to expose the Graylog dashboard to the public.
TC Guard and Graylog are connected so that the logs from TC Guard can be sent to Graylog.
The data collected by the Android application is stored in the PostgreSQL database via the TC Guard API.
When the application needs this data, it is retrieved again via the TC Guard API.
The last block connected to the TC Guard API is Prometheus.
Prometheus is used to observe the API.
The resulting data is then displayed in the Grafana dashboard.</p>

<h3 id="argo-cd">Argo CD</h3>
<p>Argo CD is a Continuous Delivery GitOps tool for Kubernetes.
Within the internship assignment, this is used to install Helm charts on the Kubernetes cluster.
If a change is made on the Azure DevOps repository, Argo CD will detect this and implement the changes on the Kubernetes cluster via a rolling update.</p>

<p>It was quite satisfying to observe the changes being applied.
Argo CD made managing our applications much easier.
For example when we updated Graylog, the only thing we had to do was change the version number in a <code class="language-plaintext highlighter-rouge">.yaml</code> file and Argo CD took care of everything else.</p>

<p><img src="/img/2021-05-27-TC-Guard/argocd.png" class="image fit" /></p>

<h3 id="ingress">Ingress</h3>
<p>Ingress provides routing rules to manage remote users’ access to services in a Kubernetes cluster. With Ingress, simple rules can be set for routing traffic without exposing every service on the endpoint.
While setting up Ingress, a few issues surfaced due to our inexperience with Kubernetes.
Because the online documentation of Ingress nginx was rather limited, setting up Ingress took a fair amount of time.
Afterwards, Ingress nginx was replaced by Contour.
By this time we had more experience with Kubernetes.
Because of this, the switch to Contour went smoothly.</p>

<h3 id="graylog">Graylog</h3>
<p>The centralized logging system aims to obtain the logs of the API and the Android application in a central place so that it would be easier to detect errors.
To obtain and view the logs in a central place, Graylog is used.
We chose Graylog because it is much easier to use than Kibana.
We knew that Kibana has more features than Graylog, but for this project it was not required.</p>

<p><img src="/img/2021-05-27-TC-Guard/graylog.png" class="image fit" /></p>

<h3 id="grafana">Grafana</h3>
<p>Prometheus was used to observe the API.
Prometheus collects metrics from targets by scraping given HTTP endpoints.
Actuator is a Spring Boot plugin that is used to manage and monitor your application by using HTTP endpoints. 
This makes it possible for Prometheus to gather metrics and monitor the health of the application. 
Grafana then uses Prometheus as a source to display the metrics on a custom dashboard.</p>

<p>We were unsure how to add a target to Prometheus while it was running on Kubernetes. 
Because we were not sure how to modify the config file, a lot of time was lost.
To solve this problem we had to create a secret that contains the target.
This secret should then be added to the <code class="language-plaintext highlighter-rouge">prometheus.yaml</code> file.
When rebooting the Prometheus pod, the target was added.</p>

<p><img src="/img/2021-05-27-TC-Guard/grafana.png" class="image fit" /></p>

<h1 id="conclusion">Conclusion</h1>
<p>During this internship there were a lot of new technologies covered such as Spring, Kubernetes, Graylog and so on.
The internship assignment consisted of three main parts including the Android application, the Spring Boot API and Kubernetes.
As described earlier, the biggest problem that we experienced was that Android Native is not that user friendly in terms of design.
If we were to start over, we would go for a Hybrid approach like Ionic or NativeScript instead of Android Native.
Once we had the basics of the application, we started working on the Spring Boot API.
Spring was completely new to us, but because of the complete and structured online documentation, the learning process went smoothly with some guidance from our mentors.
The mentors had a few remarks.
The remarks were justified, they were about our structure and programming style.
In order to improve the structure, Domain-Driven Design was recommended by our mentors.
As a last important part, we deployed the API on Kubernetes.
Besides the API, a few other things were implemented on the Kubernetes cluster such as Graylog and Grafana.
Kubernetes was completely new to us as it was not covered in the graduate program Application Development.
We found that the learning curve is quite steep in the beginning because it were all new concepts.
Because of the proper guidance from our mentors, we got through this initial period.
At the end of the internship, working with Kubernetes didn’t scare us anymore and dealing with it was less difficult.</p>

<p>We would like to thank Frederick Bousson for offering us this wonderful opportunity.
Furthermore, we would like to thank Jeff Mesens and Nils Devos.
Thanks to their contribution we were able to successfully complete this project.
Without their help, we could not have made such a great evolution.</p>

        </div>
    </div>
    <div class="share-page" >
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://ordina-jworks.github.io/internship/2021/06/15/TC-Guard.html&title=Ordina Internship TC Guard&source=https://ordina-jworks.github.io" rel="nofollow" target="_blank" title="Share on LinkedIN">
            <img src="/img/social-media/LinkedIn.png"
                 alt="Share on LinkedIn" />
        </a>
        <a href="https://twitter.com/intent/tweet?text=Ordina Internship TC Guard&url=https://ordina-jworks.github.io/internship/2021/06/15/TC-Guard.html&via=lifeatordinabe&related=lifeatordinabe" rel="nofollow" target="_blank" title="Share on Twitter">
            <img src="/img/social-media/Twitter.png"
                 alt="Share on Twitter" />
        </a>
        <a href="https://facebook.com/sharer.php?u=https://ordina-jworks.github.io/internship/2021/06/15/TC-Guard.html" rel="nofollow" target="_blank" title="Share on Facebook">
            <img src="/img/social-media/Facebook.png"
                 alt="Share on Facebook" />
        </a>
    </div>
        
</section>


<section id="two" class="wrapper alt spotlight style2">
    
    <div class="inner">
        <a href="/author/jeroen-vereecken/" class="image spotlight-image" title="">
            <img src="/img/author/jeroen-vereecken.jpeg"
                 alt="" class="p-image"/>
        </a>

        <div class="content">
            
            <p><p>Jeroen Vereecken is a last year student Electronica-ICT Application Development at Thomas More Campus De Nayer.</p>
</p>
            
        </div>
    </div>
    
    <div class="inner">
        <a href="/author/stijn-geerts/" class="image spotlight-image" title="">
            <img src="/img/author/stijn-geerts.jpg"
                 alt="" class="p-image"/>
        </a>

        <div class="content">
            
            <p><p>Stijn Geerts is a last year student Electronica-ICT Application Development at Thomas More Campus De Nayer.</p>
</p>
            
        </div>
    </div>
    
</section>

        </div>
    </section>
</div>



<footer>
    <div class="contact">
        <div class="address">
            <div class="icon"><i class="fa fa-fw fa-home"></i></div>
            <div class="text">Ordina Belgium<br/>Blarenberglaan 3B,<br/>2800 Mechelen, Belgium</div>
        </div>
        <div class="phone">
            <div class="icon"><i class="fa fa-fw fa-phone"></i></div>
            <div class="text"><a href="tel:003215295858">+32 15 29 58 58</a></div>
        </div>
        <div class="email">
            <div class="icon"><i class="fa fa-fw fa-envelope-o"></i></div>
            <div class="text"><a href="mailto:jworks@ordina.be">jworks@ordina.be</a></div>
        </div>
    </div>
    <ul class="social">
        <li>
            <a href="https://www.facebook.com/lifeatordinabe" target="_blank">
                <i class=" fa fa-fw fa-facebook"></i><span>Facebook</span>
            </a>
        </li>
        <li>
            <a href="https://www.linkedin.com/company/ordinabelgium" target="_blank">
                <i class=" fa fa-fw fa-linkedin"></i><span>LinkedIn</span>
            </a>
        </li>
        <li>
            <a href="/youtube" target="_blank">
                <i class=" fa fa-fw fa-youtube"></i><span>YouTube</span>
            </a>
        </li>
        <li>
            <a href="/github" target="_blank">
                <i class=" fa fa-fw fa-github"></i><span>GitHub</span>
            </a>
        </li>
        <li>
            <a href="/feed.xml" target="_blank">
                <i class=" fa fa-fw fa-rss"></i><span>RSS Feed</span>
            </a>
        </li>
    </ul>
    <div class="copyright">
        &copy; 2023 Ordina JWorks. All rights reserved.
        <br /> Disclaimer: Opinions expressed on this blog reflect the writer's views and not the position of Ordina
        <img id="analyticsImg" src="" width="1" height="1" style="border: 0px"/>
    </div>
</footer>
<!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/jquery.pin.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]>
<script src="/js/ie/respond.min.js"></script><![endif]-->


<script>
    var imageHref = "/img/2021-05-27-TC-Guard/schema.png";
    $(function () {
        $('body').addClass('toggle');
    });
</script>


<script src="/js/main.js"></script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o);
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-70040502-1', 'auto');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
    window.addEventListener('load', function () {
        if (window.ga && ga.create) {
            console.log('GA loaded correctly');
        } else {
            console.log('GA is blocked or failed to load - tracking manually...')
            document.getElementById('analyticsImg').src = 'https://jworks-techblog-analytics.cfapps.io/collect?title=' + document.title;
        }
    }, false);
</script>

<!-- Vertical timeline -->
<script src="/js/vertical-timeline/modernizr.js"></script>
<script src="/js/vertical-timeline/main.js"></script>


</body>
</html>
