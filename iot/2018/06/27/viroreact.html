<!DOCTYPE html>
<!--suppress ALL -->
<html>
<head>
        <meta charset="utf-8">
    <meta name="description" content="We build innovative solutions with Java and JavaScript. To support this mission, we have several Competence Centers. From within those Competence Centers, we provide coaching to the employee and expert advice towards our customer. In order to keep in sync with the latest technologies and the latest trends, we frequently visit conferences around the globe.
">
    <meta name="keywords" content="Ordina,ORAJ,JWorks,Blog,Java,JavaScript,TypeScript,Angular,DevOps">
    <meta name="author" content="Ordina Belgium">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/img/favicons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/img/favicons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/img/favicons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/img/favicons/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-128.png" sizes="128x128" />

    

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ViroReact: Build cross-platform AR/VR applications for Android and iOS using React - Ryan de Gruyter and Michael Vandendriessche">
    <meta name="twitter:description" content="Ordina JWorks Tech Blog">
    <meta name="twitter:image" content="http://ordina-jworks.github.io/img/2018-06-26-viroreact/viroreact.jpg"/>

    <!-- Facebook Open Graph -->
    <meta property="og:url" content="http://ordina-jworks.github.io/iot/2018/06/27/viroreact.html"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="ViroReact: Build cross-platform AR/VR applications for Android and iOS using React - Ryan de Gruyter and Michael Vandendriessche"/>
    <meta property="og:description" content="Ordina JWorks Tech Blog"/>
    <meta property="og:image" content="http://ordina-jworks.github.io/img/2018-06-26-viroreact/viroreact.jpg"/>

    
    <title>ViroReact: Build cross-platform AR/VR applications for Android and iOS using React - Ryan de Gruyter and Michael Vandendriessche &mdash; Ordina JWorks Tech Blog</title>
    

        <!-- Styles -->
    <!-- Font awesome CSS -->
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <!-- Magnific Popup -->
    <link href="/css/magnific-popup.css" rel="stylesheet">
    <!-- Owl carousel -->
    <link href="/css/owl.carousel.css" rel="stylesheet">

    <!-- CSS for this page -->

    <!-- Syntax highlighting -->
    <link href="/css/syntax.css" rel="stylesheet">


    <!--[if lte IE 8]>
    <script src="/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="/css/main.css"/>
    <!--[if lte IE 9]>
    <link rel="stylesheet" href="/css/ie9.css"/><![endif]-->
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/ie8.css"/><![endif]-->

    <!-- Custom CSS. Type your CSS code in custom.css file -->
    <link href="/css/custom.css" rel="stylesheet">

    <!-- Vertical timeline -->
	<link rel="stylesheet" href="/css/vertical-timeline/style.css"> <!-- Resource style -->

    <!-- Favicon -->
    <link rel="shortcut icon" href="#">

    <script src="https://use.typekit.net/gzh0mbm.js"></script>
    <script>
        try {
            Typekit.load({async: true});
        } catch (e) {
        }
    </script>
</head>

<body>
<div id="header-image"></div>


<!-- Page Wrapper -->
<div id="page-wrapper">

        <!-- Header -->
    <header id="header">
        <h1>
            <a href="/">
                JWorks Tech Blog
            </a>
        </h1>

        <nav>
            <a href="#menu">Menu</a>
            <form action="/search/" method="get" class="header-search search-form">
                <input type="text" id="search-box-header" name="query" placeholder="Search &hellip;">
            </form>
        </nav>
    </header>

    <!-- Menu -->
    <nav id="menu">
        <div class="inner">
            <h2>Menu</h2>
            <ul class="links">
                <li class="menu-item"><a href="/">Home</a></li>
                <li class="menu-item"><a href="/about">About Us</a></li>
                <li class="menu-item"><a href="/meet-the-team">Meet the team</a></li>
                <li class="menu-item"><a href="/jobs">Jobs</a></li>
                <li class="menu-item"><a href="/search">Search</a></li>
                <li class="menu-item"><a href="https://join.ordina-jworks.io/">JOIN</a></li>
                <li class="menu-item"><a href="/contact">Contact Us</a></li>
            </ul>
            <a href="#" class="close">Close</a>
        </div>
    </nav>

    <section id="banner">
        <header>
            <div class="inner">
                

                <h2>ViroReact: Build cross-platform AR/VR applications for Android and iOS using React</h2>
                

                
                    Posted Jun 27, 2018


    in <a href="/categories/iot/">IoT</a>



    by
    
        <a href="/author/ryan-de-gruyter/">Ryan de Gruyter</a>
        
            
                 and 
        
        
    
        <a href="/author/michael-vandendriessche">Michael Vandendriessche</a>
        
    



    <br/>
    <i class="fa fa-tags"></i>
    
        <a href="/tags/react/">React</a>, 
    
        <a href="/tags/react-native/">React Native</a>, 
    
        <a href="/tags/viroreact/">ViroReact</a>, 
    
        <a href="/tags/virtual-reality/">Virtual Reality</a>, 
    
        <a href="/tags/augmented-reality/">Augmented Reality</a>, 
    
        <a href="/tags/mixed-reality/">Mixed Reality</a>
    

                

                

            </div>
        </header>
    </section>


    <section id="wrapper">
        <div class="inner">
            <section id="one" class="wrapper spotlight style1 post-body">
    <div class="inner" style="text-align: left;">
        <div class="content">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/css/lightbox.css" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-grid-only@1.0.0/bootstrap.css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/js/lightbox.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap-grid-only@1.0.0/index.min.js"></script>

<h2 id="table-of-contents">Table of Contents</h2>

<ol>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#basics-of-viroreact">Basics of ViroReact</a></li>
  <li><a href="#demo-application">Demo app</a></li>
  <li><a href="#lessons-learned-and-conclusion">Lessons learned and conclusion</a></li>
  <li><a href="#extra-resources">Extra resources</a></li>
</ol>

<h2 id="introduction">Introduction</h2>
<p>Augmented Reality is a very interesting space so naturally, we wanted to do something with it.
There are many frameworks available for building cross-platform AR/VR applications.
We came across ViroReact which uses React and React Native to create immersive VR and AR applications using a single codebase for Android and iOS.
This persuaded us to give it a try.
In one day, with some tweaking afterwards, we were able to create a simple app to show the status of a meeting room.</p>

<h2 id="basics-of-viroreact">Basics of ViroReact</h2>

<h3 id="components">Components</h3>
<p>The main building blocks of a ViroReact app are the components.</p>

<h4 id="the-most-important-component-is-a-scene">The most important component is a Scene</h4>
<p>The <a href="https://docs.viromedia.com/docs/scenes">scene</a> is the digital environment the user interacts with.
All other components live in this scene.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroScene&gt;</span>
<span class="nt">&lt;ViroARScene&gt;</span>
</code></pre></div></div>

<p>Just like many other components, the Scene comes in two variations: <code class="language-plaintext highlighter-rouge">ViroScene</code> and <code class="language-plaintext highlighter-rouge">ViroARScene</code>.
As the name suggests <code class="language-plaintext highlighter-rouge">ViroARScene</code> is used for Augmented Reality applications
while the <code class="language-plaintext highlighter-rouge">ViroScene</code> is meant for Virtual Reality.</p>

<p>A <a href="https://docs.viromedia.com/docs/scene-navigation">ViroSceneNavigator</a> is used to navigate between these scenes.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroSceneNavigator&gt;</span>
<span class="nt">&lt;ViroARSceneNavigator&gt;</span>
</code></pre></div></div>
<p>The SceneNavigator holds a stack of scenes to enable simple transitions from one scene to the next or previous scene.</p>

<h4 id="these-scenes-can-be-populated-with-all-kinds-of-components">These scenes can be populated with all kinds of components</h4>
<p>For example a <a href="https://docs.viromedia.com/docs/virotext2">ViroText</a>.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroText</span>
	<span class="na">text=</span><span class="s">"Hello World"</span>
	<span class="na">position=</span><span class="s">{[0,0,-5]}</span>
	<span class="na">color=</span><span class="s">"#ff0000"</span>
	<span class="na">width=</span><span class="s">{2}</span> <span class="na">height=</span><span class="s">{2}</span>
	<span class="na">style=</span><span class="s">/</span><span class="nt">&gt;</span>
</code></pre></div></div>

<p>Or perhaps a <a href="https://docs.viromedia.com/docs/virobox">ViroBox</a>, a <a href="https://docs.viromedia.com/docs/viroquad">ViroQuad</a> or a <a href="https://docs.viromedia.com/docs/virosphere">ViroSphere</a>.<br />
These components can be modified by setting their properties.
One of the most important properties is the position.
It takes an array of three numbers as the x, y and z coordinates.</p>

<h4 id="there-are-also-more-specialised-components">There are also more specialised components</h4>
<p>Like a <a href="https://docs.viromedia.com/docs/viro3dobject">Viro3DObject</a> which lets you include custom made 3D objects in your scene.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Viro3DObject</span>
	<span class="na">source=</span><span class="s">{require("./res/spaceship.obj")}</span> <span class="na">type=</span><span class="s">"OBJ"</span>
	<span class="na">resources=</span><span class="s">{[require('./res/spaceship.mtl'),</span>
		<span class="err">require('./res/texture1.jpg')]}</span>
	<span class="na">position=</span><span class="s">{[1,</span> <span class="err">3,</span> <span class="err">-5]}</span> <span class="na">scale=</span><span class="s">{[2,</span> <span class="err">2,</span> <span class="err">2]}</span>
	<span class="na">rotation=</span><span class="s">{[45,</span> <span class="err">0,</span> <span class="err">0]}</span>
	<span class="na">transformBehaviors=</span><span class="s">{["billboard"]}/</span><span class="nt">&gt;</span>
</code></pre></div></div>
<p>These 3D objects can be created in your favourite 3D modelling tools.
ViroReact supports OBJ or VRX (converted from FBX) formats.
The billboard transform behaviour is an interesting feature to make sure the object is always facing the user.</p>

<p>A <a href="https://docs.viromedia.com/docs/viro360image">Viro360Image</a> can be set as the background of a scene.</p>

<p>A <a href="https://docs.viromedia.com/docs/viroportal">ViroPortal</a> lets the user take a peek into a different scene.
It basically is a window to another world.
The Viro3DObject included in it acts like the window frame.</p>

<p>A <a href="https://docs.viromedia.com/docs/viroarimagemarker">ViroARImageMarker</a> reacts when one of the ViroARTrackingTargets is scanned.
It will show all the components inside the <code class="language-plaintext highlighter-rouge">ViroARImageMarker</code> tag.
We have used this in our little app, more on that <a href="#demo-application">below</a>.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroARImageMarker</span> <span class="na">target=</span><span class="s">{"targetOne"}</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ViroBox</span> <span class="na">position=</span><span class="s">{[0,</span> <span class="err">0.25,</span> <span class="err">0]}</span> <span class="na">scale=</span><span class="s">{[0.5,</span> <span class="err">0.5,</span> <span class="err">0.5]}</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/ViroARImageMarker&gt;</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ViroARTrackingTargets</span><span class="p">.</span><span class="nf">createTargets</span><span class="p">({</span>
  <span class="dl">"</span><span class="s2">targetOne</span><span class="dl">"</span> <span class="p">:</span> <span class="p">{</span>
	<span class="na">source</span> <span class="p">:</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./res/targetOne.jpg</span><span class="dl">'</span><span class="p">),</span>
	<span class="na">orientation</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">Up</span><span class="dl">"</span><span class="p">,</span>
	<span class="na">physicalWidth</span> <span class="p">:</span> <span class="mf">0.1</span> <span class="c1">// real world width in meters</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="we-wouldnt-see-anything-without-eyes-and-light">We wouldn’t see anything without eyes and light</h4>
<p>The <a href="https://docs.viromedia.com/docs/camera">Camera</a> component is our eyes.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroCamera</span> <span class="na">position=</span><span class="s">{[0,</span> <span class="err">0,</span> <span class="err">0]}</span> <span class="na">rotation=</span><span class="s">{[45,</span> <span class="err">0,</span> <span class="err">0])</span> <span class="na">active=</span><span class="s">{true}</span> <span class="nt">/&gt;</span>
</code></pre></div></div>
<p>A default camera is provided at the origin <code class="language-plaintext highlighter-rouge">position={[0, 0, 0]}</code>.
The camera always looks in the negative Z direction.
So if you want an object to be visible as soon as the scene loads up, 
make sure to set its position with a negative Z value <code class="language-plaintext highlighter-rouge">position={[0, 0, -5]}</code>. 
If the object would have a positive Z value it would be placed behind you when you load up the scene.
There is also a <code class="language-plaintext highlighter-rouge">ViroOrbitCamera</code> where the camera orbits around a certain position, always keeping it in view.</p>

<p><a href="https://docs.viromedia.com/docs/3d-scene-lighting">Lights</a> are very important components in a scene.
Without any light, the user wouldn’t see anything.
Luckily a default light is provided when none is defined.
We didn’t need lights in our setup but if you want a more realistic or visually stunning experience, 
I highly recommend you to look into the different lights in the <a href="https://docs.viromedia.com/v2.6.1/docs/3d-scene-lighting">documentation</a>.<br />
There are four lighting models: Phong, Blinn, Lambert and Constant.<br />
These are the algorithms that calculate what your objects will look like when influenced by light.
By default, elements use the Constant lighting model, which means lights will be ignored and the object will show its full color.<br />
ViroReact supports four types of light.</p>

<p>The <a href="https://docs.viromedia.com/docs/viroambientlight">ViroAmbientLight</a> is the simplest light.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroAmbientLight</span> <span class="na">color=</span><span class="s">"#ffffff"</span><span class="nt">/&gt;</span>
</code></pre></div></div>
<p>It lights up all the objects in the scene equally from every direction.
Only the color needs to be set.</p>

<p>A <a href="https://docs.viromedia.com/docs/viroomnilight">ViroOmniLight</a> is comparable to a light bulb.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroOmniLight</span>
    <span class="na">color=</span><span class="s">"#ffffff"</span>
    <span class="na">attenuationStartDistance=</span><span class="s">{2}</span>
    <span class="na">attenuationEndDistance=</span><span class="s">{6}</span>
    <span class="na">position=</span><span class="s">{[0,-5,5]}</span>
 <span class="nt">/&gt;</span>
</code></pre></div></div>
<p>The light originates from a specified position and moves in all directions.
The light slowly fades out if the distance is between 2 and 6, set in the attenuation properties.</p>

<p>A <a href="https://docs.viromedia.com/docs/virospotlight1">ViroSpotLight</a> is comparable to a flashlight.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroSpotLight</span>
    <span class="na">color=</span><span class="s">"#ffffff"</span>
    <span class="na">attenuationStartDistance=</span><span class="s">{2}</span>
    <span class="na">attenuationEndDistance=</span><span class="s">{6}</span>
    <span class="na">position=</span><span class="s">{[0,</span> <span class="err">-5,</span> <span class="err">5]}</span>
    <span class="na">direction=</span><span class="s">{[0</span> <span class="err">-1,</span> <span class="err">0]}</span>
    <span class="na">innerAngle=</span><span class="s">{0}</span>
    <span class="na">outerAngle=</span><span class="s">{45}</span>
 <span class="nt">/&gt;</span>
</code></pre></div></div>
<p>The light originates from a single point and shines in a cone.
The direction and angle of the cone can be set as well as the attenuation start and end distances.
Some other properties are available to create the shadows you want.</p>

<p>The last type of light is the <a href="https://docs.viromedia.com/docs/virodirectionallight-1">ViroDirectionalLight</a>.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroDirectionalLight</span>
    <span class="na">color=</span><span class="s">"#ffffff"</span>
    <span class="na">direction=</span><span class="s">{[0,</span> <span class="err">-1,</span> <span class="err">0]}</span>
 <span class="nt">/&gt;</span>
</code></pre></div></div>
<p>The sun would be the prime example of a ViroDirectionalLight.
It shines over the whole scene in a specific direction.</p>

<h4 id="to-make-these-objects-look-good-we-need-materials">To make these objects look good we need Materials</h4>
<p><a href="http://viro.readme.io/docs/3d-scene-lighting">Materials</a> are used to place texture images on 3d objects.
They can make a long box look like a brick wall or a sphere look like our planet.</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ViroMaterials</span><span class="p">.</span><span class="nf">createMaterials</span><span class="p">({</span>
  <span class="na">earth</span><span class="p">:</span> <span class="p">{</span>
	<span class="na">shininess</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
	<span class="na">lightingModel</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Lambert</span><span class="dl">"</span><span class="p">,</span>
	<span class="na">diffuseTexture</span><span class="p">:</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./res/earth_texture.jpg</span><span class="dl">'</span><span class="p">),</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>
<p>There are many properties available for materials.
Discussing all of these is outside the scope of this article.
The diffuseColor and diffuseTexture are the main color and texture of the material.
These can be placed on basic 3D objects like ViroBox, ViroQuad and ViroSphere.
Complex Viro3DObjects can have multiple materials.</p>

<h4 id="move-them-around-with-animations">Move them around with Animations</h4>
<p>Our scenes are still lacking motion.
That’s where <a href="https://docs.viromedia.com/docs/animation">animations</a> come in handy.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ViroAnimations</span><span class="p">.</span><span class="nf">registerAnimations</span><span class="p">({</span>
	<span class="na">animateImage</span><span class="p">:{</span><span class="na">properties</span><span class="p">:{</span><span class="na">scaleX</span><span class="p">:</span><span class="mf">1.0</span><span class="p">,</span> <span class="na">scaleY</span><span class="p">:</span><span class="mf">0.6</span><span class="p">},</span>
				  <span class="na">easing</span><span class="p">:</span><span class="dl">"</span><span class="s2">Bounce</span><span class="dl">"</span><span class="p">,</span> <span class="na">duration</span><span class="p">:</span> <span class="mi">5000</span><span class="p">}});</span>
</code></pre></div></div>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroImage</span> <span class="na">source=</span><span class="s">{require('./res/myimage.jpg')}</span>
		   <span class="na">position=</span><span class="s">{[0,</span> <span class="err">-1,</span> <span class="err">-2]}</span>
		   <span class="na">animation=</span><span class="s">/</span><span class="nt">&gt;</span>
</code></pre></div></div>
<p>Animations change the numerical value of properties over time.
Typically this is used for the position and scale properties but it can just as well be used for color values or other numerical values.
There are five easing types: Linear, EaseIn, EaseOut, EaseInEaseOut and Bounce.
These represent how the values change over time.</p>

<h4 id="control-the-scene-with-a-virocontroller">Control the scene with a ViroController</h4>
<p>With all of the above, we can create an awesome scene but we can’t interact with it yet. 
The <a href="https://docs.viromedia.com/docs/virocontroller">ViroController</a> provides us the ability to interact with our scene.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroController</span> 
<span class="na">reticleVisibility=</span><span class="s">{true}</span> 
<span class="na">controllerVisibility=</span><span class="s">{true}</span> 
<span class="na">onClick=</span><span class="s">{this._onClickListenerForAllEvents}</span> <span class="nt">/&gt;</span> 
</code></pre></div></div>
<p>With the reticle (the blue circle in the middle of the view) the user can select and point to objects and call the function in the onClick property.
It’s also possible to use other events like onHover, onTouch, onSwipe, onPinch, onScroll, etc…
These events are very useful for UI.</p>

<h4 id="there-are-many-more-fun-components">There are many more fun components</h4>
<p>Apart from the ones we mentioned here, there are many more fun components to include <a href="http://viro.readme.io/docs/video">video</a>, <a href="http://viro.readme.io/docs/audio">sound</a> and <a href="http://viro.readme.io/docs/particle-effects">particles</a> in your scene.
They follow the same principles but each have their own properties.
This being built on React Native we can also declare our own components of course!</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nc">CustomComponent</span> <span class="kd">extends</span> <span class="nc">Component</span> <span class="p">{</span>
	<span class="kd">static</span> <span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span><span class="na">customProperty</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">}</span>

    <span class="nf">constructor</span><span class="p">()</span> <span class="p">{</span><span class="k">super</span><span class="p">()</span> <span class="p">;}</span>

	<span class="nf">render</span><span class="p">()</span> <span class="p">{</span><span class="k">return </span><span class="p">(</span>
		<span class="o">&lt;</span><span class="nx">ViroText</span> <span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">customProperty</span><span class="p">}</span><span class="o">&gt;</span> <span class="p">);}</span>
	<span class="p">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;CustomComponent</span> <span class="na">customProperty=</span><span class="s">{42}</span><span class="nt">&gt;</span>
</code></pre></div></div>
<p>Just extend from Component, define your properties in propTypes and use it in your scenes.
In our demo application, we used this to create our scene but you can create small reusable components too of course!</p>

<h2 id="demo-application">Demo application</h2>
<p>Before you can build a ViroReact application you need to <a href="https://viromedia.com/signup">request an API key from ViroMedia</a>.
This should not take more than a few minutes.</p>

<p>For our demo application, we decided to use meeting rooms as a use case.
Since ViroReact is advertised as a framework for rapidly building AR / VR applications, we wanted to put this statement to the test and try to create an application in one day with no knowledge of the framework at all.</p>

<h3 id="use-case-meeting-room-status-viewer">Use Case: Meeting room status viewer</h3>

<p><a href="/img/2018-06-26-viroreact/app-scan.png" data-lightbox="app-scan" data-title="meeting-room-viewer-app-foto">
    <img alt="stack" src="/img/2018-06-26-viroreact/mr-door.png" class="image fit" style="margin:0px auto; max-width: 500px;" />
</a></p>

<p>Sometimes people want to have a quick meeting or Skype call. 
They might be standing or passing by a meeting room, 
and have the ability to immediately check if the meeting room is available for the next 30 minutes.</p>

<p>We created an application where the user can view the status of a meeting room in Augmented Reality by scanning the room name/picture.</p>

<p>We used <a href="https://docs.viromedia.com/docs/ar-image-recognition">Image Recognition in ViroReact</a> to achieve this.</p>

<p>Aside from the Image Recognition, we were also curious how ViroReact handles</p>
<ul>
  <li>HTTP requests</li>
  <li>UI Updates</li>
  <li>User interaction</li>
</ul>

<p>Eventually, I created three applications:</p>
<ul>
  <li>A backend application for holding meeting room state (NestJS)</li>
  <li>A client application for changing the state of a meeting room (Ionic PWA)</li>
  <li>A client application for viewing the state of a meeting room (ViroReact)</li>
</ul>

<p>For this blogpost, I will only discuss how we created the ViroReact application.</p>

<h3 id="the-ar-meeting-room-viewer-viroreact">The AR Meeting room viewer (ViroReact)</h3>

<p><a href="/img/2018-06-26-viroreact/app-scan.png" data-lightbox="app-scan" data-title="meeting-room-viewer-app-foto">
    <img alt="stack" src="/img/2018-06-26-viroreact/app-scan.png" class="image fit" style="margin:0px auto; max-width: 500px;" />
</a></p>

<p>ViroReact is built on top of React, so basic knowledge of React is necessary. 
To get started, you can follow this great free beginner guide by Kent C. Dodds at egghead.io 
<a href="https://egghead.io/courses/the-beginner-s-guide-to-react.">The beginner’s guide to React</a></p>

<h4 id="step-1-project-setup">Step 1: Project setup</h4>
<p>We began by following the Official <a href="https://docs.viromedia.com/v2.7.3/docs/quick-start">Quick Start guide from ViroMedia</a>.</p>

<p>Using the <a href="https://www.npmjs.com/package/react-viro">react-viro CLI</a>, we generated a ViroSample project.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>react-viro init ARMeetingRoomViewer
</code></pre></div></div>

<h4 id="step-2-create-an-ar-scene-for-viewing-the-status-of-a-meeting-room">Step 2: Create an AR scene for viewing the status of a meeting room.</h4>
<p>To be able to scan the meeting room we needed a picture of the meeting room nameplate, 
this will act as the marker to scan the meeting room information.</p>

<p><a href="/img/2018-06-26-viroreact/m07-image-marker.png" data-lightbox="m07" data-title="meeting-room-viewer-app-foto">
    <img alt="stack" src="/img/2018-06-26-viroreact/m07-image-marker.png" class="image fit" style="margin:0px auto; max-width: 300px;" />
</a></p>

<p>I placed the marker image inside of the <code class="language-plaintext highlighter-rouge">**/js/res**</code> folder.</p>

<p>Because the file extension was in capital letters (.JPG), 
I had to configure this extension in the <code class="language-plaintext highlighter-rouge">rn-cli.config.js</code> file inside of the root folder.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nf">getAssetExts</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="dl">"</span><span class="s2">obj</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">mtl</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">JPG</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">vrx</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">hdr</span><span class="dl">"</span><span class="p">];</span>
  <span class="p">},</span>
</code></pre></div></div>

<p>Next, I created the actual scene in a file called <strong>markerscene.js</strong> in the <strong>/js/</strong> folder.</p>

<p>To be able to scan the image marker, we need two important APIs:</p>
<ul>
  <li><a href="https://docs.viromedia.com/v2.7.3/docs/viroartrackingtargets">ViroARTrackingTargets</a></li>
  <li><a href="https://docs.viromedia.com/v2.7.3/docs/viroarimagemarker">ViroARImageMarker</a> component</li>
</ul>

<p>When the scene initialises we need to setup the Tracking Target(our image marker)
<strong>mr7</strong> refers to a meeting room name.</p>

<p>We call this method inside of the constructor.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nf">setMarker</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">ViroARTrackingTargets</span><span class="p">.</span><span class="nf">createTargets</span><span class="p">({</span>
            <span class="dl">"</span><span class="s2">mr7</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">source</span><span class="p">:</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./res/mr7.JPG</span><span class="dl">'</span><span class="p">),</span>
                <span class="na">orientation</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Up</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">physicalWidth</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">},</span>
        <span class="p">});</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>Then we need to define what to render. 
The root component will be an AR Scene:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;ViroARScene</span> <span class="na">onAnchorFound=</span><span class="s">{this._getInfo}</span>
              <span class="na">onClick=</span><span class="s">{this._getInfo}</span><span class="nt">&gt;</span>
  ...
 <span class="nt">&lt;/ViroARScene&gt;</span>
</code></pre></div></div>

<p>We bind two events on the ViroARScene component, onAnchorFound and onClick. 
Every time one of these events occurs, we want to fetch the latest meeting room state.</p>

<p><code class="language-plaintext highlighter-rouge">onAnchorFound</code> gets called when the Image Marker has been detected.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">getInfo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://rooms.meeting/rm7</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nf">json</span><span class="p">())</span>
        <span class="p">.</span><span class="nf">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">isTrueSet</span> <span class="o">=</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">isAvailable</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">true</span><span class="dl">'</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nf">setState</span><span class="p">({</span>
                <span class="na">isAvailable</span><span class="p">:</span> <span class="nx">isTrueSet</span><span class="p">,</span>
                <span class="na">nextMeeting</span><span class="p">:</span> <span class="nx">isTrueSet</span> <span class="p">?</span> <span class="s2">`Next meeting: </span><span class="p">${</span><span class="nx">res</span><span class="p">.</span><span class="nx">nextMeeting</span><span class="p">}</span><span class="s2">h`</span> <span class="p">:</span> <span class="s2">`Free @ </span><span class="p">${</span><span class="nx">res</span><span class="p">.</span><span class="nx">nextMeeting</span><span class="p">}</span><span class="s2">h`</span><span class="p">,</span>
                <span class="na">text</span><span class="p">:</span> <span class="nx">isTrueSet</span> <span class="p">?</span> <span class="s2">`Available`</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Not Available</span><span class="dl">'</span>
            <span class="p">})</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
        <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Inside the scene, we want to display the meeting room data when the Image Marker is scanned.
We need to use the ViroReact ImageMarker component for this.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ViroARImageMarker</span> <span class="na">target=</span><span class="s">{"mr7"}</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ViroFlexView</span> <span class="na">style=</span><span class="s">{this.state.isAvailable</span> <span class="err">?</span> <span class="err">styles.containerAvail</span> <span class="err">:</span> <span class="err">styles.containerNotAvail}</span>
                  <span class="na">width=</span><span class="s">{3}</span>
                  <span class="na">height=</span><span class="s">{3}</span>
                  <span class="na">position=</span><span class="s">{[0,</span> <span class="err">0,</span> <span class="err">1.25]}</span>
                  <span class="na">rotation=</span><span class="s">{[-100,</span> <span class="err">0,</span> <span class="err">0]}</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ViroText</span> <span class="na">text=</span><span class="s">{this.state.text}</span>
                  <span class="na">width=</span><span class="s">{2}</span>
                  <span class="na">height=</span><span class="s">{2}</span>
                  <span class="na">style=</span><span class="s">{styles.text}/</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ViroText</span> <span class="na">text=</span><span class="s">{this.state.nextMeeting}</span>
                  <span class="na">position=</span><span class="s">{[0,</span> <span class="err">-1,</span> <span class="err">0]}</span>
                  <span class="na">width=</span><span class="s">{2.5}</span>
                  <span class="na">height=</span><span class="s">{2}</span>
                  <span class="na">style=</span><span class="s">{styles.nextMeeting}/</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/ViroFlexView&gt;</span>
<span class="nt">&lt;/ViroARImageMarker&gt;</span>
</code></pre></div></div>

<p>The <strong>ViroARImageMarker</strong> component has a target “mr7” assigned.
This refers to the <strong>ViroARTrackingTarget</strong> we defined in the <strong>setMarker()</strong> method above.</p>

<p>When the target is successfully scanned, all the content of the ViroARImageMarker component will be rendered.
In our case, two TextViews positioned with a FlexView.</p>

<p>We bind the data we fetched from in our <code class="language-plaintext highlighter-rouge">getInfo()</code> method to the ViroText and ViroFlexView components.</p>

<p>And these are the styles we defined for the ViroText and ViroFlexView.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nf">create</span><span class="p">({</span>
    <span class="na">text</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">fontFamily</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Arial</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">fontSize</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
        <span class="na">flex</span><span class="p">:</span> <span class="p">.</span><span class="mi">5</span><span class="p">,</span>
        <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#FFFFFF</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="na">nextMeeting</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">fontFamily</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Arial</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">fontSize</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
        <span class="na">flex</span><span class="p">:</span> <span class="p">.</span><span class="mi">5</span><span class="p">,</span>
        <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#FFFFFF</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="na">containerAvail</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">flexDirection</span><span class="p">:</span> <span class="dl">'</span><span class="s1">column</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">backgroundColor</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#E98300</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">padding</span><span class="p">:</span> <span class="p">.</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">containerNotAvail</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">flexDirection</span><span class="p">:</span> <span class="dl">'</span><span class="s1">column</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">backgroundColor</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#e91530</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">padding</span><span class="p">:</span> <span class="p">.</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Our final scene</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span><span class="nx">StyleSheet</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span>
    <span class="nx">ViroARScene</span><span class="p">,</span>
    <span class="nx">ViroText</span><span class="p">,</span>
    <span class="nx">ViroConstants</span><span class="p">,</span>
    <span class="nx">ViroARTrackingTargets</span><span class="p">,</span>
    <span class="nx">ViroARImageMarker</span><span class="p">,</span>
    <span class="nx">ViroFlexView</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-viro</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nc">MarkerScene</span> <span class="kd">extends</span> <span class="nc">Component</span> <span class="p">{</span>

    <span class="nf">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">();</span>

        <span class="c1">// Set initial state here</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Initializing AR...</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">nextMeeting</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="na">isAvailable</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">};</span>

        <span class="k">this</span><span class="p">.</span><span class="nf">setMarker</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_getInfo</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getInfo</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nf">setMarker</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">ViroARTrackingTargets</span><span class="p">.</span><span class="nf">createTargets</span><span class="p">({</span>
            <span class="dl">"</span><span class="s2">mr7</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">source</span><span class="p">:</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./res/mr7.JPG</span><span class="dl">'</span><span class="p">),</span>
                <span class="na">orientation</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Up</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">physicalWidth</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">},</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="nf">render</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return </span><span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">ViroARScene</span> <span class="nx">onAnchorFound</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">_getInfo</span><span class="p">}</span>
                         <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">_getInfo</span><span class="p">}</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">ViroARImageMarker</span> <span class="nx">target</span><span class="o">=</span><span class="p">{</span><span class="dl">"</span><span class="s2">mr7</span><span class="dl">"</span><span class="p">}</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="nx">ViroFlexView</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">isAvailable</span> <span class="p">?</span> <span class="nx">styles</span><span class="p">.</span><span class="nx">containerAvail</span> <span class="p">:</span> <span class="nx">styles</span><span class="p">.</span><span class="nx">containerNotAvail</span><span class="p">}</span>
                                  <span class="nx">width</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span>
                                  <span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span>
                                  <span class="nx">position</span><span class="o">=</span><span class="p">{[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">]}</span>
                                  <span class="nx">rotation</span><span class="o">=</span><span class="p">{[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]}</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nx">ViroText</span> <span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span>
                                  <span class="nx">width</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span>
                                  <span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span>
                                  <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span>                        <span class="o">&lt;</span><span class="nx">ViroText</span> <span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">nextMeeting</span><span class="p">}</span>
                                  <span class="nx">position</span><span class="o">=</span><span class="p">{[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]}</span>
                                  <span class="nx">width</span><span class="o">=</span><span class="p">{</span><span class="mf">2.5</span><span class="p">}</span>
                                  <span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span>
                                  <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">nextMeeting</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="sr">/ViroFlexView</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="sr">/ViroARImageMarker</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/ViroARScene</span><span class="err">&gt;
</span>        <span class="p">);</span>
    <span class="p">}</span>

    <span class="nf">_getInfo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://rooms.meeting/rm7</span><span class="dl">'</span><span class="p">)</span>
            <span class="p">.</span><span class="nf">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nf">json</span><span class="p">())</span>
            <span class="p">.</span><span class="nf">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="kd">const</span> <span class="nx">isTrueSet</span> <span class="o">=</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">isAvailable</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">true</span><span class="dl">'</span><span class="p">);</span>
                <span class="k">this</span><span class="p">.</span><span class="nf">setState</span><span class="p">({</span>
                    <span class="na">isAvailable</span><span class="p">:</span> <span class="nx">isTrueSet</span><span class="p">,</span>
                    <span class="na">nextMeeting</span><span class="p">:</span> <span class="nx">isTrueSet</span> <span class="p">?</span> <span class="s2">`Next meeting: </span><span class="p">${</span><span class="nx">res</span><span class="p">.</span><span class="nx">nextMeeting</span><span class="p">}</span><span class="s2">h`</span> <span class="p">:</span> <span class="s2">`Free @ </span><span class="p">${</span><span class="nx">res</span><span class="p">.</span><span class="nx">nextMeeting</span><span class="p">}</span><span class="s2">h`</span><span class="p">,</span>
                    <span class="na">text</span><span class="p">:</span> <span class="nx">isTrueSet</span> <span class="p">?</span> <span class="s2">`Available`</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Not Available</span><span class="dl">'</span>
                <span class="p">})</span>
            <span class="p">})</span>
            <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
            <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nf">create</span><span class="p">({</span>
    <span class="na">text</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">fontFamily</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Arial</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">fontSize</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
        <span class="na">flex</span><span class="p">:</span> <span class="p">.</span><span class="mi">5</span><span class="p">,</span>
        <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#FFFFFF</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="na">nextMeeting</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">fontFamily</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Arial</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">fontSize</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
        <span class="na">flex</span><span class="p">:</span> <span class="p">.</span><span class="mi">5</span><span class="p">,</span>
        <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#FFFFFF</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="na">containerAvail</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">flexDirection</span><span class="p">:</span> <span class="dl">'</span><span class="s1">column</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">backgroundColor</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#E98300</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">padding</span><span class="p">:</span> <span class="p">.</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">containerNotAvail</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">flexDirection</span><span class="p">:</span> <span class="dl">'</span><span class="s1">column</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">backgroundColor</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#e91530</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">padding</span><span class="p">:</span> <span class="p">.</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">MarkerScene</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="step-3-load-your-marker-scene-on-application-startup">Step 3: Load your marker scene on application startup</h4>

<p>Now that we have our scene, we can load it on start-up.
In the root folder you can find the <code class="language-plaintext highlighter-rouge">app.js</code> file.
Here we can define which scene to load when starting up the application.</p>

<p>Assign your API key from ViroMedia.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">sharedProps</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">apiKey</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6E2805CC-xxxx-4Ex0-8xx0-02xxxxxxx</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div></div>

<p>Import your marker scene.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">MarkerScene</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./js/MarkerScene</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p>Render your AR Scene.</p>

<p>Final result:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">ViroARSceneNavigator</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-viro</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">sharedProps</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">apiKey</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6E2805CC-xxxx-4Ex0-8xx0-02xxxxxxx</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">MarkerScene</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./js/MarkerScene</span><span class="dl">'</span><span class="p">);</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nc">ViroSample</span> <span class="kd">extends</span> <span class="nc">Component</span> <span class="p">{</span>
    <span class="nf">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">();</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">sharedProps</span><span class="p">:</span> <span class="nx">sharedProps</span>
        <span class="p">};</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">_getARNavigator</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getARNavigator</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nf">render</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nf">_getARNavigator</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nf">_getARNavigator</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return </span><span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">ViroARSceneNavigator</span> <span class="p">{...</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">sharedProps</span><span class="p">}</span>
                                  <span class="nx">initialScene</span><span class="o">=</span><span class="sr">/</span><span class="err">&gt;
</span>        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">ViroSample</span><span class="p">;</span>
</code></pre></div></div>
<h3 id="demo">Demo</h3>

<div class="responsive-video">
    <iframe src="https://www.youtube.com/embed/KJvIwv86Hv0" frameborder="0" gesture="media" allowfullscreen=""></iframe>
</div>

<p><br /></p>

<div class="responsive-video">
    <iframe src="https://www.youtube.com/embed/3kvDbDxIqdA" frameborder="0" gesture="media" allowfullscreen=""></iframe>
</div>

<p><br /></p>

<h2 id="lessons-learned-and-conclusion">Lessons learned and conclusion</h2>
<p>Without prior knowledge it was a bit challenging for us to get our development environment set up correctly.
We had a lot of issues with debugging and cached builds. 
When we had issues, it was hard to tell if the problem was with React Native or ViroReact.</p>

<p>Debugging was a big challenge for us and the react native development tools don’t seem to work well with ViroReact.
The documentation is quite expansive but it was not always up-to-date.</p>

<p>But aside from that, once we were aware of which parts of the dev tools that worked and which ones that didn’t, we were able to quickly build an AR application.</p>

<h2 id="extra-resources">Extra resources</h2>
<ul>
  <li><a href="https://ordina-jworks.github.io/iot/2017/12/20/Virtual-Reality.html" target="_blank" rel="noopener noreferrer">An introduction to virtual and alternate reality</a></li>
  <li><a href="https://docs.viromedia.com/docs/viro-platform-overview" target="_blank" rel="noopener noreferrer">Documentation</a></li>
  <li><a href="https://github.com/viromedia/viro" target="_blank" rel="noopener noreferrer">Sample applications</a></li>
  <li><a href="https://egghead.io/courses/the-beginner-s-guide-to-react" target="_blank" rel="noopener noreferrer">Beginner’s guide to React</a></li>
</ul>

        </div>
    </div>
    <div class="share-page" >
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://ordina-jworks.github.io/iot/2018/06/27/viroreact.html&title=ViroReact: Build cross-platform AR/VR applications for Android and iOS using React&source=https://ordina-jworks.github.io" rel="nofollow" target="_blank" title="Share on LinkedIN">
            <img src="/img/social-media/LinkedIn.png"
                 alt="Share on LinkedIn" />
        </a>
        <a href="https://twitter.com/intent/tweet?text=ViroReact: Build cross-platform AR/VR applications for Android and iOS using React&url=https://ordina-jworks.github.io/iot/2018/06/27/viroreact.html&via=&related=" rel="nofollow" target="_blank" title="Share on Twitter">
            <img src="/img/social-media/Twitter.png"
                 alt="Share on Twitter" />
        </a>
        <a href="https://facebook.com/sharer.php?u=https://ordina-jworks.github.io/iot/2018/06/27/viroreact.html" rel="nofollow" target="_blank" title="Share on Facebook">
            <img src="/img/social-media/Facebook.png"
                 alt="Share on Facebook" />
        </a>
    </div>
        
</section>


<section id="two" class="wrapper alt spotlight style2">
    
    <div class="inner">
        <a href="/author/ryan-de-gruyter/" class="image spotlight-image" title="">
            <img src="/img/author/ryan-de-gruyter.jpg"
                 alt="" class="p-image"/>
        </a>

        <div class="content">
            
            <p><p>Ryan is a Software Engineer at Ordina Belgium. He is dedicated to writing clean code and building maintainable, user friendly web applications in TypeScript. Ryan is also an Angular expert who enjoys giving beginner and advanced Angular courses. In his spare time, he practices martial arts and enjoys playing the guitar.</p>
</p>
            
        </div>
    </div>
    
    <div class="inner">
        <a href="/author/michael-vandendriessche" class="image spotlight-image" title="">
            <img src="/img/author/michael-vandendriessche.jpg"
                 alt="" class="p-image"/>
        </a>

        <div class="content">
            
            <p><p>Michael is a Software Engineer at Ordina Belgium with a passion for Android. Besides mobile apps he also enjoys working on backend as well as frontend applications. He is always keen on trying out new things! In his spare time he likes to develop (and play) games.</p>
</p>
            
        </div>
    </div>
    
</section>

        </div>
    </section>
</div>



<footer>
    <div class="contact">
        <div class="address">
            <div class="icon"><i class="fa fa-fw fa-home"></i></div>
            <div class="text">Ordina Belgium<br/>Blarenberglaan 3B,<br/>2800 Mechelen, Belgium</div>
        </div>
        <div class="phone">
            <div class="icon"><i class="fa fa-fw fa-phone"></i></div>
            <div class="text"><a href="tel:003215295858">+32 15 29 58 58</a></div>
        </div>
        <div class="email">
            <div class="icon"><i class="fa fa-fw fa-envelope-o"></i></div>
            <div class="text"><a href="mailto:jworks@ordina.be">jworks@ordina.be</a></div>
        </div>
    </div>
    <ul class="social">
        <li>
            <a href="https://www.facebook.com/lifeatordinabe" target="_blank">
                <i class=" fa fa-fw fa-facebook"></i><span>Facebook</span>
            </a>
        </li>
        <li>
            <a href="https://www.linkedin.com/company/ordinabelgium" target="_blank">
                <i class=" fa fa-fw fa-linkedin"></i><span>LinkedIn</span>
            </a>
        </li>
        <li>
            <a href="/youtube" target="_blank">
                <i class=" fa fa-fw fa-youtube"></i><span>YouTube</span>
            </a>
        </li>
        <li>
            <a href="/github" target="_blank">
                <i class=" fa fa-fw fa-github"></i><span>GitHub</span>
            </a>
        </li>
        <li>
            <a href="/feed.xml" target="_blank">
                <i class=" fa fa-fw fa-rss"></i><span>RSS Feed</span>
            </a>
        </li>
    </ul>
    <div class="copyright">
        &copy; 2023 Ordina JWorks. All rights reserved.
        <br /> Disclaimer: Opinions expressed on this blog reflect the writer's views and not the position of Ordina
        <img id="analyticsImg" src="" width="1" height="1" style="border: 0px"/>
    </div>
</footer>
<!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/jquery.pin.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]>
<script src="/js/ie/respond.min.js"></script><![endif]-->


<script>
    var imageHref = "/img/2018-06-26-viroreact/viroreact.jpg";
    $(function () {
        $('body').addClass('toggle');
    });
</script>


<script src="/js/main.js"></script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o);
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-70040502-1', 'auto');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
    window.addEventListener('load', function () {
        if (window.ga && ga.create) {
            console.log('GA loaded correctly');
        } else {
            console.log('GA is blocked or failed to load - tracking manually...')
            document.getElementById('analyticsImg').src = 'https://jworks-techblog-analytics.cfapps.io/collect?title=' + document.title;
        }
    }, false);
</script>

<!-- Vertical timeline -->
<script src="/js/vertical-timeline/modernizr.js"></script>
<script src="/js/vertical-timeline/main.js"></script>


</body>
</html>
