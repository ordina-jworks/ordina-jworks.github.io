---
layout: post
authors: [tom_van_den_bulck,yannick_de_turck]
title: 'Devoxx FR 2019'
image: /img/devoxx-fr-2019/devoxx-fr.png
tags: [Devoxx,Java,Agile,Conference]
category: Conference
comments: true
---

> [Devoxx France](https://devoxx.fr/){:target="_blank"} is a yearly conference in Paris, France.
> Three colleagues of Ordina JWorks: Yannick De Turck, Tim Ysewyn and Tom Van den Bulck 
attended the conference, where all of them were welcomed as speaker.
> In this blog post we share our impressions and experiences.


# Table of contents

* [The Speakers Dinner](#the-speakers-dinner)
* [Applying (D)DDD and CQ(R)S to Cloud Architectures with Java, Spring Boot, Kafka and Docker by Benjamin Nothdurft, Michael Follmann and Dominik Guhr](#applying-dddd-and-cqrs-to-cloud-architectures-with-java-spring-boot-kafka-and-docker-by-benjamin-nothdurft)
* [Modern Java: Change is the Only Constant by Mark Reinhold](#modern-java-change-is-the-only-constant-by-mark-reinhold)
* [Meet Micronaut: a reactive microservices framework for the JVM by Álvaro Sánchez-Mariscal](#meet-micronaut-a-reactive-microservices-framework-for-the-jvm-by-álvaro-sánchez-mariscal)
* [Full-Text Search Tips & Tricks by Denis Rosa](#full-text-search-tips--tricks-by-denis-rosa)
* [Conclusion](#conclusion)


## The Speakers dinner
The evening of the workshop day we had the speakers dinner where we provided with lots yummy snacks to feast one while enjoying a glass wine.
It is a great opportunity to network with the other speakers, an opportunity to connect with other experienced developers and gain valuable insights.

Being a speaker and meeting other speakers also gives you a nice icebreaker: "What talk are you giving?"
Very handy to get the conversation going.

That is the power of a conference, to speak with other attendees and speakers and gain valuable knowledge.
But most of that knowledge is not presented in the talks but will only bubble up if you speak face 2 face.

## Applying (D)DDD and CQ(R)S to Cloud Architectures with Java, Spring Boot, Kafka and Docker by [Benjamin Nothdurft](https://twitter.com/DataDuke){:target="_blank" rel="noopener noreferrer"}
<span class="image left"><img class="p-image" alt="Benjamin Nothdurft" src="/img/devoxx-ma-2018/speaker-benjamin-nothdurft.png"></span>
Benjamin started off by giving a brief introduction on Domain-Driven Design explaining the different building blocks such as domains, domain events, ubiquitous language and Event Storming.  
He also mentioned the famous two books: [Domain-Driven Design by Eric Evans](https://www.oreilly.com/library/view/domain-driven-design-tackling/0321125215/){:target="_blank" rel="noopener noreferrer"} and [Implementing Domain-Driven Design by Vaugn Vernon](https://www.amazon.com/Implementing-Domain-Driven-Design-Vaughn-Vernon/dp/0321834577){:target="_blank" rel="noopener noreferrer"}.

Benjamin went through all the different steps of [Event Storming](https://www.eventstorming.com/).
The goal is to bring people of different silos together, such as developers, analysts, architects and business experts.
Together you want to create a logically ordered sequence of events to document a system using an ubiquitous language i.e. everybody using the same vocabulary and terms.
Events describe things that have happened and are thus always in the past tense e.g. product added to cart.
In a next step you want to identify commands, which are the triggers of events e.g. add product to cart.
There are also aggregates which represent the data that is interacted with.
And finally you want to identify the bounded contexts grouping relevant parts together.

Benjamin then explained how this all gets translated to your system architecture.
Each bounded context can be mapped to a single microservice.
He covered different context map patterns such as event publisher, shared kernel, customer/supplier and anti-corruption layer together with detailed code samples.
Afterwards he went through a CQRS example with many code samples and the questions you should be asking yourself when determining the right architecture.
We really liked how in-depth everything was as many presentations about Domain-Driven Design usually remain rather abstract and high-level.

You can check out Benjamin's slides on [slides.com](https://slides.com/dataduke/2019-04-03-ddd-cqrs-cloud-181){:target="_blank" rel="noopener noreferrer"}.

You can review the talk on [youtube](https://www.youtube.com/watch?v=zBUqoztK3Lo){:target="_blank" rel="noopener noreferrer"}.

## Modern Java: Change is the Only Constant by [Mark Reinhold](https://twitter.com/mreinhold){:target="_blank" rel="noopener noreferrer"}
<span class="image left"><img class="p-image" alt="Mark Reinhold" src="/img/devoxx-fr-2019/mark_reinhold.png"></span>
Mark described how they took the massive monolithic platform, the JDK, and transformed it in three ways:
First, they sliced it up into 26 modules.
Second, they removed the java ee and corba modules, together with some other apis resulting in 19 modules
And third, the grand majestic release model where a new version was shipped every 2, 3 or 5 years was left behind inf favour of one where there is a release every 6 months.

Just packacking the modules you need will make the footprint of your application smaller.
The stronger encapsulation also makes java more secure, a couple of the Zero Day exploits could have been avoided with stronger encapsulation, three out of six since JDK7.

Modules will allow to restrict access to internal packages, it will no longer compile and it may generate warnings at runtime.
Run the following command line: `$ jdeps --jdk-internals app.jar` to check if internal APIs are used.

In theory, if your code only uses standard Java SE APIs then it will most likely work without changes.
For more info, see: [jeps/291](http://openjdk.java.net/jeps/291){:target="_blank" rel="noopener noreferrer"}.

Lots of methods and apis have been (and will be) removed but there are 4 reasons not to worry about it:
- There is advanced notice before removing anything (`@Deprecated`).
- Make the choice yourself between LTS or feature releases.
- Java is still free.
- Some things might break but it shouldn’t take much work to fix them.

At first there was the fear that with the 6 month release cadance that there would be some releases which would only contains bugfixes.
But it has shown that all releases provided new features, [JEPs](https://en.wikipedia.org/wiki/JDK_Enhancement_Proposal){:target="_blank" rel="noopener noreferrer"}.

- JDK 9: 90 JEPs, 6 JEPs came from outside Oracle
- JDK 10: 12 JEPs, 2 JEPs from other contributors (304, 316)
- JDK 11: 17 JEPs, 3 JEPs from others (315, 318, 331), with 2458 issues resolved (1963 solved by Oracle, 169 by SAP and others), this is the latest LTE edition(next one will be JDK 17)
- JDK 12: 8 JEPs, 1 JEPs from another contributor (189)

Every one of these releases is PRD ready, only difference is support time.

> Java is still free.

> Finally, please let me assure you of one thing: whether by Oracle or Red Hat or someone else, JDK LTS releases will continue to > be supported. We all have a lot invested in Java, and we won't let it fall - Andrew Haley.

source: [http://mail.openjdk.java.net/pipermail/jdk-dev/2018-August/001826.html](http://mail.openjdk.java.net/pipermail/jdk-dev/2018-August/001826.html)

Oracle JDK vs OpenJDK:
Choose between LTS version and big upgrade migrations or latest release with small migrations every 6 months.
Feature release: Make sure your tools and dependencies can keep up!

Asked on Twitter to library maintainers if they worked fine on JDK9, same question was asked when JDK 11 got released.
A lot of libraries have already upgraded for JDK 11.

If you’re using Java 9 or later, upgrade to the latest version of your tools and other dependencies.
> Everything changes and nothing stands still - Heraclitus.

The most important goals when working on a new version are: 
- Developer productivity, not for one-off scripts but when building and maintaining large reliable programs.
- Program performance including and not limited to: startup time, memory consumption, ...

He also touched upon some of the major active [projects of the Open JDK community](https://openjdk.java.net/projects/).

[Amber](https://openjdk.java.net/projects/amber/) which is about right-sizing languages ceremony, reducing boilerplate.
- Better and improved type inference with a smarter compiler
- Less keyboard typing for you
- Fix error prone things such as switch case on enums with pattern matching where the compiler detects whether a default is needed or not
- Multi-line strings (Java 13 JEP TBD)
- Value classes for data containers: record Point(double x, double y)

[Loom](https://openjdk.java.net/projects/loom/) brings fibers to the Java platform.
- Similar to threads but different
    - Fibers are simpler than threads
    - Fibers work well with `CompletableFutures`
- Gave a demo on the performance

[Valhalla](https://openjdk.java.net/projects/valhalla/): Value types & specialized generics
- Too bad that Mark did not have any more time to cover this topic.

You can review the talk on [youtube](https://www.youtube.com/watch?v=IvmoxgSatbg){:target="_blank" rel="noopener noreferrer"}.

## Meet Micronaut: a reactive microservices framework for the JVM by [Álvaro Sánchez-Mariscal](https://twitter.com/alvaro_sanchez){:target="_blank" rel="noopener noreferrer"}
<span class="image left"><img class="p-image" alt="Álvaro Sánchez-Mariscal" src="/img/devoxx-fr-2019/alvaro-sanchez-mariscal.png"></span>

The reality of existing frameworks:
Frameworks based on reflection and annotations tend to become fat.
But we love the programming model and productivity model so we live with it.
So, why should we be more efficient?

For example, what both Spring and Jakarta EE do:
Spring is an amazing technical achievement but many things are done at runtime.
- Reads the byte code of every bean it finds
- Synthesize new annotations on each bean method, constructor,… to support annotation metadata.
This leads to high startup time and memory consumption.

Micronaut is a new framework created by the creators of Grails for which the goal is: 
To have the productivity of spring boot or grails with the performance of a compile-time, non-blocking framework.
It is designed from the groud up with microservices and cloud in mind.
Ultra lightweight and reactive, based on netty instead of tomcat, its internals are reactive.
Provided with:
- Integrated AOP and compile-time DI for Java, Groovy and Kotlin.
- Annotation processors for Java and Jotlin
- AST transformations for Groovy

Micronaut is fully open Source and you can find the source code [here](https://github.com/micronaut-projects/)
It was announced 1 year ago, in May 2018 after 2 years of development behind the scenes.

It can be used to build:
- Microservices
- Serverless applications
- Message-driven applications with kafka/rabbit
- CLI applications
- Android applications
- Simple `static void main(String.. args)` things

Micronaut can be even faster with GraalVM, but this still is experimental.

Next Alvaro showed use a Coding demo:
A micronaut project with [Consul](https://www.consul.io/), for service discovery.
To give you an example about the performance, the demo greeting application with automated tests took 52ms to start with Consul registration.
A second application was created for the gateway it has reactive types such as `Single`, which is non blocking and similar to a `Future`
Wrote a non-blocking api in the gateway that merges two calls to the greeting application

Alvaro ended with a demo of an application on Google Cloud Run (serverless based on containers)
Google Cloud run was considered to be much easier for you as a developer then AWS Lamba, by Alvaro.

Resources: a [3hr workshop](https://alvarosanchez.github.io/micronaut-workshop-java/)

You can review the talk on [youtube](https://www.youtube.com/watch?v=yJd4yk3slck){:target="_blank" rel="noopener noreferrer"}.

## Full-Text Search Tips & Tricks by [Denis Rosa](https://twitter.com/deniswsrosa){:target="_blank" rel="noopener noreferrer"}
<span class="image left"><img class="p-image" alt="Denis Rosa" src="/img/devoxx-fr-2019/denis-rosa.png"></span>
Denis Rosa is a developer advocate at Couchbase.

The scenario where you have multiple nodes and many clients who want to do full-text search is still pretty hard to do with the JVM. 
Which is one of the reasonse why it was decided to start with [Bleve](http://blevesearch.com/): a framework for full-text search and indexing written in [Go](https://golang.org/).

It is important to realize that search is not about matching text, that search is more sales-oriented.
For example: 
- Netflix wants to convince you to watch a movie.
- Google want to answer your questions.

When building out search functionality it is important to know how your users are searching.
Do they use one word, two words, three words, …
User queries should be saved, don’t forget to do so, so you can learn more about your users and improve your search model.

Some quick core concepts:
- TD/IDF: rare words score higher
- Edit distance: minimum number of operations required to transform one string into another: for example, star -> start
- Pivoted length norm: matches in small texts will rank higher then in long ones.

Denis showed an example with Bleve underneath.

He made an application Couchflix: specify text to search on movies.
Where he showed how "good" his initial search was, when searching on `star war` vs `star wars` the first one just showed some zombie movies but nothing about star wars.

During the live coding session several search implementations were made to see the difference: match on title alone, match on title and description, ...

Even after some modifications we still have the sitation that when searching on `star war` both `star` and `war` are matched separately.

We need to use a [Shingle](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-shingle-tokenfilter.html), a shingle will break your search term in a combination of two, three, four words, ... 
For example: “Star wars daisy Ridley” gets split out in the following search terms:
- Star Wars
- Wars Daisy
- Daisy Ridley

Instead of shingles you can also use [Stemming](https://qbox.io/blog/elasticsearch-algorithmic-stemming-tutorial) to avoid conjugations.
For example, the search terms Fishing, fished and fisher would all be transformed to fish.

[Boosting](https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-boost.html): allows you to boost up the ranking factors of your search results.
Most people tend to first focus on these when searches do not return the results they want, but your first need to make sure that everything has been indexed properly. 
Only after that you can start thinking about boosting.

[Decay functions](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html#function-decay) will allow you to decay your research results, for example: leave out older movies that are less relevant.

Things also get more complicated when we want to search on an actor name compared to the movie name for which we now have done all those optimizations. 
Searches are always biased, so the one we had for titles is less ideal for searching on actors.

Some other recommendations: 
- For tests, the [Cranfield Evaluation Method](https://spraakbanken.gu.se/sites/spraakbanken.gu.se/files/6IR12.pdf) is a good strategy to implement tests: for every change you do in your model you need to verify if your query still returns a good result. It is more complicated as the average junit test though.
- Use [Precision and Recall](https://en.wikipedia.org/wiki/Precision_and_recall) as a metric.
- There is a very nice Coursera course available: Text [Retrieval and Search Engines](https://www.coursera.org/learn/text-retrieval), which is really worth checking out.
- Be careful with features that are directly influenced by users to avoid being tricked!

The Source demo can be found at [https://github.com/deniswsrosa/couchflix](https://github.com/deniswsrosa/couchflix) 

You can review the talk on [youtube](https://www.youtube.com/watch?v=B9qRJhA1ONs){:target="_blank" rel="noopener noreferrer"}.

## Real Quantum Computing by [James Birnie](https://twitter.com/runningchairjb){:target="_blank" rel="noopener noreferrer"}
<span class="image left"><img class="p-image" alt="James Birnie" src="/img/devoxx-fr-2019/james-birnie.png"></span>
Using many worlds to solve the unsolvable

Why quantum computing?
James didn’t knew anything about it until he followed a talk of Alistair in Vienna at which point he still found it hard to comprehend.
So he decided to make a talk of his exploration of quantum computing in such a way that it would become easier to comprehend for the uninitiated.

The last version of the Thoughtworks tech radar has [Q#](https://www.microsoft.com/en-us/quantum/development-kit){:target="_blank" rel="noopener noreferrer"} in Assess on the recommendation of James.

To understand, first go back to the classical bit:
A bit = unit of binary information, which can hold 2 states: 0 or 1.
This is stored as one of two voltages, logic gates compose this into arithmetic.

In quantum computing we have the Qubit
This also has a value of 0 or 1.
However, observing the value “collapses” the state to a single value.
Any quantum thing can be a qubit, such as an electron, a photon or an ion

The quantum state is somewhat represented by the [bloch sphere](https://en.wikipedia.org/wiki/Bloch_sphere), a complex values probability amplitude.
Probabilities of measuring the different values are derived from the quantum state.
This maps to a point on the bloch sphere for a single qubit in a pure state.

Quantum logic gates are similar to classical logic gates.

[IBM Q](https://www.research.ibm.com/ibm-q/) allows you to make a free account to play with quantum computers.
Make circuits by drag and dropping gates and operations.

Next James demonstrated the Schrodingers cat thought experiment.
When executed on a real quantum computer there were a lot of error states, showing that quantum computers are not yet production ready.
In a simulation the result was balanced in the 00000 and 01111 state.

There are problems that classical computing cannot solve but quantum computers can and this is what makes them interesting.
Quantum computers cannot meaningfully persist state though.
Hardware is not ready yet for quantum computers and they are hard to program.

James did an experiment on his own cat and the different states of a cat, culminating in a quantum program on the behaviour of cats.
The C# program CatMoodExperiment with multiple outcomes: x people feeding the cat
4 qubits representing 4 persons, that may feed the cat
Another test that represents how the cat is feeling
Available on his [github](https://github.com/JimBobBirnie/clementines-cat).

What do we need to build a commercial quantum solution?
- alogrithms and applications (will happen)
- integration with cloud provider (will happen)
- error correction (hard!)
- quantum classic interface (hard!)
- cryogenic systems (expensive!!)
- scalable qubit foundations (hard!)


Two well know quantum algorithms to look into are: 
- [Deutsch-Josza algorithm](https://en.wikipedia.org/wiki/Deutsch%E2%80%93Jozsa_algorithm), 1992
- [Grover’s algorithm](https://en.wikipedia.org/wiki/Grover%27s_algorithm), 1996

The most interesting application for James is quantum chemistry, because it should allow us to fully understand complex molecules, like iron molybdenum, which exists within beans which fix atmospheric nitrogin. 
While we humans need 5% of the natural gas supply to make fertilizer with the [Haber Bosch process](https://en.wikipedia.org/wiki/Haber_process), beans do that with no energy, so if we understand that iron molybdenum complex we can potentially do away with this massive energy efficient process.

Then you also have [Shor’s algorithm](https://en.wikipedia.org/wiki/Shor%27s_algorithm) to factorise n, which should make it possible to break RSA encryption.
But currently still not there as quantum computers are not yet stable enough.

All in all a very interesting talk to give you a headsup on the current state of affairs around quantum computing, but it also makes it quite clear that we still need to go a long way in order to have practical, production-ready, quantum computing.

You can review the talk on [youtube](https://www.youtube.com/watch?v=7J4tuIsbBfk){:target="_blank" rel="noopener noreferrer"}.

## Agile is a Dirty Word by [James Birnie](https://twitter.com/runningchairjb){:target="_blank" rel="noopener noreferrer"}

In this talk James explores in which organizations agile became a dirty word.
Often it starts with companies who are doing real agile, you can compare the organizations with real democratic countries like the Democratic Republic of Congo and Democratic People's Republic of Korea.

Doing agile does not make you agile, you don't do agile, you are.
Often it is like a cargo cult, just doing the rituals of scrum but loosing the goal, the context out of sight.

Combine this with risk management theater, also known as a lots of processes and checkboxes to tick in order to avoid risk taking and it is easy for agile to become a dirty word.

SAFE is the perfect example of agile gone wrong, too much convention and control.

Agile also tends to collide with the current issues with budgeting, which tend to emphasize on short-term goals preventing organizations from doing some real investments.

A good paper to read is: [How to detect agile bullshit](https://media.defense.gov/2018/Oct/09/2002049591/-1/-1/0/DIB_DETECTING_AGILE_BS_2018.10.05.PDF){:target="_blank" rel="noopener noreferrer"}from the us department of defence.

In order to bring the organization back to track, avoid dirty words which have become contaminated by bad experiences.
Read the agile manifesto and talk about the values and principles mentioned.

Note, waste is not always obvious, like code reviews which are often seen als helpfull and agile, but too often are just waste.

Only work on your biggest problem and only when that has been tackled move over to the next.

The goal of agile should be to get autonomous cross functional teams who can deliver themselves and are decoupled as much as possible from the rest of the organization.
Also, there does not exist failure within agile, it is better to call it experimenting.

You can review the talk on [youtube](https://www.youtube.com/watch?v=CmKBXgbMa24){:target="_blank" rel="noopener noreferrer"}.

## Conclusion
Devoxx FR was amazing experience for us where we got to meet and befriend a lot of great people.

Because that should be the main goal when you attend a conference, share your experiences.
I admit, that as a speaker it is easier to share your experience, to get in contact with other people.
But as an attendee you should never hesitate to go up to a speaker or another attendee and ask a question, to come in contact.
Most people are happy and willingly to share their knowledge.

So if the next time you are at a conference and you are thinking about that you would like to ask a question or join a conversation, just do it.

The date for next year's edition has already been announced and will happen on 15 - 17 april 2020.
Be sure to mark it in your agenda so you can enjoy the great [atmosphere](https://www.youtube.com/watch?v=Mt1jXgiyhp0){:target="_blank" rel="noopener noreferrer"}!