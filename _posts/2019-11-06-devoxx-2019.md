---
layout: post
authors: [pieter_vincken, duncan_casteleyn]
title: 'Devoxx Belgium 2019'
image: /img/2019-11-06-devoxx-belgium-2019/logo.png
tags: [Conference, Java, Kubernetes, Devoxx]
category: Conference
comments: true
---

## Table of contents

* [Keynote](#keynote)
* [Talks](#talks)
* [Conclusion](#conclusion)

## Introduction

Devoxx Belgium is a Java community conference in Antwerp, Belgium.
Every year in November it is organised and always has a great assortment of bleeding edge technology talks, methodology talks and architectual insights.

During this edition about 30 JWorks colleagues joined talks at Devoxx.
Ordina again had a very popular booth by providing attendees nachos, the venue is a cinema after all.

<img class="image fit" style="margin:0px auto;" alt="Ordina booth" src="/img/2019-11-06-devoxx-belgium-2019/booth.jpg">

## Keynotes

### The Hitchhiker’s Guide to Diversity (Don't panic!)

Audrey Neveu gave this inspirational keynote.

This talks, following the same format as the similarly titled book, provides a chapter by chapter overview of the struggles and issues with diversity in our industry and what steps our community can take to improve.
The key takeaway is to be at least aware of the issue and to try to be sensitive to undertones in jokes and messages towards all members of our community, especially as they might not seem harmful at first sight.

[YouTube VOD](https://www.youtube.com/watch?v=DSzDFZ0Ue1w){:target="_blank" rel="noopener noreferrer"}

### Qualities of a Highly Effective Architect

A typical Venkat talk.
In a funny but straightforward way he explained the pitfalls, does and don'ts for architects.
He provided a 12 point guideline that all architects should adhere to.
'Prototype beats any arguments' and 'Every technical decision should have an expiration label' are just a few examples.

<img class="image fit" style="margin:0px auto;" alt="12 point guideline" src="/img/2019-11-06-devoxx-belgium-2019/2019-11-06-Venkat-12-points.jpg">

This talk is a definately must-see as he provides his view on how architects should behave in an organisation with the usual portion of humor.

[YouTube VOD](https://www.youtube.com/watch?v=QeKheNfO3Yg)

## Talks

### Running Kafka in Kubernetes: a practical guide

This is a talk by Katherine Stanley from IBM.
She works in the IBM Event Streams project.

This talk provides a good overview of common pitfalls with setting up Kafka on a Kubernetes cluster.
Katherine introduces all basic concepts, so following this talk is possible without a ton of Kafka and Kubernetes knowledge.
She discusses how several Kubernetes constructs are used to support and enabled the usage of Kafka and Zookeeper.
Liveness and readiness probes, Statefull sets, Pod anti affinity, Persistant volumes and headless services are all discussed.
Lastly Katherine discusses the different options for running and managing a Kafka cluster on Kubernetes.
Both the IBM Events Helm charts and the Strimzi operator are shown and discussed.
Strimzi is an operator that allows Kafka cluster to be created and managed through CRDs in Kubernetes.

[YouTube VOD](https://www.youtube.com/watch?v=aO2pv8W6oZU){:target="_blank" rel="noopener noreferrer"}

### Best Practices to Spring to Kubernetes Easier and Faster

Ray Tsang is a developer advocate for the Google Cloud Platform.
He is a Java Champion and works on improving the usability of GCP for Java usecases.

Ray shows some tools and their usecases when developing Java applications on Kubernetes.
Most tools are shown in a small demo.

Discussed tools

* [Testcontainers](https://www.testcontainers.org/){:target="_blank" rel="noopener noreferrer"}
* [Java Memory Calculator](https://github.com/cloudfoundry/java-buildpack-memory-calculator){:target="_blank" rel="noopener noreferrer"}
* [Jib](https://github.com/GoogleContainerTools/jib){:target="_blank" rel="noopener noreferrer"}
* [k3s](https://k3s.io/){:target="_blank" rel="noopener noreferrer"}
* [Kind](https://github.com/kubernetes-sigs/kind){:target="_blank" rel="noopener noreferrer"}
* [Skaffold](https://github.com/GoogleContainerTools/skaffold){:target="_blank" rel="noopener noreferrer"}
* [Graceful shutdown library](https://github.com/SchweizerischeBundesbahnen/springboot-graceful-shutdown){:target="_blank" rel="noopener noreferrer"}

He also provides some common pitfalls when developing Java for Kubernetes.
He refers to his talk about common [docker pitfalls](https://saturnism.me/talk/docker-tips-and-tricks/){:target="_blank" rel="noopener noreferrer"}.

Finally he showed a demo of how an IntelliJ plugin, when combined with Skaffold, can allow a developer to debug a container running on an actual Kubernetes cluster, straight from their local machine. Side note, this is super cool!

[YouTube VOD](https://www.youtube.com/watch?v=c16oOeTfFXM){:target="_blank" rel="noopener noreferrer"}

### Observing Chaos

Juraci Paixão Kröhling is a SE at RedHat working on the Kiali team and a maintainer of Jaeger Tracing.

He provides a brief overview of the basic concepts of a services mesh, it's inner workings with a sidecar and their advantages and issues.
Next, he discussed how different features of a service mesh can solve common concerns w.r.t. routing, resiliency, security, observability and distributed tracing.

The last part of the talk is an extensive demo of the four tools/technologies discussed in the talk: Jaeger, Istio, Quarkus and Kiala.
A demo service is deployed and a distributed tracing example scenario is shown and discussed.

[YouTube VOD](https://www.youtube.com/watch?v=FJ_YuUgIt8E){:target="_blank" rel="noopener noreferrer"}

### What happens after your startup is acquired

This was an amazing talk by Renata Tamasi, founder of Samebug and currently working at Rollbar.

During this talk, she took us through the journey of running and later-on selling her start-up to Rollbar.
She starts by showing the struggles they had to get the start-up going in Europe and what the pitfalls they uncovered during journey.
Simply put, getting a SaaS based start-up off the ground and making is succesfull in Europe is almost impossible without the founders moving to the US.
During their journey, Renata explained the different paths they tried with Samebug ranging from trying to raise funding for their start-up to finally getting aquired by Rollbar.

This is a must see talk for everyone who wants to join a start-up and it will be very familiar for anyone who was in a start-up at one point in time.

[YouTube VOD](https://www.youtube.com/watch?v=TcP7OWbmY8Q){:target="_blank" rel="noopener noreferrer"}

### Resiliency and Availability Design Patterns for the Cloud

Sebastien Stormacq is a senior Technical Evangelist as AWS.

Your system should still work when a failure occurs, even if it's just in a degraded state.
Your business should not rely on a single person being available and present.

Geo redundancy is explained and how you can use availability zones (AZs) to have geo redundancy.
He also explaines a scenario where an AZ fails and a hot failover is performed using an Elastic Load Balancer.
Always spread architectures over multiple AZs or use regionless services (S3, ELB) which are multi-az by default.

Load shedding is a technique to drop all traffic once a service becomes loaded beyond a preset point of healthy load.
This prevents the service from being overloaded and crashing.

Shuffle sharding is a technique to reduce the blast radius for an outage by creating isolated comparments in the infrastructure.

Finally Sebastian provides two very good resources:

* [Amazon well architected](https://aws.amazon.com/architecture/well-architected/){:target="_blank" rel="noopener noreferrer"}
* [Choas engineering blog](https://medium.com/@adhorn){:target="_blank" rel="noopener noreferrer"}

Takeaways:

* Use Availability zones to achieve Geo redundancy
* Use autoscaling mechanisms to have self-healing VMs
* Test your backups
* Use a split database setup. Split logically or functionally (read-write / sharding)
* Set and sync timeouts
* Implement backoffs for retries with jitter
* Make sure database operations are idempotent
* Use circuit breaks to prevent overloading an already degraded system
* Implement healthchecks
* Reject traffic when load is high on the service (Load shedding and throttling)
* Apply shuffle sharding techniques to limit blast radius of outage
* Perform GameDays
* Experiment with Chaos engineering

[YouTube VOD](https://www.youtube.com/watch?v=MCpjEiemsRg){:target="_blank" rel="noopener noreferrer"}

### SSL/TLS for mortals

Maarten Mulders provides this talk for mortals.

SSL is outdated and should be not be used anymore.
Documentation can be confusing as SSL is sometimes used to discuss SSL and TLS setups.
Only TLS should be used as SSL has been broken (cracked) multiple times.

Maarten goes on to explain the basic concepts of public and private keys.
He also explains all the mathmatics behind the RSA key creation.

This talk is ideal for people wanting to get a brief overview of how TLS works.

[YouTube VOD](https://www.youtube.com/watch?v=yJrJEvvW_HA){:target="_blank" rel="noopener noreferrer"}

### Defence Against the Docker Arts

Joe Kutner works at Heroku and is a core maintainer of [Buildpacks.io](https://buildpacks.io/){:target="_blank" rel="noopener noreferrer"}

He starts this talk by providing a set of common pitfalls and best practises for creating Dockerfiles in rapidfire.
Multi-stage builds, combining multiple run commands into one and using proper base images for all docker builds are just a few examples.

Joe then discusses the pros and cons of [Buildkit](https://github.com/moby/buildkit){:target="_blank" rel="noopener noreferrer"} and [Jib](https://github.com/GoogleContainerTools/jib){:target="_blank" rel="noopener noreferrer"} as tools for building Docker images.

Lastly, Joe explains what Buildpacks are, their origin, their usecases and what the architecture is.
The different advantages of Buildpacks are extensivly explained and the lifecyle of a typical Buildpack is shown.
Pack is discussed as an easy way to use Buildpacks for a Spring Boot application.
Joe demos the usefulness of Buildpacks with the usecase of the HeartBlead CVE.

This talk is recommended for an audience that is interested in building Docker images without having to deal with Dockerfiles.

[YouTube VOD](https://www.youtube.com/watch?v=ofH9_sE2qy0){:target="_blank" rel="noopener noreferrer"}

### Flowable business processing from Kafka events

Tijs Rademakers and Joram Barrez are both employees of Flowable.

The talk starts by providing a brief overview of Flowable as a product.
They introduce the different standards that Flowable supports: BPMN, CMMN and DMN.
Tijs continious by explaining the architecture of Flowable and it's evolution.

Next, Joram explains how (Kafka) events can be used in the Engine.
He goes on by providing a demo of the platform using an example process.
A flow diagram of the information flow and the use of Kafka and Flowable is shown.
He also explains all code that is required to execute the demo process.

This talk provides a good starting point for Flowable, even for people who have very little to no experience with BPM engines.

[YouTube VOD](https://www.youtube.com/watch?v=nX0dRiPqOmk){:target="_blank" rel="noopener noreferrer"}

### API First development with OpenAPI - You should you practise it !? by Nick Van Hoof

Our very own Nick Van Hoof gave a talk at Devoxx as well.
Nick is a Cloud Engineer at Ordina who works at Nike.

In this 15 minute quicky, Nick explains why API first development is a good practise.
He start by explaining the advantages through an example.
Next, he goes on to show a short demo and some examples of an Open API design and tooling that can be used to ease the usage of Open API.

This talk gives a good introduction into why you should embrace API first development and what tooling and benefits you can expect.

<img class="image fit" style="margin:0px auto;" alt="Nick on stage" src="/img/2019-11-06-devoxx-belgium-2019/nick.jpg">

[YouTube VOD](https://www.youtube.com/watch?v=F9iF3a1Z8Y8){:target="_blank" rel="noopener noreferrer"}

### A container platform for the banking industry - why, what & how

This talk is presented by Wiebe de Roos, an CI/CD Consultant and Engineer at ABN AMRO Bank.

Wiebe starts by sketching the scale of the project and their container journey.
The different requirements are discussed and platform landscape was used.
Next, he discusses what pipelines are used to provide the end-to-end CI/CD workflow.

He continious to explain what measure they have taken to adhere to the hard audit requirements in their regulated banking environment.
Container security, compliancy, monitoring and logging and their solutions for these requirements are shown and explained.

This is an amazing talk, a definately must watch for anyone using Kubernetes in a regulated environment.

[YouTube VOD](https://www.youtube.com/watch?v=4ACat8H69_I){:target="_blank" rel="noopener noreferrer"}

### How to get hacked properly

This talk is presented by Julien Topcu, a member of OWASP.

Julien uses an example Spring Boot webapp to showcase a few common security issues.
For each of the issue, he also presents and live codes the remediation.
These exploits are all part of the OWASP top 10.

This is a nice talk to get an intesting overview of a few common security issues and their fixes in Spring Boot.

[YouTube VOD](https://www.youtube.com/watch?v=ipM1_7uPC38){:target="_blank" rel="noopener noreferrer"}

### Scaling Sustainable Innovation through Team Autonomy

Tom Stoepkens from Bol.com gives this talk.

(Tech) Innovations should be used as a highly potent enabler for business goals.
A common culture and goal is key to be able to use team autonomy.
Tom provides an overview of how they automate and the technologies they use in his team.
Next, he explains how testing helps with supporting sustainable innovation.

This talk provides an insight into how Bol.com and especially the team of Tom actually uses automation to allow their team to innovate quickly.

[YouTube VOD](https://www.youtube.com/watch?v=cncIlzKQp9Y){:target="_blank" rel="noopener noreferrer"}

### Better software, faster: principles of Continuous Delivery and DevOps

This talk is presented by Bert jan Schrijver, the CTO of OpenValue.

He starts his talk be providing definitions for CI, the 2 types of CD and DevOps.
Next, he disects CD into the required components and explains how these can be fullfilled.
He defines all the different components and what the ideal setup would look like.

It's a nice overview of the requirements for a DevOps / CD organisation.

[YouTube VOD](https://www.youtube.com/watch?v=BlQ3MyoDOR4){:target="_blank" rel="noopener noreferrer"}

### Broken build tools and bad habits

We tend to keep doing things the same way because they were required in the past.

Eventually something breaks and we go to stack overflow or we ask our colleagues and we find a fix or workaround,
but how long are we going to use this workaround?

These workarounds become a pattern and these patterns control people.

"Works on my machine" is mostly caused by local code changes, different OS, JDK, Maven, Files and/or Properties.

Maven manages files for your through the Local Repository. The local repository is a dependency cache without time-to-live and can be located at `${user.home}/.m2/repository`.

The local repository of maven is actually broken.
Maven 2 had a dumb cache, once something was downloaded it would stay there forever.
Maven 3 introduced cached artifacts that got verified for existence with `_remote.repositories`.
Artifacts that got deleted from maven central will be detected and fail your build.
The maven repository has checksums, but they are not being checked by default.
You can enable this using -C for strict checksum checking causing a build failure or lax checksum checking using -c which will only warn for checksum mismatches.

Are you running mvn clean install by default?
You probably said yes like most developers.
This a workaround for Maven 2 which is no longer needed in Maven 3.

Dependency resolution in Maven 2 was broken.
It was unaware of the reactor and dependencies had to exist in the local repository.
Maven 3 is reactor aware meaning install is no longer required.

I/O is slow, so logging, files and downloading the internet with Maven is slow as well.

As logging is slow you should aim for a clean Maven output.
So use your logging framework and do not use `System.out` or `System.err`.
Disable logging during testing (using `loglevel=off`) and in the extreme run Maven with `-q` and `–quiet` which will disable all output and just tell you when it’s done.
When you enable debugging on Maven you’ll notice your build time will increase even though nothing has changed.

As files are slow, we should not use `mvn clean`.
Most of the Maven plugins are aware if they must execute their task.

The Maven CI extension (stands for Maven `clean install` extension) which will register clean and install when you keep executing `clean install`, your build will eventually fail as this is a bad practice.
Properties resolution are mostly defined in your `pom.xml`, but also in your `settings.xml` and system properties.
By adding a parameter to `mvn deploy -Dspring.version` you can change your deployed Spring version.
This is however not limited to Spring.
You can also set this for the Java version, but please NEVER EVER do this.

Versions could also break your builds due to conflicts with branch merging. 
You should isolate versions and make them unique.
Maven 3.5.0 introduces CI-friendly placeholders which allow you to use place holders for revision, sha1 and change list, but multimodules require a hack to rewrite your pom.
To resolve this issue, there will be something new called `maven.experimental.buildconsumer` which will land in Maven 3.7.0 and it will require Java 8 or above.

Treat your pom as production code so remove dead code like unused dependencies, plugins, properties and reports.

Keep improving and locate and optimize time consuming processes, automate as much as possible and keep having fun.

Be like a responsible pilot and try to understand every plugin and think if you still need it.
Stay curious and keep yourself informed.
Watch out for questions with outdated answers (on Stack Overflow) and find information at the source.

Maven is Up-For-Grabs.
About `60~80%` of Java project/developers use Maven.
About `95%` (sub)projects have just ~5-10 active volunteers, there is no company behind this project.
If you feel like contributing to the Maven project check out [Maven is Up-For-Grabs](https://s.apache.org/up-for-grabs_maven){:target="_blank" rel="noopener noreferrer"}.

[YouTube VOD](https://youtu.be/2HyGxtsDf60){:target="_blank" rel="noopener noreferrer"}

## Conclusion

One of the takeaways from this conference is that Kubernetes now is the defacto deployment platform for Java applications moving forward.
During the conference a lot of tools, Jib popped up a few times, and integrations with IDEs have been showcased and every talk seems to assumes that the deployment platform is Kubernetes.

Event driven talks are also in a lift.
There were quite a few talks about Kafka or talks about software that can integrate with Kafka.

Finally, the conference was a great success again.
Ordina handed out tons of nachos, every attendee has been caught up with the trends in our community and all vendors have been able to showcase their newest products.

See you next year Devoxx people!
