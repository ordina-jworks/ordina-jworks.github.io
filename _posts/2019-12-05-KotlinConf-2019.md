---
layout: post
authors: [yannick_de_turck]
title: 'KotlinConf 2019'
image: /img/kotlinconf-2019/kotlinconf-2019.png
tags: [KotlinConf, Kotlin, Android, Coroutines, Conference]
category: Conference
comments: true
---

> KotlinConf is thé conference to visit if you're into Kotlin development.
> Jetbrains introduced KotlinConf the first time in 2017, in San Francisco with over 1.200 participants and 50 speakers.
> In 2018 it was hosted in Amsterdam with 1.300 participants and 60 speakers.
> This year the conference was to be hosted in Denmark's Copenhagen, in Bella Center. Scandinavia's largest conference center.

<img class="image fit" src="{{ '/img/kotlinconf-2019/kotlinconf-entrance.jpg' | prepend: site.baseurl }}" alt="JWorks @ KotlinConf" />

# Table of contents

* [Opening Keynote by Hadi Hariri Andrey Breslav](#opening-keynote-by-hadi-hariri-and-andrey-breslav)
* [Putting Down the Golden Hammer by Huyen Tue Dao](#putting-down-the-golden-hammer-by-huyen-tue-dao)
* [Your First Server with Ktor by Big Nerd Ranch](#your-first-server-with-ktor-by-big-nerd-ranch)
* [The Shuttle Case by Stephen Carver](#the-shuttle-case-by-stephen-carver)
* [Kotlin in Space by Maxim Mazin](#kotlin-in-space-by-maxim-mazin)

## Opening keynote by [Hadi Hariri](https://twitter.com/hhariri){:target="_blank" rel="noopener noreferrer"} and [Andrey Breslav](https://twitter.com/abreslav){:target="_blank" rel="noopener noreferrer"}
### Introduction
<span class="image right"><img class="p-image" style="max-width: 200px" alt="Hadi Hariri" src="/img/kotlinconf-2019/hadi-hariri.jpg"></span>
Hadi kicked off the keynote by saying that this year is the third time that KotlinConf has sold out once again with over 1.700 participants.

A [free live stream](https://blog.jetbrains.com/kotlin/2019/11/kotlinconf-2019-live-join-the-broadcast-attend-the-qa){:target="_blank" rel="noopener noreferrer"} of all the different rooms would be made available for anyone to attend.
Some additional numbers were given such as that the conference counted over 60 speakers, 35 volunteers, and that there were people visiting the conference from over 86 countries.
During the evening there was also going to be the special new product announcement of Jetbrains, just before the evening party.

Hadi then introduced Andrey Breslav, CTO and Lead Language Designer of Kotlin.

<img class="image fit" src="{{ '/img/kotlinconf-2019/keynote-1-intro-andrey-breslav.jpg' | prepend: site.baseurl }}" alt="Intro Andrey Breslav" />

### Evolution of Kotlin
<span class="image right"><img class="p-image" style="max-width: 200px" alt="Andrey Breslav" src="/img/kotlinconf-2019/andrey-breslav.jpg"></span>
Andrey continued with some numbers on the usage of Kotlin for each of the major versions:

* 1.0: 200.000 people
* 1.1: 500.000 people
* 1.2: 2.100.000 people
* 1.3 (current version): 4.000.000 people

We can clearly see that Kotlin has kept growing at a really nice rate which looks very promising for the language.
For Jetbrains numbers like these are important as they give them the validation that their product is of good quality.
For them it was clear from the beginning that Kotlin had to have an open ecosystem.
One welcome to every body, open to anyone who wants to build on top of Kotlin.
It was always meant to be more than just a piece of software, it was meant for people united by ideas.

Andrey went a bit deeper on the Kotlin ecosystem and explained that they wanted Kotlin to become a default language regardless of level of experience, platform, scale, or type of application.
For them to achieve that, it was all about lowering barriers.

<img class="image fit" src="{{ '/img/kotlinconf-2019/keynote-2-kotlin-ecosystem.jpg' | prepend: site.baseurl }}" alt="Kotlin Ecosystem" />

### Different platforms
#### Server-side
Kotlin has been friends with Spring for a long time by now.
The first official support arrived since 2017 with Spring Boot, Web MVC, and Web Flux coroutines support.
Ktor, used for building asynchronous servers and clients in connected systems and also developed by Jetbrains, is gaining more traction and is also used more and more at Jetbrains.
Some other companies that have been using it are Expedia, Intuit and the Norway Tax Office.

#### Android
Android has been Kotlin-first since this year.
53% of professional Android developers work in Kotlin and 60% of the top 1.000 apps have been written in Kotlin.

Jetbrains wants to further invest in mobile multi-platform for both Android and iOS by allowing business logic reuse between the different platforms.
Planboard, PlanGrid, Careem Driver's app, Cash App, Yandex Disk & Yandex Maps, Quizlet, and VMWare Workspace One are some of the apps where business logic is already been reused between the different platforms.

### What's coming in 1.4
Kotlin 1.4 is said to be released in Spring 2020 and a lot of focus is being put on quality and performance.
Currently 93% of users get code completion results under 500ms but in 1.4, code completion is said to become about 3x as fast.
IDE Gradle imports should also happen twice as fast and it should use 75% less memory.
A lot of improvements are also said to be done for Kotlin/Native compilation time.

### A new compiler
One of the biggest pains in Kotlin projects is the build speed, especially as the project get bigger.
This is why Jetbrains has been working on a completely new compiler!
It is going to be fast, uniform and pluggable.
Some parts are coming in Kotlin 1.4 whereas others are coming in later versions.
They are aiming on 5x faster compilations.
This however won't be for version 1.4.

<img class="image fit" src="{{ '/img/kotlinconf-2019/keynote-3-new-kotlin-compiler-perf.jpg' | prepend: site.baseurl }}" alt="New Kotlin compiler performance" />

The new compiler also comes with a new type inference and will ship in 1.4.
This will fix numerous bugs that they couldn't fix in the previous implementation as it was not flexible enough and it will enable new language features.
It can be evolved and extended to enable even more language features later on.

Kotlin has three different backends for Kotlin/JVM, Kotlin/JS and Kotlin/Native and in 1.4 they want to offer one single unified backend for all three of them.
Kotlin/Native was built from the beginning in this new unified infrastructure so Kotlin/JVM and Kotlin/JS both need to be migrated.
This way, if a bug gets fixed this will mean that it will be fixed for all platforms right away!

An experimental feature in 1.4 is KLIM, a new portable format.
This includes a new unified format used within the different platforms.

### Multi-platform

<img class="image fit" src="{{ '/img/kotlinconf-2019/keynote-4-kotlin-multiplatform.jpg' | prepend: site.baseurl }}" alt="Kotlin multi-platform" />

Jetbrains want people to be able to share code and skills across 100% of the platform.
The idea is that you write common Kotlin logic that can be used in any platform that works ever where.
If you want to interact with a platform, you can interaction with platform specific versions of Kotlin.

Seeing as libraries are somewhat the bulk of the Kotlin ecosystem, it is clear for Jetbrains that they need to pay enough attention to help people writing libraries.
They plan on doing this by adding a few tools to help people make libraries and to make their APIs robust and stable over time.
This will be achieved with a new library called Author's Mode that will demand explicit visibility and explicit public types where required.

Jetbrains is also working on Dokka, a documentation generation tool that will support multi-platform libraries.

### Mobile multi-platform.
Coming in 2020 will be the possibility to run and debug iOS Kotlin apps in Android Studio through a closed-source plugin.
Note that this is not going to replace Xcode as you will still need it for certain things, but for the normal development cycle you will be able to stay within one IDE.

Kotlin/Native also already works on TvOS and WatchOS, and to demonstrate this, an app called Kotlin Locator was made to play a treasure hunting game during the conference.
And the app came with a WatchOS companion app so that you could try it out yourself.

### Browser multi-platform
A new feature has been added to allow quick reload in Kotlin/JS, similar to other frontend frameworks.
A lot of improvements were also done on the JS binary size, compressing it further down by quite a bit, reducing the final size of an app.
Work is also done on JavaScript operability with support for ES modules and Dukat which will connect Kotlin types with TypeScript types.

### WebAssembly + Kotlin
WebAssembly is a new web standard supported by all major browsers.
Basically it is a special virtual machine to run all kinds of different code and Kotlin wants to be run in there too.
Currently they have a prototype that they are working on.

### Data science in Kotlin
Not all users of Kotlin are programmers.
Data scientists have also been using Kotlin in combination with Jupyter, Spark and lets-plot.

### Language changes
KT-7770, created by Sergei Lebedev on May, 15th, 2015
Function interfaces: `fun interface`

<img class="image fit" src="{{ '/img/kotlinconf-2019/keynote-5-function-interfaces.jpg' | prepend: site.baseurl }}" alt="Function interfaces" />

A function interface has a single method and you can use it as a function type.
This also improves the java inoperability if you want to migrate Java code from Kotlin code without things breaking.

### Language evolutions
It is important for Jetbrains to keep the language modern although they are aware that it is not very desired to have your code be broken in between updates.
If something becomes less useful it will be faded out and removed later to avoid legacy from building up.
In general updating from one version to another should remain easy and desired.
Jetbrains will provide feedback loop to keep developers informed of upcoming changes and to stay in touch with the community.
If migrations are necessary, they will provide the necessary guides or tools to help developers migrate their code.

For all details, rewatch the keynote on YouTube:
<div class="responsive-video">
    <iframe width="1164" height="655" src="https://www.youtube.com/embed/0xKTM0A8gdI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>
<br/>

## Putting down the golden hammer by [Huyen Tue Dao](https://twitter.com/queencodemonkey){:target="_blank" rel="noopener noreferrer"}
<span class="image right"><img class="p-image" style="max-width: 200px" alt="Andrey Breslav" src="/img/kotlinconf-2019/huyen-tue-dao.jpg"></span>
"I suppose it is tempting, if the only tool you have is a hammer,
to treat everything like a nail"
- Maslow

How do I write better Kotlin?
And in particular by avoiding my own hammers and biases.
Java and C++ background.

Anchor was the keynote from KotlinConf 2018.
"Our main focus, our main motto was to make a pragmatic language"
Getting things done
turning your thoughts into working software without jumping through hoops (???)

People seem to praise the following:
Readability > concision
Reuse > Expressiveness
Interoperability > originality
Safety/tooling > Soundness
<!--photo-->

Questions that came up:
* When might we be using Kotlin features as golden hammers?
* How can we use these features more pragmatically and hopefully write better Kotlin

Hammer-proofing points to ponder
* Readability
* Reusability
* Maintainability
* Intentionality

### Type inference
<!--photo-->
Smart compiler that can infers things like the type.
Hinting in IntelliJ helps a lot with showing the exact type of a value or object as sometimes it might be possible that you expected a certain type but it's actually a different one.
For example adding a string to a list of numbers.
To make use of a compiler error you would need to define the type explicitly.
Something to keep in mind is that we shouldn't depend too much on the hinting feature as you can only see these in IntelliJ and not for example when reviewing a pull request.
It's important to have the code speak for itself, in that way it is important to explicitly specify the type in certain cases.

### Implicit parameter
<!--photo-->
The `it`, for example in a `forEach`.
Depending on the context, it is not always easy to tell what the `it` stands for.
Especially in a complex context, you should rather specify the variables to be more explicit.

### Scope functions
apply, also, let, run, with
<!--photo-->
To
<!--photo-->

Be weary of combining too much of these.
Sometimes it causes you to lose track of what a `this` exactly represents and creates unnecessary complexity making maintaining it more difficult.

<!--photo-->

Take-away: Do not feel obligated to stretch yourtself or your code because it does not feel Kotlin-y enough.
Kotlin is meant to be a pragmatic language.

### Extension functions
Use: to extend existing APIs that you may not control without subclassing.
Keep classes and APIs minimal, only containing intrinsic properties and behaviours.
To keep your class abstractions pure.
Mentioned coursera course Kotlin for Java developers in which the question was asked on why extension functions are so popular.

We can exagerate with extension functions for example if you make every single function an extension function.
Think about what makes a good utility to a class.
Don't make extension functions of too specific functions.

### Nullability and nullable types
? and !! can be valid ways of handling nulls WITH thought to intentitonality and maintainability.
Kotlin has nullable types, Java does not.
If you pull in Java methods into the Kotlin world you can stumble upon cases where it is not clear if something is nullable or not.
Resulting into unchecked nullability issues.

Null safety with `?` can be bad too and can obfuscate both good assumptions and bad assumptions.
Failing silently is often a bad thing.
Because of that, it can be a good approach to prefer to use `!!`.
`!!` is not inherently evil but requires careful use.
Based on good asumption or because you just KNOW that a value is non-null.

### Conclusion
Blabla

## Your First Server with Ktor by [Big Nerd Ranch](https://twitter.com/bignerdranch){:target="_blank" rel="noopener noreferrer"}

<span class="image left"><img class="p-image" style="max-width: 200px" alt="Big Nerd Ranch" src="/img/kotlinconf-2019/big-nerd-ranch.png"></span>
Short introduction on Ktor.
Need to install the IntelliJ Ktor plugin.
`application.conf` is written in HOCON.

Instructions: https://drive.google.com/file/d/18VFCLxl_1hNMvKi1lLDKMr0bIaJ2gIll/view
File with the different names: https://drive.google.com/file/d/1tRv2le4PllBT_NC-ipY7WUySPe1NV41Z/view

Blabla


## New product announcement by [Jetbrains](https://twitter.com/jetbrains){:target="_blank" rel="noopener noreferrer"}
Today Jetbrains announced [Space](https://www.jetbrains.com/space/)!
More info in the [blogpost](https://blog.jetbrains.com/blog/2019/12/05/welcome-to-space/).

TODO write properly
(hier chronologisch tussen andere talks of vermelding bovenaan?)
--> Yannick: Best chronologisch tussen de andere talks

## The Shuttle Case by [Stephen Carver](https://twitter.com/carverstephen){:target="_blank" rel="noopener noreferrer"}

<span class="image left"><img class="p-image" style="max-width: 200px" alt="Stephen Carver" src="/img/kotlinconf-2019/stephen-carver.jpg"></span>

Risk management
NASA accident with the space shuttle exploding in 2xxx.
Same thing happened in 1986.
NASA knew this beforehand.
They knew about this and let this happen instead of dealing with the change culture.
Human lives were lost needlessly.
People just didn't listen.
Fault of the culture, of the system.

Story about space, the final frontier.
"Stories are vital for leaders".
"A story expresses how and why life changes and how it can be."

John F Kennedy quote
I believe that this nation should... landing a man on the moon and returning him safely.
"By the close of this decade"
Sputnik, first dog Laika in space, Joerie G...
First woman in space: Valentina Tereshkova
Alexey Leonov

NASA learned that astraonauts needed to write in space but normal pens don't work without gravity.

Moon landing
Most important thing to do: planting the US flag.
Neil Armstrong and Buzz Lightyear.

Apollo 13 movie
Clip on the energy drain and that they need to conserve energy
"Failure is not an option"

What's next after moon landings as people were getting bored?
Commercial spaceflights.
Cost would need the same considerations as weight safety and performance.

NASA was getting old, too much mgmt, too litle leadership, silos, politics, management by fear.
Getting the weight of 3 times the liberty statue into space with all the fuel needed.
White tubes, 1 in 20 exploded on launch.
Made in Utah, had to go to cape canaveral.
40 stories high, had to be moved in pieces.

1981 first one launched, they got very lucky.
Flights continued (25 flights) until 1986 when it was very low temperature.
Icicles hanging off challenger the day before the fateful launch.
25ºF
They wanted to cancel the flight, bosses agreed, called NASA and NASA went crazy and told them to prove it was going to blow up, NASA overruled it and went on.
O-ring system was going to fail.
First o-rings failed, 2nd failed during throttle up (gravity caused the white tubes to sway).
Crew survived the explosion (separate crew compartment) but couldn't move and knew they would die by falling into the ocean at huge speed.

New CEO at NASA 1992-2001
Faster, cheaper, better.
Asked for a budget cut and was told its going to impact on safety but he said it was a bunch of crap.

Columbia Disaster: "the foam did it"
Broke of tiles
Ron Dittemore: we didnt believe pictures would be useful to us, wee felt that we could have done nothing anyway so we decided not to even take then.
1 feb 2003
"A rescue mission was challenging but entirely feasible"
CAIB Report Appendix D.13

2011: Shuttle program shut down because programs got unreleable and the programmers that made it during the 60's were retired or dead.
Gene Kranz Vision

Elon Musk
SpaceX 2002
First flight 2006
"Failure is an option here. If things ar enot failing you are not innovating enough".
Elon made a fail movie of himself
Interview of Elon taking a lot of critisism from ao. Neil Armstrong and Gene S.
Elon said he was sad and that they were heroes of him, wish they'd come visit him, it was difficult to have him hear that
Successes came one after another
April 2016: rocket that took off and landed in the ocean
Feb 2018: Elon shooting his Tesla into Space

Blue Origin by Jeff Bezos.
10% in the room heard about Blue Origin.
Put $1B of personal budget each year into Blue Origin.
Didn't want to give antyhing of it away during his divorce.

Two richest men of the world racing to the moon by 2024.

Conclusion:
2011: last successful flight of the space shuttle.
Stephen asked "who would go on it if they were given a ticket?" 5% of the people raised their hands.
"Some of you are mad and it's not necessarily the 5% that raised their hands".
Erica Jong (Writer): "The trouble is, if you don't risk anything, you risk even more".

Trust your intuition.



## Kotlin in Space by [Maxim Mazin](https://twitter.com/maximmazin){:target="_blank" rel="noopener noreferrer"}

<span class="image left"><img class="p-image" style="max-width: 200px" alt="Maxim Mazin" src="/img/kotlinconf-2019/maxim-mazin.jpg"></span>

At the end of the first conference day, Jetbrains announced their new collaboration tool, Space.
During the session they covered how they've been using the tool themselves at Jetbrains.
Maxim was a lead of the Teamcity team.

Full-stack Kotlin.
Shared Kotlin model: data model, view model, validation, rpc, utils and common libs.
Not shared: UI. Important to have it look native. And storage.

### Used frameworks
Exposed: Type-safe SQL and ORM
Easy to initialize database and to track your model to help you with migration scripts.
Can define entities that map to tables for example `EUser`.

Ktor.
Open source.
Both server and client.
Multi-platform client.
Asynchronous, non-blocking.

Initialize and run a server from code.
Specify routes in a simple way based on a path and a suspend code block.
WebSocket support.
Assign a lambda to a url.
onConnect, onMessage, onClose and onError all implemented in a single flow thanks to Coroutines instead of seperate methods.

Implemented own WebSocket RPC.
Permissions are checked, transactions are opened and a result in returned.

With Kotlin fullstack it is easy to check for usages to find dead pieces of code.
Administrator playground API to play around with things.
Open API (Swagger) JSON is generated if you don't want to use Kotlin.
Kotlin-react available on Jetbrains' GitHub: kotlin-wrappers.
Inherit from components and implement a render function.

Styled components
Kotlin DSL for styled components
Type safe CSS declarations.
Available on Jetbrains' GitHub: kotlin-wrappers.

Email notifications.

### Testing
Server tests
AssertK is used.
Sentences as method names

Web client tests
Enzyme used underneat

Webdriver tests
JUnit
Selenium + Library by Jandex (?)
Allure for reports.
Screenshot when test fails.

### Build
Grade scripts for builds.

Fullstack Kotlin developers so everyone can work on everything although some people do have a prefers.


## Coroutines! gotta catch ‘em all! by [Florina Muntenescu](https://twitter.com/FMuntenescu){:target="_blank" rel="noopener noreferrer"} and [Manuel Vivo](https://twitter.com/manuelvicnt){:target="_blank" rel="noopener noreferrer"}
TODO

## What the F(p) is Kotlin? by [Shelby Cohen](https://twitter.com/shelbyc0hen){:target="_blank" rel="noopener noreferrer"} and [Katie Levy](https://twitter.com/klevy110){:target="_blank" rel="noopener noreferrer"}
TODO ( Jeroen)

## The state of Kotlin/JS by [Sebastian Aigner](https://twitter.com/TrueSebi){:target="_blank" rel="noopener noreferrer"}
TODO

## Kotlin Multiplatform in Action: more than 10 projects for iOS and Android with Shared code by [Alexandr Pogrebnyak](https://twitter.com/apogrebnyak){:target="_blank" rel="noopener noreferrer"}
TODO

## Building microservices with Kotlin and gRPC by [Marharyta Nedzelska](https://twitter.com/jMargaritaN){:target="_blank" rel="noopener noreferrer"}
TODO

## Kotlin Mullets - Business in the Front, Party in the Back by [James Ward](https://twitter.com/_JamesWard){:target="_blank" rel="noopener noreferrer"} and [Chet Haase](https://twitter.com/chethaase){:target="_blank" rel="noopener noreferrer"}
TODO

## Building Reactive Pipelines with Kotlin & Spring: How to go from scalable apps to scalable systems by [Mark Heckler](https://twitter.com/mkheck){:target="_blank" rel="noopener noreferrer"}
TODO

## I Walk The Line: What Parts Of An App Should be in Kotlin Native - and What Parts Shouldn't? by [Ellen Shapiro](https://twitter.com/designatednerd){:target="_blank" rel="noopener noreferrer"}
TODO (Michael)

## Kotlin Uncovered by [Chet Haase](https://twitter.com/chethaase){:target="_blank" rel="noopener noreferrer"} and [Romain Guy](https://twitter.com/romainguy){:target="_blank" rel="noopener noreferrer"}
TODO

## The state of Kotlin support in Spring by [Sebastien Deleuze](https://twitter.com/sdeleuze){:target="_blank" rel="noopener noreferrer"}
TODO (Jeroen)

## Using Kotlin for Data Science by [Roman Belov](https://twitter.com/volebamor){:target="_blank" rel="noopener noreferrer"}
TODO (Jens)

## What's new in Java 19: The end of Kotlin? by [Jake Wharton](https://twitter.com/JakeWharton){:target="_blank" rel="noopener noreferrer"}
TODO

## Going Native: How I used Kotlin Native to Port 6 years of Android Game Code to iOS in 6 months. by [Ana Redmond](https://twitter.com/anaredmond){:target="_blank" rel="noopener noreferrer"}
TODO (Michael), nog WIP

Ana Redmond of Infinut presented us with a really nice feel good story about how she made her android games available for ios.
She noticed her daughters' faces when they came home with another math assignment.
Needless to say, it wasn't the most happy face.
She noticed her kids were trying to memorize the rules instead of really grasping the material.
That's when she realized she could make small games so her kids would not only learn maths better but also enjoy the process.

She created a vast library of over 60 educational games and 120+ lessons for Android devices over a period of 6 years.
Many kids were learning math and enjoying it.
Unfortunately, the many kids who use an iPad were left out without access to the material she brought to the Android platform.
So when Ana heard about Kotlin/Native she decided the time was right to serve those kids as well!

Kotlin/Native is used to compile Kotlin code to platforms where virtual machines are not desirable or possible,
such as iOS.
Ana wanted to write a game once in shared Kotlin code


## Testing: Testing by [Christina Lee](https://twitter.com/RunChristinaRun){:target="_blank" rel="noopener noreferrer"}
TODO

## Summing it all up
TODO
