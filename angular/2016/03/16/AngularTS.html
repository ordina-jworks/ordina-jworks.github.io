<!DOCTYPE html>
<!--suppress ALL -->
<html>
<head>
        <meta charset="utf-8">
    <meta name="description" content="We build innovative solutions with Java and JavaScript. To support this mission, we have several Competence Centers. From within those Competence Centers, we provide coaching to the employee and expert advice towards our customer. In order to keep in sync with the latest technologies and the latest trends, we frequently visit conferences around the globe.
">
    <meta name="keywords" content="Ordina,ORAJ,JWorks,Blog,Java,JavaScript,TypeScript,Angular,DevOps">
    <meta name="author" content="Ordina Belgium">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/img/favicons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/img/favicons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/img/favicons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/img/favicons/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="/img/favicons/favicon-128.png" sizes="128x128" />

    

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="AngularTS: A new look @ Angular - Kevin Van Houtte">
    <meta name="twitter:description" content="Ordina JWorks Tech Blog">
    <meta name="twitter:image" content="http://ordina-jworks.github.io/img/angularts.jpg"/>

    <!-- Facebook Open Graph -->
    <meta property="og:url" content="http://ordina-jworks.github.io/angular/2016/03/16/AngularTS.html"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="AngularTS: A new look @ Angular - Kevin Van Houtte"/>
    <meta property="og:description" content="Ordina JWorks Tech Blog"/>
    <meta property="og:image" content="http://ordina-jworks.github.io/img/angularts.jpg"/>

    
    <title>AngularTS: A new look @ Angular - Kevin Van Houtte &mdash; Ordina JWorks Tech Blog</title>
    

        <!-- Styles -->
    <!-- Font awesome CSS -->
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <!-- Magnific Popup -->
    <link href="/css/magnific-popup.css" rel="stylesheet">
    <!-- Owl carousel -->
    <link href="/css/owl.carousel.css" rel="stylesheet">

    <!-- CSS for this page -->

    <!-- Syntax highlighting -->
    <link href="/css/syntax.css" rel="stylesheet">


    <!--[if lte IE 8]>
    <script src="/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="/css/main.css"/>
    <!--[if lte IE 9]>
    <link rel="stylesheet" href="/css/ie9.css"/><![endif]-->
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/ie8.css"/><![endif]-->

    <!-- Custom CSS. Type your CSS code in custom.css file -->
    <link href="/css/custom.css" rel="stylesheet">

    <!-- Vertical timeline -->
	<link rel="stylesheet" href="/css/vertical-timeline/style.css"> <!-- Resource style -->

    <!-- Favicon -->
    <link rel="shortcut icon" href="#">

    <script src="https://use.typekit.net/gzh0mbm.js"></script>
    <script>
        try {
            Typekit.load({async: true});
        } catch (e) {
        }
    </script>
</head>

<body>
<div id="header-image"></div>


<!-- Page Wrapper -->
<div id="page-wrapper">

        <!-- Header -->
    <header id="header">
        <h1>
            <a href="/">
                JWorks Tech Blog
            </a>
        </h1>

        <nav>
            <a href="#menu">Menu</a>
            <form action="/search/" method="get" class="header-search search-form">
                <input type="text" id="search-box-header" name="query" placeholder="Search &hellip;">
            </form>
        </nav>
    </header>

    <!-- Menu -->
    <nav id="menu">
        <div class="inner">
            <h2>Menu</h2>
            <ul class="links">
                <li class="menu-item"><a href="/">Home</a></li>
                <li class="menu-item"><a href="/about">About Us</a></li>
                <li class="menu-item"><a href="/jobs">Jobs</a></li>
                <li class="menu-item"><a href="/launch-your-career">Career</a></li>
                <li class="menu-item"><a href="/tech-radar">Tech Radar</a></li>
                <li class="menu-item"><a href="/search">Search</a></li>
                <li class="menu-item"><a href="/contact">Contact Us</a></li>
            </ul>
            <a href="#" class="close">Close</a>
        </div>
    </nav>

    <section id="banner">
        <header>
            <div class="inner">
                

                <h2>AngularTS: A new look @ Angular</h2>
                

                
                    Posted Mar 16, 2016


    in <a href="/categories/angular/">Angular</a>



    by
    
        <a href="/author/kevin-van-houtte/">Kevin Van Houtte</a>
        
    



    <br/>
    <i class="fa fa-tags"></i>
    
        <a href="/tags/typescript/">TypeScript</a>, 
    
        <a href="/tags/angularjs/">AngularJS</a>
    

                

                

            </div>
        </header>
    </section>

    <section id="wrapper">
        <div class="inner">
            <section id="one" class="wrapper spotlight style1 post-body">
    <div class="inner" style="text-align: left;">
        <div class="content">
            <h2 id="combining-the-best-of-two-worlds">Combining the best of two worlds.</h2>

<p>Since my introduction to the heroic AngularJS framework at Devoxx around 4 years ago, I was intrigued and set for an adventure.
With the upcoming release of Angular 2 we have to prepare ourselves with the migrating road map coming up.
One of the core changes in Angular 2 is the focus on using TypeScript.
This post will cover the use of Angular components in TypeScript.
But what is it?
TypeScript is a superset of JavaScript that focuses on strong typing and new ES6 features: classes, interfaces and modules.
Like in common object-oriented languages such as Java and C# these features aren’t new.
These features give the developer the opportunity to build an object-oriented architecture in JavaScript.
With that in mind, let’s see what the advantages are:</p>

<h3 id="transpiling">Transpiling</h3>
<p>The DOM can only recognize JavaScript.
With this said they had to come up with a way to compile TS (TypeScript).
Because TS is a superset of JS it can transpile to plain JavaScript before including it into HTML.
Transpilers are integrated in the latest IDE’s. 
Any valid JavaScript is valid TypeScript.</p>

<h3 id="strongly-typed">Strongly typed</h3>
<p>When you’re used to plain JavaScript, you notice that every time you need a variable, it is loosely typed.
TypeScript gives you the opportunity for each of your variables to have its own type.
This comes with great benefits like better refactoring, less bugs and better type checking at compile time.</p>

<h3 id="oo-architecture">OO architecture</h3>
<p>TypeScript offers an object-oriented architecture experience, which means all code is defined in classes, interfaces and most of those classes can be instantiated into objects. It also supports encapsulation, which protects the data from unintended access and modification.</p>

<h2 id="learning-path-of-angularts">Learning path of AngularTS</h2>
<p>If you’re no stranger to AngularJS you will notice that the structure remains the same. 
Two way data binding, controllers, services, … 
But be aware that it has a different syntax in TypeScript. 
I will show you the different best practices to implement such components.</p>

<h2 id="typescript-definition-files">TypeScript Definition Files</h2>
<p>When using TS we will refer to TSD files.
These files describe the types defined in external libraries such as Angular. 
To install the Angular TSD files we use typings.
To use the typings manager we install it with:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm <span class="nb">install </span>typings <span class="nt">--global</span></code></pre></figure>

<p>Afterwards install Angular with:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>typings <span class="nb">install </span>angular <span class="nt">--ambient</span> <span class="nt">--save</span></code></pre></figure>

<p><code class="highlighter-rouge">--ambient --save</code> enables the flag and persists the selection in ‘typings.json’</p>

<p>All the installed TSD files are gathered in the typings folder.
In the main.d.ts file you will see the references the application will use for Angular.
Since Angular has multiple libraries, you can use the search command to find the required definition.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>typings search Angular</code></pre></figure>

<p>It is possible that you have to declare the reference on top of your file.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">/// &lt;reference path="../../typings/main.d.ts" /&gt;</code></pre></figure>

<h2 id="modules">Modules</h2>

<h3 id="angular-modules">Angular Modules</h3>
<p>Modules are here to help us modularize our code.
It is a best practice to use one main module as the root of your application. 
Multiple modules are being used for third-party libraries or common code.
To let the module know the existence of every component, they have to register themselves.
Below every component declaration you will see a registration to the module. 
When registering the module you have to add all the libraries you want to depend upon.
In this example we inject the routing service for navigation.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

    <span class="nx">angular</span>
       <span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="dl">"</span><span class="s2">jworks360</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">ngRoute</span><span class="dl">'</span><span class="p">])</span>
<span class="p">}</span></code></pre></figure>

<h3 id="internal-typescript-modules">Internal TypeScript Modules</h3>
<p>These modules are similar to namespaces.
You can define an unique namespace around your code.
This will encapsulate variables, interfaces and classes. 
TypeScript supports sub namespaces for further encapsulation.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h4 id="transpiled-javascript">Transpiled JavaScript</h4>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="kd">var</span> <span class="nx">JWorks</span><span class="p">;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">JWorks</span><span class="p">){</span>

<span class="p">})(</span><span class="nx">JWorks</span> <span class="o">||</span> <span class="p">(</span><span class="nx">JWorks</span> <span class="o">=</span> <span class="p">{}));</span></code></pre></figure>

<p>To encapsulate our code, the module will transpile to an IIFE (Immediately-Invoked Function Expression) around our components.
This will avoid global code which helps prevent variables and function declarations from living longer than expected in the global scope, which also helps avoid variable collisions.</p>

<h2 id="entity-class">Entity Class</h2>
<p>Now that TypeScript supports object-oriented programming, we can analyse our business problem and define the business objects into entity classes.
When you analyse and define these entities you can define which properties and methods each entity needs.
If you have a couple entities, you can even establish a relationship.
This will provide a clear view on what you want to achieve and have the possibility to create multiple instances of these classes. 
When building an entity class you can optionally define an interface to show what the intention of the class is.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>

    <span class="k">export</span> <span class="kr">interface</span> <span class="nx">IEmployee</span> <span class="p">{</span>
         <span class="nl">username</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>
         <span class="nl">name</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>
         <span class="nx">eat</span><span class="p">(</span><span class="nx">food</span><span class="p">:</span><span class="nx">string</span><span class="p">):</span><span class="k">void</span>
    <span class="p">}</span>

    <span class="k">export</span> <span class="kd">class</span> <span class="nx">Employee</span> <span class="kr">implements</span> <span class="nx">IEmployee</span> <span class="p">{</span>
 
          <span class="kd">constructor</span><span class="p">(</span><span class="kr">public</span> <span class="nx">username</span><span class="p">:</span><span class="nx">string</span><span class="p">,</span> <span class="kr">public</span> <span class="nx">name</span><span class="p">:</span><span class="nx">string</span><span class="p">){}</span>

          <span class="nx">eat</span><span class="p">(</span><span class="nx">food</span><span class="p">:</span><span class="nx">string</span><span class="p">):</span><span class="k">void</span><span class="p">{</span>
             <span class="c1">//implementation</span>
          <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>To use your entity class in a controller you have to define the export key.
This will expose the class to other classes.
When exporting the interface you will use it as a data type.</p>

<h3 id="class-as-property">Class as property</h3>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">Employee</span><span class="p">:</span><span class="nx">IEmployee</span><span class="p">;</span></code></pre></figure>

<h3 id="instance-of-the-class">Instance of the class</h3>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">employee</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Employee</span><span class="p">();</span></code></pre></figure>

<h3 id="access-property">Access property</h3>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">employee</span><span class="p">.</span><span class="nx">name</span></code></pre></figure>

<h3 id="call-methods">Call methods</h3>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">employee</span><span class="p">.</span><span class="nx">eat</span><span class="p">(</span><span class="nx">eggs</span><span class="p">);</span></code></pre></figure>

<h2 id="controllers">Controllers</h2>
<p>As you know the controller defines the model to the view of your application, methods for every action you require and the scope where you hold a two way binding.
Because TS offers an object-oriented architecture, we can use classes and interfaces instead of functions.
Interfaces, like in all object-oriented languages, are a contract that must be implemented by classes that use it.
When implemented, all methods and properties have to be used.
Classes declare and implement the properties and methods exposed to the view.
Every class has his own constructor function, in this function we can declare default property values and other initialisation code.</p>

<h3 id="controller-interface">Controller Interface</h3>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">module</span> <span class="nx">Jworks</span> <span class="p">{</span>

    <span class="kr">interface</span> <span class="nx">IEmployeeController</span><span class="p">{</span>
        <span class="nl">person</span><span class="p">:</span><span class="nx">IPerson</span><span class="p">;</span>
        <span class="nx">save</span><span class="p">(</span><span class="nx">person</span><span class="p">:</span><span class="nx">IPerson</span><span class="p">):</span><span class="k">void</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>The interface will show you the intent of our controller and declare the properties and methods that will be used.
When you look at the syntax, you see that the properties are strongly typed and the type is declared after the colon.
If you aren’t certain what type a property should have, you can fall back to the general type ‘any’.
When you declare methods in an interface you have to specify the necessary parameters and return types.
The parameters have the same syntax as the properties.</p>

<h3 id="controller-class">Controller Class</h3>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>

    <span class="kd">class</span> <span class="nx">EmployeeController</span> <span class="kr">implements</span> <span class="nx">IEmployeeController</span><span class="p">{</span>

        <span class="kd">static</span> <span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">EmployeeService</span><span class="dl">"</span><span class="p">];</span>

        <span class="kd">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">employeeService</span><span class="p">:</span><span class="nx">IEmployeeService</span><span class="p">,</span><span class="kr">public</span> <span class="nx">employee</span><span class="p">:</span><span class="nx">IEmployee</span><span class="p">){</span>
             <span class="k">this</span><span class="p">.</span><span class="nx">employee</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="dl">"</span><span class="s2">Nivek</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Kevin</span><span class="dl">"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">save</span><span class="p">():</span><span class="k">void</span><span class="p">{</span>
             <span class="k">this</span><span class="p">.</span><span class="nx">employeeService</span><span class="p">.</span><span class="nx">addEmployee</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">employee</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
             <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">added successfully!</span><span class="dl">"</span><span class="p">);</span>
        <span class="p">});</span>
   <span class="p">}</span>

<span class="p">}</span>
<span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="dl">"</span><span class="s2">jworks360</span><span class="dl">"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="dl">"</span><span class="s2">EmployeeController</span><span class="dl">"</span><span class="p">,</span> <span class="nx">EmployeeController</span><span class="p">);</span></code></pre></figure>

<h3 id="dependency-injection-in-classes">Dependency Injection in classes</h3>
<p>When a service is needed in your controller, it must to be injected before it can be used.
In the above example it is important that you declare the <code class="highlighter-rouge">static $injection</code> on top of your constructor.
By doing this the constructor will recognize and initialise the injected services.
If you inject a custom service you have to reference to the related service.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">/// &lt;reference path="../services/employee.service.ts"/&gt;</code></pre></figure>

<h3 id="constructor">Constructor</h3>
<p>TypeScript supports initialisation of your properties and injections in a constructor.
When declaring properties in your class, you can declare them directly into your constructor.
Although <em>these two examples are</em> correct you can have issues in your tests with the second example.</p>

<p>So this:</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="kd">class</span> <span class="nx">Controller</span> <span class="p">{</span>

    <span class="nl">name</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="kr">public</span> <span class="nx">name</span><span class="p">:</span><span class="nx">string</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">name</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Becomes:</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="kd">class</span> <span class="nx">Controller</span> <span class="p">{</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="kr">public</span> <span class="nx">name</span><span class="p">:</span><span class="nx">string</span><span class="p">){</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Be sure to notice that we are using access modifiers to tell the controller which properties we want to expose to the view.
The best practice is that you put your injections and Angular services private and all your properties you want to use on your view public.
When initialising strings, TypeScript makes no distinction between double or single quotes.</p>

<h3 id="controlleras">ControllerAs</h3>

<p>Controller classes use the controllerAs feature by default.
So it’s important to declare this into your routes and views.
In your HTML you will have to prefix your methods and properties with the ControllerAs syntax.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nx">routes</span><span class="p">(</span><span class="nx">$routeProvider</span><span class="p">)</span> <span class="p">{</span>

       <span class="nx">$routeProvider</span>
           <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
               <span class="na">redirectTo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/login</span><span class="dl">'</span>
           <span class="p">})</span>
           <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="dl">'</span><span class="s1">/profile</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
               <span class="na">templateUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app/persons/profile.html</span><span class="dl">'</span><span class="p">,</span>
               <span class="na">controller</span><span class="p">:</span> <span class="dl">'</span><span class="s1">EmployeeController</span><span class="dl">'</span><span class="p">,</span>
               <span class="na">controllerAs</span><span class="p">:</span> <span class="dl">'</span><span class="s1">$profile</span><span class="dl">'</span><span class="p">,</span>
           <span class="p">})</span>
           <span class="p">.</span><span class="nx">otherwise</span><span class="p">({</span>
               <span class="na">redirectTo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span>
           <span class="p">});</span>
   <span class="p">}</span>
   <span class="nx">routes</span><span class="p">.</span><span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">$routeProvider</span><span class="dl">"</span><span class="p">];</span>

   <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="dl">"</span><span class="s2">jworks360</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">config</span><span class="p">(</span><span class="nx">routes</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="services">Services</h2>
<p>When you make a custom service, the code you implement is reusable and can be called in any other Angular component, including controllers and other services.
It is important to know that services are singletons, so there will be only one instance for each service.
With this in mind we can use the custom service to share data across all components in Angular.
Communicating with an HTTP service to collect and share data with any other component by injecting the service.</p>

<h3 id="restangular">Restangular</h3>
<p>For my project I used an Angular service that simplifies common verb requests with a minimum of client code.
In my custom services you’ll see examples of Restangular in TypeScript.
If you like to checkout what the difference is with $resource, you can check this <a href="https://github.com/mgonto/restAngular#differences-with-resource">list</a></p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>

   <span class="k">export</span> <span class="kr">interface</span> <span class="nx">IEmployeeService</span> <span class="p">{</span>
       <span class="nl">username</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>
       <span class="nl">employee</span><span class="p">:</span><span class="nx">IEmployee</span><span class="p">;</span>

       <span class="nx">getEmployee</span><span class="p">():</span> <span class="nx">Employee</span><span class="p">;</span>
       <span class="nx">setEmployee</span><span class="p">(</span><span class="nx">employee</span><span class="p">:</span><span class="nx">IEmployee</span><span class="p">);</span>
       <span class="nx">getEmployeeByUsername</span><span class="p">(</span><span class="nx">username</span><span class="p">:</span><span class="nx">string</span><span class="p">):</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IPromise</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span><span class="p">;</span>
       <span class="nx">getEmployeeByLink</span><span class="p">(</span><span class="nx">href</span><span class="p">:</span><span class="nx">string</span><span class="p">):</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IPromise</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="k">export</span> <span class="kd">class</span> <span class="nx">EmployeeService</span> <span class="kr">implements</span> <span class="nx">IEmployeeService</span> <span class="p">{</span>

       <span class="kd">static</span> <span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">EmployeeRestangular</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">$location</span><span class="dl">"</span><span class="p">];</span>

       <span class="kd">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">employeeRestService</span><span class="p">:</span><span class="nx">restAngular</span><span class="p">.</span><span class="nx">IService</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">$location</span><span class="p">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">ILocationService</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">employees</span><span class="p">:</span><span class="nx">restAngular</span><span class="p">.</span><span class="nx">IElement</span><span class="p">,</span><span class="kr">public</span> <span class="nx">employee</span><span class="p">:</span><span class="nx">IEmployee</span><span class="p">,</span><span class="kr">public</span> <span class="nx">username</span><span class="p">:</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">username</span> <span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">sessionStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="dl">"</span><span class="s2">username</span><span class="dl">"</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">employees</span> <span class="o">=</span> <span class="nx">employeeRestService</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="dl">"</span><span class="s2">employees</span><span class="dl">"</span><span class="p">);</span>
            <span class="nx">employees</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="nx">username</span><span class="p">).</span><span class="kd">get</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">:</span><span class="nx">any</span><span class="p">)</span><span class="o">=&gt;</span> <span class="p">{</span>
                   <span class="k">this</span><span class="p">.</span><span class="nx">setEmployee</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
               <span class="p">});</span>
           <span class="p">}</span>
       <span class="p">}</span>
       <span class="nx">getEmployee</span><span class="p">():</span><span class="nx">Employee</span> <span class="p">{</span>
           <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">employee</span><span class="p">;</span>
       <span class="p">}</span>
       
       <span class="nx">setEmployee</span><span class="p">(</span><span class="na">employee</span><span class="p">:</span><span class="nx">IEmployee</span><span class="p">)</span> <span class="p">{</span>
           <span class="k">this</span><span class="p">.</span><span class="nx">employee</span> <span class="o">=</span> <span class="nx">employee</span><span class="p">;</span>
       <span class="p">}</span>
             
       <span class="nx">getEmployeeByUsername</span><span class="p">(</span><span class="na">username</span><span class="p">:</span><span class="nx">string</span><span class="p">):</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IPromise</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span> 
           <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">employees</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="nx">username</span><span class="p">).</span><span class="kd">get</span><span class="p">()</span>
       <span class="p">}</span>

       <span class="nx">getEmployeeByLink</span><span class="p">(</span><span class="na">href</span><span class="p">:</span><span class="nx">string</span><span class="p">):</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IPromise</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span><span class="p">{</span>
           <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">employees</span><span class="p">.</span><span class="nx">oneUrl</span><span class="p">(</span><span class="nx">href</span><span class="p">).</span><span class="kd">get</span><span class="p">();</span>
       <span class="p">}</span>       
   <span class="p">}</span>
          <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="dl">"</span><span class="s2">jworks360</span><span class="dl">"</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="dl">"</span><span class="s2">EmployeeService</span><span class="dl">"</span><span class="p">,</span> <span class="nx">EmployeeService</span><span class="p">);</span>       
<span class="p">}</span></code></pre></figure>

<p>In the above example, to use the Restangular service you have to install the proper typings.
For services it is a best practice to declare an interface for data typing and getting a clear view of the intent.
The service class will implement all methods related to the data communication with the backend and returns a promise to the controllers or services that will inject this custom service.
Restangular has its own configuration you can modify in the .config component to point to the right api call.
After the config you can inject the Restangular service and use its services to build up a request to the backend.</p>

<h2 id="directives">Directives</h2>
<p>Custom directives allow you to create highly semantic and reusable components.
A directive allows Angular to manipulate the DOM and add its own behaviour. 
These can either be a set of instructions or a JSON representation.
To define a directive in TypeScript we use the directive service <strong>that Angular</strong> provides.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>

   <span class="k">export</span> <span class="kr">interface</span> <span class="nx">IAnimate</span> <span class="kd">extends</span> <span class="nx">ng</span><span class="p">.</span><span class="nx">IAttributes</span> <span class="p">{</span>
       <span class="nl">jwAnimate</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kd">class</span> <span class="nx">Animate</span> <span class="kr">implements</span> <span class="nx">ng</span><span class="p">.</span><span class="nx">IDirective</span> <span class="p">{</span>

       <span class="nx">restrict</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">A</span><span class="dl">"</span><span class="p">;</span>

       <span class="kd">static</span> <span class="nx">instance</span><span class="p">():</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IDirective</span> <span class="p">{</span>
           <span class="k">return</span> <span class="k">new</span> <span class="nx">Animate</span><span class="p">();</span>
       <span class="p">}</span>

       <span class="nx">link</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">elm</span><span class="p">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IRootElementService</span><span class="p">,</span> <span class="nx">attr</span><span class="p">:</span><span class="nx">IAnimate</span><span class="p">,</span><span class="nx">ngModel</span><span class="p">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">INgModelController</span><span class="p">):</span><span class="k">void</span> <span class="p">{</span>

           <span class="nx">$scope</span><span class="p">.</span><span class="nx">right</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
               <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">animate</span><span class="p">({</span>
                   <span class="na">left</span><span class="p">:</span> <span class="dl">'</span><span class="s1">+=150</span><span class="dl">'</span>
               <span class="p">});</span>
                <span class="nx">elm</span><span class="p">.</span><span class="nx">fadeOut</span><span class="p">(</span><span class="dl">"</span><span class="s2">slow</span><span class="dl">"</span><span class="p">);</span>
           <span class="p">};</span>
           <span class="kd">var</span> <span class="nx">direction</span> <span class="o">=</span> <span class="nx">attr</span><span class="p">[</span><span class="dl">'</span><span class="s1">jwAnimate</span><span class="dl">'</span><span class="p">];</span>
           <span class="nx">elm</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span><span class="nx">$scope</span><span class="p">[</span><span class="nx">direction</span><span class="p">]);</span>

       <span class="p">}</span>

   <span class="p">}</span>
   <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="dl">"</span><span class="s2">jworks360</span><span class="dl">"</span><span class="p">).</span><span class="nx">directive</span><span class="p">(</span><span class="dl">"</span><span class="s2">jwAnimate</span><span class="dl">"</span><span class="p">,</span> <span class="nx">Animate</span><span class="p">.</span><span class="nx">instance</span><span class="p">);</span>

<span class="p">}</span></code></pre></figure>

<p>In the interface above we have to tell Angular what name will be used for our directive.
The attribute service will be called to add the name to its attributes.
Secondly the class has to implement the directive interface to be recognized by the compiler as a directive.
Inside the class you have to declare the prefixed properties and override the methods you will be using.
The <code class="highlighter-rouge">static instance()</code> method has to be declared to let your module know that there is a new directive.
At the end you register the directive to your module with the instance as value.</p>

<h2 id="final-note">Final note</h2>

<p>Best practices can change over time. 
With webpack for example the registry to the module is contained in one file.
TypeScript keeps on growing, and in my opinion <strong>will be the default language for many future front-end projects.</strong>
When it comes to testing our code, TypeScript will provide better support because of encapsulation. 
Finally, this is a nice learning path to take if you want to migrate to Angular 2.</p>

        </div>
    </div>
    <div class="share-page" >
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://ordina-jworks.github.io/angular/2016/03/16/AngularTS.html&title=AngularTS: A new look @ Angular&source=https://ordina-jworks.github.io" rel="nofollow" target="_blank" title="Share on LinkedIN">
            <img src="/img/social-media/LinkedIn.png"
                 alt="Share on LinkedIn" />
        </a>
        <a href="https://twitter.com/intent/tweet?text=AngularTS: A new look @ Angular&url=https://ordina-jworks.github.io/angular/2016/03/16/AngularTS.html&via=lifeatordinabe&related=lifeatordinabe" rel="nofollow" target="_blank" title="Share on Twitter">
            <img src="/img/social-media/Twitter.png"
                 alt="Share on Twitter" />
        </a>
        <a href="https://facebook.com/sharer.php?u=https://ordina-jworks.github.io/angular/2016/03/16/AngularTS.html" rel="nofollow" target="_blank" title="Share on Facebook">
            <img src="/img/social-media/Facebook.png"
                 alt="Share on Facebook" />
        </a>
    </div>
        
</section>


<section id="two" class="wrapper alt spotlight style2">
    
    <div class="inner">
        <a href="/author/kevin-van-houtte/" class="image spotlight-image" title="">
            <img src="/img/author/kevin-van-houtte.jpg"
                 alt="" class="p-image"/>
        </a>

        <div class="content">
            
            <p><p>Kevin Van Houtte is a Software Engineer at Ordina Belgium. Passionate in the Spring ecosystem, Kevin is eager to discover new and efficient ways to solve problems. He enjoys a good challenge and is interested in cutting edge technologies. Kevin has a strong focus on building cloud native architectures with the right mindset on security and API design.</p>
</p>
            
        </div>
    </div>
    
</section>

        </div>
    </section>
</div>



<footer>
    <div class="contact">
        <div class="address">
            <div class="icon"><i class="fa fa-fw fa-home"></i></div>
            <div class="text">Ordina Belgium<br/>Blarenberglaan 3B,<br/>2800 Mechelen, Belgium</div>
        </div>
        <div class="phone">
            <div class="icon"><i class="fa fa-fw fa-phone"></i></div>
            <div class="text"><a href="tel:003215295858">+32 15 29 58 58</a></div>
        </div>
        <div class="email">
            <div class="icon"><i class="fa fa-fw fa-envelope-o"></i></div>
            <div class="text"><a href="mailto:jworks@ordina.be">jworks@ordina.be</a></div>
        </div>
    </div>
    <ul class="social">
        <li>
            <a href="https://twitter.com/lifeatordinabe" target="_blank">
                <i class="fa fa-fw fa-twitter"></i><span>Twitter</span>
            </a>
        </li>
        <li>
            <a href="https://www.facebook.com/lifeatordinabe" target="_blank">
                <i class=" fa fa-fw fa-facebook"></i><span>Facebook</span>
            </a>
        </li>
        <li>
            <a href="https://www.linkedin.com/company/ordina-belgium" target="_blank">
                <i class=" fa fa-fw fa-linkedin"></i><span>LinkedIn</span>
            </a>
        </li>
        <li>
            <a href="https://plus.google.com/113222464071666722451" target="_blank">
                <i class=" fa fa-fw fa-google-plus"></i><span>Google+</span>
            </a>
        </li>
        <li>
            <a href="/youtube" target="_blank">
                <i class=" fa fa-fw fa-youtube"></i><span>YouTube</span>
            </a>
        </li>
        <li>
            <a href="/github" target="_blank">
                <i class=" fa fa-fw fa-github"></i><span>GitHub</span>
            </a>
        </li>
        <li>
            <a href="/feed.xml" target="_blank">
                <i class=" fa fa-fw fa-rss"></i><span>RSS Feed</span>
            </a>
        </li>
    </ul>
    <div class="copyright">
        &copy; 2019 Ordina JWorks. All rights reserved.
        <br /> Disclaimer: Opinions expressed on this blog reflect the writer's views and not the position of Ordina
        <img id="analyticsImg" src="" width="1" height="1" style="border: 0px"/>
    </div>
</footer>
<!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/jquery.pin.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]>
<script src="/js/ie/respond.min.js"></script><![endif]-->


<script>
    var imageHref = "/img/angularts.jpg";
    $(function () {
        $('body').addClass('toggle');
    });
</script>


<script src="/js/main.js"></script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o);
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-70040502-1', 'auto');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
    window.addEventListener('load', function () {
        if (window.ga && ga.create) {
            console.log('GA loaded correctly');
        } else {
            console.log('GA is blocked or failed to load - tracking manually...')
            document.getElementById('analyticsImg').src = 'https://jworks-techblog-analytics.cfapps.io/collect?title=' + document.title;
        }
    }, false);
</script>

<!-- Vertical timeline -->
<script src="/js/vertical-timeline/modernizr.js"></script>
<script src="/js/vertical-timeline/main.js"></script>


</body>
</html>
